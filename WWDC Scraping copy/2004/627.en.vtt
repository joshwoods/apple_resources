WEBVTT

00:00:15.460 --> 00:00:17.300
Welcome to Inside Directory Services.

00:00:17.330 --> 00:00:21.220
Just as a summary,
how many of you were here last year?

00:00:21.440 --> 00:00:23.860
How many of you had a seat last year?

00:00:23.860 --> 00:00:25.020
OK, far fewer.

00:00:25.050 --> 00:00:26.130
They gave us a bigger room.

00:00:26.230 --> 00:00:28.430
Thank you for attending last year.

00:00:28.490 --> 00:00:32.190
For those of you who were here last year,
I promised a pool, an open bar.

00:00:32.370 --> 00:00:35.580
They told me they couldn't install
a pool on the second floor.

00:00:35.610 --> 00:00:38.880
And the Jamba Juice bar is apparently
the closest I could get for an open bar.

00:00:38.920 --> 00:00:41.810
So please, please partake of that.

00:00:42.280 --> 00:00:44.540
So we're going to be talking about
Directory Services this year.

00:00:44.540 --> 00:00:46.110
Again, my name is David Michael O'Rourke.

00:00:46.300 --> 00:00:48.340
I'm the engineering
manager for Open Directory.

00:00:48.390 --> 00:00:51.060
And we have an exciting program
and a lot of exciting developments.

00:00:51.060 --> 00:00:52.270
So why don't we get started?

00:00:52.280 --> 00:00:54.610
I have a lot of material to cover.

00:00:55.880 --> 00:00:58.340
So the overview of what we're
going to cover today is Apple's

00:00:58.350 --> 00:00:59.560
Open Directory technology.

00:00:59.560 --> 00:01:01.560
What is it for those of you
who are not familiar with it?

00:01:01.630 --> 00:01:02.940
What is Directory Services?

00:01:03.140 --> 00:01:05.800
A review of what we've already
accomplished in Panther,

00:01:06.000 --> 00:01:08.810
future plans for Tiger,
and we hope to follow up with some

00:01:08.810 --> 00:01:11.030
interesting questions and answers.

00:01:11.560 --> 00:01:13.340
So Open Directory is a technology name.

00:01:13.340 --> 00:01:15.960
It covers both how the
clients access directories,

00:01:15.960 --> 00:01:18.970
and it also talks about how we
integrate with industry standards.

00:01:18.970 --> 00:01:22.570
We also provide an Open Directory server,
which is a combination

00:01:22.570 --> 00:01:26.690
of LDAP and MIT KDC,
the password server, and the Samba PDC.

00:01:28.100 --> 00:01:30.250
Open Directory is built into
Mac OS X client and server,

00:01:30.260 --> 00:01:32.710
and it's been there since
the original 10.0 release,

00:01:32.710 --> 00:01:34.500
and it's open sourced as part of Darwin.

00:01:34.500 --> 00:01:36.860
So we're not keeping
anything secret here.

00:01:36.860 --> 00:01:39.120
If you want to see how
Open Directory does its work and

00:01:39.120 --> 00:01:41.640
maybe port it to Linux or something,
you can go download it

00:01:41.640 --> 00:01:44.280
from the Darwin website and
bring it to that platform.

00:01:45.720 --> 00:01:48.510
This slide is a quick review of
the technologies and the timeline

00:01:48.570 --> 00:01:49.960
of where we're going to be.

00:01:49.960 --> 00:01:52.600
So we started out with Mac OS 10.0.

00:01:52.800 --> 00:01:54.530
We had it only on the server.

00:01:54.530 --> 00:01:55.800
We had LDAP v2.

00:01:56.460 --> 00:01:57.060
We then added to 10.0.

00:01:57.830 --> 00:01:59.090
We then added to the desktop for 10.1.

00:01:59.180 --> 00:02:02.420
Everything in blue is the new
incremental change for that release.

00:02:02.420 --> 00:02:06.650
So LDAP v3, the NIS and flat file plugin,
Apple Talk, SLP, Rendezvous,

00:02:06.660 --> 00:02:08.380
and SMB for 10.2.

00:02:08.380 --> 00:02:10.500
In 10.3,
we added Active Directory support

00:02:10.550 --> 00:02:12.680
as well as firming up the
plugins that were there.

00:02:12.680 --> 00:02:14.600
And for Tiger,
we have a whole bunch of new exciting

00:02:14.650 --> 00:02:17.360
features that we're going to get
into later in the presentation.

00:02:19.700 --> 00:02:21.340
What is Directory Services?

00:02:21.380 --> 00:02:23.920
The first and most important part
of Directory Services is it's an

00:02:23.920 --> 00:02:28.210
abstraction API for allowing applications
to write to one set of APIs and not

00:02:28.220 --> 00:02:29.890
have to care about the back-end storage.

00:02:29.940 --> 00:02:34.000
And the typical information access
to an Open Directory is users,

00:02:34.020 --> 00:02:38.290
groups, mount records,
and other types of configuration data.

00:02:38.300 --> 00:02:43.210
It also contains a full authentication
abstraction to conducting challenge

00:02:43.240 --> 00:02:47.100
response protocols like APOP,
NTLMv2, or CRAMv5.

00:02:47.960 --> 00:02:52.320
Apple layers all of their software
on top of Directory Services.

00:02:52.320 --> 00:02:54.990
So we put all of our
Mac OS X software on top of

00:02:55.000 --> 00:02:58.980
Directory Services from login window,
all the server admin tools,

00:02:58.980 --> 00:03:02.000
even system preferences,
all use Directory Services to show

00:03:02.000 --> 00:03:04.020
you all of that configuration data.

00:03:04.020 --> 00:03:06.260
And on the back-end
of Directory Services,

00:03:06.260 --> 00:03:10.120
we have various plug-ins for NetInfo,
LDAP, BSD files, and others.

00:03:10.120 --> 00:03:13.160
And we even have some third-party
plug-ins where third parties

00:03:13.160 --> 00:03:14.950
have extended Open Directory.

00:03:17.600 --> 00:03:22.570
What does Directory Services in
10.3 include?

00:03:22.630 --> 00:03:25.900
It includes an LDAPv3 read and
write plugin so that we can

00:03:25.900 --> 00:03:27.580
work with any LDAPv3 server.

00:03:27.600 --> 00:03:32.600
It includes a native
Active Directory plugin that

00:03:32.600 --> 00:03:32.600
was new last year and I believe
there was some applause.

00:03:32.600 --> 00:03:38.240
We have NetInfo,
which is Apple's legacy directory server,

00:03:38.240 --> 00:03:43.600
and we have read-only support
for NIS and BSD/SE files.

00:03:43.600 --> 00:03:47.590
We also, as of Jaguar,
started adding service discovery.

00:03:47.600 --> 00:03:50.160
So we have service discovery
plugins for Rendezvous,

00:03:50.210 --> 00:03:53.600
SMB or Windows networks, AppleTalk,
and SLP.

00:03:53.600 --> 00:03:58.600
So, /network,
how many of you browse /network ever?

00:03:58.600 --> 00:03:59.070
Okay.

00:03:59.200 --> 00:04:02.600
Everything you see in /network
comes out of Open Directory.

00:04:02.600 --> 00:04:05.390
The LDAPv3 client also
supports replication failover,

00:04:05.480 --> 00:04:07.600
so you can set up multiple LDAP servers.

00:04:07.600 --> 00:04:10.120
If one goes down,
the LDAPv3 client will find

00:04:10.130 --> 00:04:12.600
another and your users won't
notice that your server crashed.

00:04:12.600 --> 00:04:17.240
Documented access APIs and plugin APIs,
there's an SDK,

00:04:17.240 --> 00:04:20.720
we have lots of sample code,
and there are now command line tools

00:04:20.720 --> 00:04:24.040
that we started including since,
I believe Tiger was

00:04:24.040 --> 00:04:26.600
the first command line,
or Jaguar,

00:04:26.600 --> 00:04:27.570
Panther was the first command line tool.

00:04:27.600 --> 00:04:30.600
And the most popular
of these tools is DSCL.

00:04:30.600 --> 00:04:32.600
I actually get a lot of
questions what that stands for.

00:04:32.600 --> 00:04:35.590
That stands for
Directory Services Command Line.

00:04:35.630 --> 00:04:36.600
Nothing more, nothing less.

00:04:36.600 --> 00:04:39.740
So we call it DSCL and it's our
favorite tool because it allows

00:04:39.750 --> 00:04:41.600
us to debug what's going wrong.

00:04:41.600 --> 00:04:43.100
wrong.

00:04:43.600 --> 00:06:13.400
[Transcript missing]

00:06:13.960 --> 00:06:17.510
In 10.3, the Finder network browsing
was moved on to Open Directory,

00:06:17.640 --> 00:06:21.000
so this is a typical view of Slash
Network that you see on the Finder.

00:06:21.000 --> 00:06:24.940
All of the data that's in the middle
column there comes from Open Directory.

00:06:24.940 --> 00:06:28.340
The server list, the stuff on the right,
also comes from Open Directory.

00:06:28.340 --> 00:06:31.340
So Open Directory controls the
vertical and the horizontal of

00:06:31.340 --> 00:06:33.240
what shows up under Slash Network.

00:06:33.240 --> 00:06:36.260
So if you go to Directory Access and
you turn off Apple Talk,

00:06:36.310 --> 00:06:39.680
all the Apple Talk zones will
disappear from Slash Network.

00:06:39.680 --> 00:06:41.800
If you turn it back on,
they'll all reappear.

00:06:42.660 --> 00:06:45.550
So you use Directory Access to
control this,

00:06:45.550 --> 00:06:48.810
and so when you're browsing
to connect to servers,

00:06:48.810 --> 00:06:50.950
you're using Open Directory.

00:06:52.260 --> 00:06:53.620
This slide is an old slide.

00:06:53.720 --> 00:06:55.820
Any of you who have seen this
before now recognize this,

00:06:55.900 --> 00:06:58.380
but apparently there's some new people
in the audience that will go over it.

00:06:58.490 --> 00:07:01.440
So when we started doing Open Directory,
we had a problem.

00:07:01.440 --> 00:07:05.200
We didn't want to have to recode
all of the open source POSIX or

00:07:05.200 --> 00:07:07.440
BSD code to use a new set of APIs.

00:07:07.440 --> 00:07:12.280
So we had to figure out how to get those
tools to use Open Directory without

00:07:12.570 --> 00:07:14.440
having to recode them.

00:07:14.440 --> 00:07:17.170
So fortunately,
the Next people had already

00:07:17.370 --> 00:07:20.380
solved that problem on Next Step,
and they had written in

00:07:20.410 --> 00:07:21.440
a module called LookUpD.

00:07:21.470 --> 00:07:24.440
And they had already moved all
the POSIX stuff onto LookUpD.

00:07:24.440 --> 00:07:27.790
So the system already had abstracted
where most of those tools get

00:07:27.820 --> 00:07:29.440
users and groups information.

00:07:29.440 --> 00:07:33.440
So we simply added a plugin to
LookUpD to call into Directory Services,

00:07:33.440 --> 00:07:37.530
and voila, any plugins you add
to Directory Services,

00:07:37.560 --> 00:07:40.770
you benefit both native applications
using Directory Services and

00:07:40.770 --> 00:07:43.440
legacy applications using LookUpD.

00:07:43.440 --> 00:07:46.970
And the whole system then gets a
unified view of what its users,

00:07:47.000 --> 00:07:49.030
groups, and mount records are.

00:07:51.120 --> 00:07:56.140
So Mac OS X 3 server includes
a complete directory server.

00:07:56.220 --> 00:08:00.330
It includes LDAP v3
based on OpenLDAP 2.1.x.

00:08:00.340 --> 00:08:02.960
Jason, what's the x right now?

00:08:03.280 --> 00:08:03.860
Point two?

00:08:03.860 --> 00:08:05.750
22, thank you.

00:08:05.750 --> 00:08:09.240
We support Mac OS 10.2 and 10.3 clients.

00:08:09.240 --> 00:08:13.460
We enhanced the Open Directory password
server to support SASL-based

00:08:13.500 --> 00:08:15.620
authentication and replication.

00:08:15.620 --> 00:08:19.140
We added a fully integrated Kerberos
server with the help of MIT,

00:08:19.180 --> 00:08:22.190
and we support Windows client
integration by PDC.

00:08:22.200 --> 00:08:24.360
So you can set up an
Open Directory server,

00:08:24.360 --> 00:08:26.640
create users and groups,
and use them both on

00:08:26.700 --> 00:08:29.220
Windows and on Macintosh,
and if they change their

00:08:29.220 --> 00:08:31.260
password on Windows,
it reflects on the

00:08:31.260 --> 00:08:32.760
Macintosh and vice versa.

00:08:33.260 --> 00:08:36.920
So you can set up a fully
integrated heterogeneous network.

00:08:37.730 --> 00:08:40.940
Replication support for LDAP and
authentication was added.

00:08:40.940 --> 00:08:43.510
This is important so that
you don't have a single point

00:08:43.510 --> 00:08:45.040
of failure on your network.

00:08:45.040 --> 00:08:47.040
Thank you.

00:08:47.550 --> 00:08:49.500
So we did the server.

00:08:49.500 --> 00:08:50.620
You have Panther.

00:08:50.750 --> 00:08:52.530
Let's talk about what's
going on in Tiger.

00:08:52.590 --> 00:08:55.290
So we are making changes to
Directory Services for Tiger,

00:08:55.360 --> 00:08:58.370
which I believe is why
everyone's in the audience.

00:08:58.690 --> 00:08:59.660
So what's new for Tiger?

00:08:59.810 --> 00:09:02.700
We have enhancements
to the LDAPv3 plugin.

00:09:02.760 --> 00:09:05.240
We have enhancements to the
Active Directory plugin.

00:09:05.250 --> 00:09:07.100
We have enhancements to the server suite.

00:09:07.100 --> 00:09:09.570
We have enhancements to
the administration tools.

00:09:09.600 --> 00:09:12.960
Believe it or not,
how many of you attended the excellent

00:09:12.960 --> 00:09:15.600
Access Control presentation on Tuesday?

00:09:15.600 --> 00:09:19.600
Well, Access Controls don't come for free
without affecting the Directory Server.

00:09:19.600 --> 00:09:21.380
If you want nested groups,
you're going to have to have some

00:09:21.380 --> 00:09:22.580
way to store them in the Directory.

00:09:22.660 --> 00:09:26.600
So Directory Services didn't get off
scot-free in the Access Control model,

00:09:26.600 --> 00:09:29.660
and we have some changes that
we're adopting to support another

00:09:29.730 --> 00:09:32.600
part of the product that's
a big feature here at Tiger.

00:09:32.690 --> 00:09:35.600
We have enhancements to network browsing
that we call Managed Network Browsing.

00:09:35.600 --> 00:09:37.870
I have a feeling that's
going to be very popular.

00:09:37.870 --> 00:09:41.160
And we have some further refinements
to local and server authentication

00:09:41.170 --> 00:09:42.630
that we're going to go over.

00:09:42.700 --> 00:10:46.900
[Transcript missing]

00:10:48.180 --> 00:10:52.060
In order to implement this,
we have to provide each computer

00:10:52.060 --> 00:10:53.990
with an account in the LDAP server.

00:10:54.070 --> 00:10:57.600
Well, this also now provides the ability
to lock down your LDAP server

00:10:57.600 --> 00:10:59.160
to only your trusted clients.

00:10:59.160 --> 00:11:04.470
So, coming in Tiger or shortly after,
we'll have options to lock down

00:11:04.470 --> 00:11:07.960
the directory server so that only
the people who have been bound to

00:11:08.000 --> 00:11:09.200
it are allowed to read the data.

00:11:09.200 --> 00:11:12.960
And this will be the beginning of
a very long transition for Apple to

00:11:12.960 --> 00:11:17.200
be able to no longer have to have
your directory system world readable,

00:11:17.200 --> 00:11:19.520
which has been a historic
requirement up until now.

00:11:19.540 --> 00:11:22.950
We also have command line tools
to support mass deployment.

00:11:22.960 --> 00:11:24.600
So, if you want to,
we don't want you to have

00:11:24.610 --> 00:11:27.440
to visit 15,000 machines,
go to directory access,

00:11:27.440 --> 00:11:28.900
and enter a computer name and ID.

00:11:28.900 --> 00:11:31.890
We're providing a command
line tool along the lines of

00:11:31.890 --> 00:11:34.490
DS Active Directory Config or
DSAD Config.

00:11:34.500 --> 00:11:36.900
We're providing DS LDAP Config.

00:11:36.900 --> 00:11:37.950
Is that where we're?

00:11:37.960 --> 00:11:38.960
Okay.

00:11:39.200 --> 00:11:42.760
So, we're providing a config tool
which will support mass deployment

00:11:42.760 --> 00:11:46.010
for you net administrators who
want to build a system image.

00:11:47.320 --> 00:11:49.240
Active Directory client changes.

00:11:49.360 --> 00:11:51.220
Active Directory is
continuing to be developed.

00:11:51.230 --> 00:11:52.110
We're not done.

00:11:52.120 --> 00:11:53.080
Neither is Microsoft.

00:11:53.180 --> 00:11:56.200
We've got to keep up with any
changes they add to Active Directory.

00:11:56.200 --> 00:12:00.220
So we're moving aggressively in
that space and making sure that all

00:12:00.220 --> 00:12:02.230
the work we do is still relevant.

00:12:02.460 --> 00:12:05.730
Some AD enhancements have
already shipped in 10.3 updates.

00:12:05.740 --> 00:12:08.240
We now support SMB network
home directories.

00:12:08.240 --> 00:12:11.740
In the original release of Panther,
you couldn't do SMB home directories.

00:12:11.740 --> 00:12:14.930
If you use the command line
Active Directory Configuration tool,

00:12:14.940 --> 00:12:17.300
you can enable SMB home directories.

00:12:17.380 --> 00:12:21.840
We've improved compatibility with a wider
range of Active Directory configurations.

00:12:21.840 --> 00:12:24.930
Some customers had configurations
we didn't anticipate.

00:12:24.930 --> 00:12:25.950
They didn't work.

00:12:25.950 --> 00:12:26.810
We fixed it.

00:12:26.980 --> 00:12:29.890
and Tiger Server will have improved
Active Directory integration.

00:12:29.950 --> 00:12:32.990
You will now be able
to take a Tiger Server,

00:12:33.050 --> 00:12:36.630
point it to an Active Directory system,
and use the Kerberos services of the

00:12:36.630 --> 00:12:39.570
Active Directory system natively.

00:12:42.630 --> 00:12:44.200
In addition,
the development team has been

00:12:44.200 --> 00:12:46.660
burning the midnight oil,
and we figured out how to do it

00:12:46.710 --> 00:12:49.270
such that you don't even have to use
the Active Directory administration

00:12:49.270 --> 00:12:49.890
tools to do it.

00:12:49.960 --> 00:12:54.110
You can do everything from
within server administration.

00:12:55.590 --> 00:12:59.230
The AD plugin will also fully
support Active Directory groups

00:12:59.230 --> 00:13:00.740
for file system ACLs.

00:13:00.800 --> 00:13:04.040
So if you have an
Active Directory system in your network,

00:13:04.040 --> 00:13:08.660
you can use Tiger's new file
system access control support with

00:13:08.660 --> 00:13:12.200
Active Directory groups natively,
including the nested groups.

00:13:14.710 --> 00:13:17.580
And of course,
we'll continue to work with Microsoft,

00:13:17.580 --> 00:13:19.490
and they will continue
to send us bug reports,

00:13:19.550 --> 00:13:20.660
and we will address them.

00:13:20.660 --> 00:13:23.300
And we want to be cooperative
with Microsoft because

00:13:23.350 --> 00:13:26.580
Active Directory is here to stay,
and we're going to make sure Mac OS X is

00:13:26.640 --> 00:13:28.150
a first-class citizen of those networks.

00:13:30.750 --> 00:13:33.700
So let's talk about the
Open Directory Server Suite.

00:13:33.700 --> 00:13:37.970
Open Directory consists of four servers
cleverly hidden behind a single checkbox

00:13:38.020 --> 00:13:39.900
of let's become an Open Directory master.

00:13:39.900 --> 00:13:43.700
It consists of OpenLDAP,
the password server,

00:13:43.700 --> 00:13:48.810
the MIT KDC with some very minor tweaks,
and the Samba PDC, and now with Tiger,

00:13:48.810 --> 00:13:50.560
a backup domain controller.

00:13:50.560 --> 00:13:53.710
So when you say I want to become an
Open Directory master or replica,

00:13:53.790 --> 00:13:56.870
what's happening underneath the
covers is we're running out and

00:13:56.870 --> 00:14:00.680
configuring four different services to
all work in unison with each other to

00:14:00.870 --> 00:14:03.970
provide a single directory experience.

00:14:04.490 --> 00:14:08.470
The Tiger Open Directory Server will
migrate to the newest OpenLDAP server,

00:14:08.470 --> 00:14:10.210
which is currently 2.2.7.

00:14:10.210 --> 00:14:13.860
That will change because we don't
control the OpenLDAP development cycle.

00:14:13.860 --> 00:14:15.090
They'll be on a newer version.

00:14:15.090 --> 00:14:16.720
If possible,
we'll ship the newest version.

00:14:16.720 --> 00:14:20.120
What's in the Tiger CD today
is OpenLDAP 2.2.7.

00:14:20.120 --> 00:14:23.040
That's an upgrade from 2.1.22.

00:14:23.040 --> 00:14:26.090
We'll be adding some new features,
which I'll be going

00:14:26.110 --> 00:14:27.620
over in another slide.

00:14:27.620 --> 00:14:30.120
We'll have some minor updates
to the password server.

00:14:30.120 --> 00:14:32.200
We'll ship the latest MIT KDC.

00:14:32.480 --> 00:14:37.050
Samba PDC will be upgraded to offer
backup domain controller functionality.

00:14:37.080 --> 00:14:39.680
If your Open Directory master
has to be taken offline for

00:14:39.740 --> 00:14:43.890
backups or some other reason,
you can have a backup domain controller

00:14:43.890 --> 00:14:46.630
so your Windows users can still log on.

00:14:47.060 --> 00:14:49.240
Most of these changes will
be transparent to the client.

00:14:49.240 --> 00:14:50.500
In fact, I think all of them will.

00:14:50.500 --> 00:14:52.700
I just did most because
you can never promise all.

00:14:52.700 --> 00:14:55.940
But 10.3 and 10.2 clients
will continue to work,

00:14:55.940 --> 00:14:59.260
and there should be no noticeable
difference on your client side.

00:15:01.420 --> 00:15:08.460
So for Open Directory LDAP changes,
we are investing in Open LDAP.

00:15:08.550 --> 00:15:11.960
Up until now, we've just been compiling,
importing, and integrating Open LDAP,

00:15:11.960 --> 00:15:14.310
but we're beginning an effort
of actually improving it.

00:15:14.390 --> 00:15:17.480
Open LDAP has some deficiencies
that we wish to address.

00:15:17.480 --> 00:15:20.550
All of the changes that we're going
to make will be submitted back

00:15:20.650 --> 00:15:23.770
to the Open LDAP team as well as
being posted on the Darwin website,

00:15:23.780 --> 00:15:26.760
so none of these changes will
be secret or proprietary.

00:15:26.820 --> 00:15:30.610
The biggest changes we're
doing is currently right now,

00:15:30.830 --> 00:15:33.900
Open LDAP keeps all of the
schema in a config file.

00:15:33.900 --> 00:15:36.770
Well, the problem with that is if
you have a lot of replicas,

00:15:36.800 --> 00:15:39.120
you have to run around each
of the replicas and manually

00:15:39.120 --> 00:15:40.260
update the config file.

00:15:40.260 --> 00:15:43.100
We thought it would be kind
of cool to use the replication

00:15:43.100 --> 00:15:46.510
technology to actually migrate
or propagate the schema changes,

00:15:46.510 --> 00:15:49.600
so we're now offering an optional
configuration where all of

00:15:49.600 --> 00:15:52.760
the LDAP schema is actually
stored in the LDAP database.

00:15:52.760 --> 00:15:56.450
So replication and administrative
changes are all propagated.

00:15:56.820 --> 00:16:04.120
We're also moving the LDAP access control
model to be stored in the directory.

00:16:04.120 --> 00:16:07.530
So through Workgroup Manager and Spectre,
you'll be able to add new

00:16:07.540 --> 00:16:10.660
schema to the LDAP server,
change the access control model,

00:16:10.660 --> 00:16:13.720
hit save, and you don't have to visit
each of the replicas and

00:16:13.720 --> 00:16:15.700
manually update the config file.

00:16:15.700 --> 00:16:17.940
We think this will be a huge
feature and should really

00:16:17.940 --> 00:16:19.420
ease the administration load.

00:16:19.460 --> 00:16:22.500
And as it says there,
all the changes will be open source

00:16:22.510 --> 00:16:26.120
and given to the Open LDAP project
as well as posted on Darwin.

00:16:28.410 --> 00:16:32.700
Open Directory will also expose support
for LDAP's organizational units.

00:16:32.700 --> 00:16:34.870
We've received a lot of
requests to be able to set up

00:16:34.870 --> 00:16:36.290
folders in the LDAP server.

00:16:36.300 --> 00:16:39.920
I want to set up a single LDAP server,
have a group of users for marketing,

00:16:39.920 --> 00:16:43.030
a group of users for engineering,
and a group of users for finance.

00:16:43.080 --> 00:16:46.820
We'll now offer direct support for
structuring your LDAP server into

00:16:46.820 --> 00:16:50.720
subgroups through LDAP's existing
and excellent support for the OU,

00:16:50.720 --> 00:16:53.050
or Organizational Unit, scheme.

00:16:53.270 --> 00:16:56.860
This will allow a single LDAP server
to host multiple groups of users or

00:16:56.860 --> 00:17:01.060
mount records or preference data or
whatever is stored in Open Directory.

00:17:01.060 --> 00:17:06.050
We think this will be a wonderful
feature and we're looking forward to it.

00:17:08.620 --> 00:17:10.500
Unfortunately, nothing comes for free.

00:17:10.500 --> 00:17:13.580
Because of all the changes
we're putting in LDAP,

00:17:13.670 --> 00:17:17.680
it's just impossible to mix older
LDAP servers with newer LDAP servers,

00:17:17.750 --> 00:17:20.800
because the old LDAP servers don't know
to look for the schema in the directory.

00:17:20.800 --> 00:17:23.640
The old LDAP servers don't know
that there's organizational units.

00:17:24.270 --> 00:17:27.870
Therefore, it will not be possible
to mix 10.3 servers for

00:17:28.040 --> 00:17:30.640
Open Directory with 10.4 servers.

00:17:30.640 --> 00:17:34.480
So your Open Directory system will
either have to be based on Panther,

00:17:34.480 --> 00:17:38.800
or you'll have to move the entire system
with all of its replicas up to Tiger.

00:17:38.800 --> 00:17:41.300
We tried,
it's just not possible to mix with all

00:17:41.300 --> 00:17:43.610
the changes we're putting in Open LDAP.

00:17:43.680 --> 00:17:46.230
So this should make it easier
for an administration load,

00:17:46.230 --> 00:17:49.170
because any of the options we
explored around mixing the two would

00:17:49.170 --> 00:17:50.980
be an administrative nightmare.

00:17:50.980 --> 00:17:53.800
So we'll provide migration tools.

00:17:54.020 --> 00:17:55.620
There will be clear documentation.

00:17:55.620 --> 00:17:56.720
It should be pretty simple.

00:17:56.720 --> 00:17:58.540
There's not that many
Open Directory masters and

00:17:58.540 --> 00:17:59.710
replicas on your networks.

00:17:59.720 --> 00:18:04.110
Only those machines will need to
be all the same version of the OS.

00:18:04.490 --> 00:18:08.230
I want to be clear,
Tiger Client can use either.

00:18:08.390 --> 00:18:11.630
It's just the servers that you can't mix.

00:18:12.560 --> 00:18:15.360
Mac OS X Server Administration tools
are also being enhanced.

00:18:15.360 --> 00:18:18.290
These are Workgroup Manager,
Server Admin.

00:18:18.300 --> 00:18:22.730
The two major features in Workgroup
Manager are ones that have been done as

00:18:22.760 --> 00:18:24.460
a direct result of customer feedback.

00:18:24.460 --> 00:18:27.760
Therefore, you can applaud if you want,
but we already know you've been

00:18:27.760 --> 00:18:30.480
begging us for these for years,
so we're finally going to address them.

00:18:30.480 --> 00:18:32.640
The first one is a GUI-based import tool.

00:18:32.650 --> 00:18:36.340
Currently, if you want to do import,
you have to specify this rather

00:18:36.340 --> 00:18:39.640
archaic first line in the import file,
and people have told us

00:18:39.640 --> 00:18:41.100
they don't like to do that.

00:18:41.310 --> 00:18:42.300
They're Macintosh users.

00:18:42.300 --> 00:18:45.610
They don't want to have to learn
archaic first lines of import files.

00:18:45.620 --> 00:18:48.560
So we're doing a picker,
which lets you browse the import

00:18:48.690 --> 00:18:51.770
file and pick fields and say
this field is the UID field,

00:18:51.780 --> 00:18:53.160
this field is the record name field.

00:18:53.160 --> 00:18:56.920
It's not any different than what
Excel or FileMaker does for an import.

00:18:56.920 --> 00:18:58.200
This will be a huge feature.

00:18:59.810 --> 00:19:02.330
The next feature is, in my mind,
the most exciting feature,

00:19:02.330 --> 00:19:03.040
Search and Apply.

00:19:03.040 --> 00:19:05.700
Currently, we have a relatively
simplistic search function.

00:19:05.700 --> 00:19:08.260
But what if you have a
directory with 500,000 users,

00:19:08.260 --> 00:19:10.480
and you want to find all the
third graders and move them

00:19:10.580 --> 00:19:12.060
from one file server to another?

00:19:12.060 --> 00:19:14.490
You can do that with Batch
Edit if you command-click each

00:19:14.490 --> 00:19:17.280
of the individual entries,
but that gets kind of laborious.

00:19:17.290 --> 00:19:19.580
I tried doing it for 50,
and I just couldn't get

00:19:19.690 --> 00:19:21.080
the 50th click right.

00:19:21.500 --> 00:19:23.440
So we've added Search and Apply.

00:19:23.450 --> 00:19:26.310
This is the ability to
specify arbitrary queries,

00:19:26.370 --> 00:19:28.380
and then we can also make changes.

00:19:28.380 --> 00:19:31.450
It's akin to Find and
Replace in a developer tool.

00:19:31.450 --> 00:19:34.290
So what you can do with
Search and Apply is say,

00:19:34.290 --> 00:19:38.060
find me all the user records who
have a keyword of third grade,

00:19:38.060 --> 00:19:41.000
and for every record
that meets that criteria,

00:19:41.000 --> 00:19:42.460
make this change.

00:19:42.460 --> 00:19:45.240
And it will run in the background
and generate a report when it's done,

00:19:45.240 --> 00:19:47.430
telling you what it did
to your directory system.

00:19:47.440 --> 00:19:50.700
So Search and Apply is a new change,
and it should greatly support

00:19:50.710 --> 00:19:51.450
the new directory system.

00:19:51.480 --> 00:19:56.270
We also have a new command line tool for
creating group records in the new schema.

00:19:56.390 --> 00:19:58.410
We are changing the group schema.

00:19:58.410 --> 00:20:02.470
The group schema will be GUID-based
instead of short-name-based.

00:20:02.470 --> 00:20:05.350
It also has nested groups,
which Unix has no.

00:20:05.360 --> 00:20:09.160
Since it's GUIDs, I don't think,
how many of you can type 128-bit

00:20:09.240 --> 00:20:10.800
UID off the top of your head?

00:20:10.800 --> 00:20:12.060
I didn't think so.

00:20:12.060 --> 00:20:15.660
So we will have a new command line tool,
which is in Tiger today,

00:20:15.660 --> 00:20:17.950
with a man page called DSEditGroup.

00:20:18.010 --> 00:20:21.480
DSEditGroup is a command line tool which
lets you compose the new directory.

00:20:21.480 --> 00:20:22.420
It's very simple.

00:20:22.520 --> 00:20:24.800
You specify a group name,
you specify a user name,

00:20:24.800 --> 00:20:28.460
and it will add and remove users to
the groups and compose them correctly.

00:20:28.460 --> 00:20:29.990
I encourage you to check it out.

00:20:30.060 --> 00:20:33.170
Workgroup Manager has already
been updated to compose groups.

00:20:33.180 --> 00:20:37.180
So a hidden feature in Workgroup
Manager is if you take the Tiger version

00:20:37.220 --> 00:20:40.840
that you have in your goodie bags,
you can take a group and drag it

00:20:40.840 --> 00:20:43.240
in using Workgroup Manager today.

00:20:43.240 --> 00:20:47.160
The operating system doesn't yet have
the kernel changes for recognizing that,

00:20:47.160 --> 00:20:49.680
but you can go ahead and
compose the group schema using

00:20:49.750 --> 00:20:51.340
the administration tools.

00:20:51.500 --> 00:20:56.230
And the Open Directory administration
will offer one-click backup and restore.

00:20:56.280 --> 00:20:59.480
What we will do in Server Admin,
there will be a backup button.

00:20:59.480 --> 00:21:03.840
It will backup your Kerberos data,
your password server data, your PDC data,

00:21:03.840 --> 00:21:06.490
your Open Directory data,
and dump it all into an encrypted

00:21:06.490 --> 00:21:07.840
disk image on the server.

00:21:07.840 --> 00:21:11.190
You can then move that disk
image wherever you want.

00:21:16.520 --> 00:21:19.170
And you'll be able to restore the
data with another single click,

00:21:19.230 --> 00:21:22.190
right Steve?

00:21:24.300 --> 00:23:10.100
[Transcript missing]

00:23:10.880 --> 00:23:14.210
So what I'd like to do at this time
is invite Jason Townsen up on stage

00:23:14.360 --> 00:23:17.020
so that he can show you some of the
cool directory services tools that

00:23:17.020 --> 00:23:18.600
we're shipping as part of Tiger.

00:23:20.720 --> 00:23:22.380
Thanks, Steve.

00:23:24.180 --> 00:23:26.120
All right, can we go over to demo one?

00:23:26.210 --> 00:23:27.530
Thank you.

00:23:27.640 --> 00:23:30.880
So I want to show you--

00:23:31.260 --> 00:23:33.900
A few things with the
Directory Service tools.

00:23:33.990 --> 00:23:37.120
Some of you might be
already familiar with DSCL,

00:23:37.180 --> 00:23:39.760
but go ahead and look at that.

00:23:40.020 --> 00:23:45.530
One change that we made in Tiger is
that you can start DSCL without

00:23:45.540 --> 00:23:48.740
giving it any parameters,
and that just puts it

00:23:48.740 --> 00:23:50.460
in interactive mode.

00:23:50.460 --> 00:23:56.350
So it's just as if you typed...

00:23:57.400 --> 00:24:00.820
Well, it's, yeah,
so for some reason that's not coming up.

00:24:00.850 --> 00:24:04.420
It's the same as if doing this,
DSCO local host.

00:24:09.100 --> 00:24:18.100
[Transcript missing]

00:24:18.700 --> 00:24:23.750
and David O'Rourke, Jason Townsend,

00:24:25.300 --> 00:24:31.700
[Transcript missing]

00:24:37.400 --> 00:24:43.600
Okay, can we... Let's see.

00:24:43.600 --> 00:24:45.180
I'm just going to go ahead and reboot.

00:24:47.600 --> 00:24:59.200
[Transcript missing]

00:25:08.140 --> 00:25:11.510
I just want to mention everything
went just fine when I ran through

00:25:11.520 --> 00:25:14.420
this about 20 minutes ago,
so I don't know what happened

00:25:14.420 --> 00:25:15.900
between then and now.

00:25:15.980 --> 00:25:21.860
But anyway, what I was going to show you,
and I will show you in just a moment,

00:25:21.860 --> 00:25:26.750
DSCL has an interactive mode where you
can explore your directory hierarchy.

00:25:26.840 --> 00:25:30.750
So you can do basically
anything you could do through

00:25:30.750 --> 00:25:34.550
the Directory Services API at
the command line,

00:25:34.560 --> 00:25:38.110
and it's a good way of
seeing what's going on at the

00:25:38.110 --> 00:25:45.090
lowest level or testing out,
for example,

00:25:45.140 --> 00:25:49.770
Like the get-dir-node-info,
you can do a read command and see all

00:25:49.770 --> 00:25:51.660
the attributes on a particular node.

00:25:51.660 --> 00:25:53.820
So if you're developing a
directory service plugin,

00:25:53.820 --> 00:25:59.180
it's very useful to be able
to do things at a low level.

00:26:03.400 --> 00:26:09.150
I accidentally booted
off the wrong partition.

00:26:11.600 --> 00:26:17.680
Anyway, so the other thing,
you can actually use

00:26:17.730 --> 00:26:19.030
DSCL to make modifications.

00:26:19.060 --> 00:26:22.300
So you can edit any attribute.

00:26:22.300 --> 00:26:24.920
You can create records
and delete records.

00:26:24.920 --> 00:26:28.420
Basically anything you would want to do.

00:26:28.420 --> 00:26:34.020
There's also a one-shot mode there,
which allows you to create scripts.

00:26:34.120 --> 00:26:38.700
So for example,
a lot of people may have used Nickel in

00:26:38.710 --> 00:26:44.050
the past or NIUtil to create scripts,
to create records or, you know,

00:26:44.110 --> 00:26:46.500
set up something in the directory.

00:26:46.500 --> 00:26:49.900
You can do all the same stuff that you
used to do with those tools using DSCL.

00:26:49.900 --> 00:26:55.170
And it's possible to use that against
LDAP or Active Directory or whatever

00:26:55.170 --> 00:26:58.240
directory service plugin is available.

00:26:58.240 --> 00:27:00.900
It's not limited to just NetInfo.

00:27:12.400 --> 00:27:32.200
[Transcript missing]

00:27:32.470 --> 00:27:36.840
Just to give you some control
over what shows up under /network.

00:27:36.840 --> 00:27:40.590
Let's see, what else?

00:27:42.500 --> 00:27:44.950
Yeah, basically,
if you've used /Network on

00:27:44.950 --> 00:27:49.280
a big corporate network,
you end up with hundreds

00:27:49.280 --> 00:27:52.360
of items in there,
and it's just really confusing.

00:27:52.360 --> 00:27:58.270
So we want to give you
a way to avoid that.

00:27:58.630 --> 00:28:01.400
Okay, can we go back to the demo machine,
please?

00:28:08.840 --> 00:28:12.800
Okay, I'm just logging in right now.

00:28:12.800 --> 00:28:15.510
All right, so let's start with DSCL.

00:28:20.880 --> 00:28:22.750
So, DSCL.

00:28:22.950 --> 00:28:26.620
So I can just type DSCL,
go straight into interactive mode.

00:28:29.280 --> 00:28:35.800
So just to tell you, because of all the
changes we've been doing,

00:28:35.800 --> 00:28:39.660
we've run into some problems like this,
but this is the sort of thing

00:28:39.660 --> 00:28:44.360
that's not going to be in the
shipping version of Tiger.

00:28:44.690 --> 00:28:47.900
This is just a transitional
kind of problem.

00:28:48.570 --> 00:28:50.560
But we debug things
like that all the time.

00:28:50.560 --> 00:28:53.260
With all the different threads
going on in Directory Service,

00:28:53.260 --> 00:28:54.590
it's possible to get deadlocks.

00:28:54.740 --> 00:28:57.470
So I can go into NetInfo,
and like I was saying,

00:28:57.470 --> 00:29:00.660
I can see all the attributes
on the node just by doing a

00:29:00.660 --> 00:29:02.600
read command at that level.

00:29:02.600 --> 00:29:05.600
I can see all the authentication
methods and the record types.

00:29:05.600 --> 00:29:07.570
It's a read-write node.

00:29:07.600 --> 00:29:10.640
There's all kinds of information there.

00:29:10.640 --> 00:29:13.810
I could go into groups,
and I can actually even do tab

00:29:13.810 --> 00:29:19.520
completion when I'm changing to
different levels in the hierarchy,

00:29:19.600 --> 00:29:21.370
which is pretty convenient.

00:29:21.610 --> 00:29:24.620
If you're used to using Nickel,
that's sort of a new

00:29:24.660 --> 00:29:26.600
feature in DSCL over Nickel.

00:29:26.600 --> 00:29:30.410
And I have a group here
called Engineering,

00:29:30.410 --> 00:29:31.600
actually.

00:29:31.600 --> 00:29:32.640
So I can see all my groups.

00:29:32.640 --> 00:29:36.630
I've got a group called Engineering.

00:29:37.900 --> 00:29:44.140
And you see in this group that there are,
in addition to the normal list of

00:29:44.140 --> 00:29:50.700
short names there that you're used to,
there are these group members, GUIDs,

00:29:50.750 --> 00:29:54.300
the Global Unique Identifiers.

00:29:54.300 --> 00:30:00.930
And so if I decided, well, actually,
there's a new guy just started.

00:30:01.080 --> 00:30:07.100
- I'm not really confident in doing that,
so actually what I could do is

00:30:07.100 --> 00:30:11.850
I could just go to Workgroup
Manager and bring that up,

00:30:11.860 --> 00:30:17.890
and then, you know, I could just go to
Workgroup Manager and say,

00:30:17.890 --> 00:30:17.890
"Hey, I'm going to do this."

00:30:18.020 --> 00:30:21.800
I'm going to go ahead
and do a quick test.

00:30:21.800 --> 00:30:23.800
I'm going to go ahead
and do a quick test.

00:30:23.800 --> 00:30:25.800
Maybe do it from Workgroup Manager.

00:30:26.430 --> 00:30:27.800
There we go.

00:30:27.800 --> 00:30:30.800
Once I log in,
I can go look at the groups.

00:30:30.800 --> 00:30:32.800
And I see all the members there.

00:30:32.800 --> 00:30:34.750
I can just drag Mike in.

00:30:34.880 --> 00:30:36.800
But actually I wanted to do
it from the command line.

00:30:36.800 --> 00:30:38.800
So let's go back to the command line.

00:30:38.970 --> 00:30:41.800
You can see how that would work in
Workgroup Manager pretty obviously.

00:30:42.210 --> 00:30:45.600
- Which is this new
tool we added in Tiger.

00:30:45.610 --> 00:30:47.700
And I'm gonna use the user admin.

00:30:47.710 --> 00:30:54.700
I'm gonna do an edit operation and
then just add Mike to engineering.

00:30:54.720 --> 00:30:57.330
And then it prompts me for my password.

00:30:57.540 --> 00:31:00.030
And at this point, it should be done.

00:31:00.270 --> 00:31:02.580
So go ahead and refresh that.

00:31:02.710 --> 00:31:03.860
And there's Mike in the group.

00:31:03.900 --> 00:31:04.910
Okay.

00:31:04.920 --> 00:31:06.920
So you can do all kinds
of things with this tool.

00:31:06.920 --> 00:31:11.160
I'm not going to go through all of them,
but you can remove users,

00:31:11.160 --> 00:31:15.120
you can read the group,
and you can create groups,

00:31:15.120 --> 00:31:16.850
change the GID,
all kinds of things like that.

00:31:16.870 --> 00:31:20.670
It's all in the man page
if you want to look at it.

00:31:20.950 --> 00:31:26.280
And so we're hoping that that will
make scripting of setting up these

00:31:26.280 --> 00:31:29.070
new groups really easy for you guys.

00:31:29.480 --> 00:31:34.080
And the other thing I wanted to show you,
this was actually there in Tiger,

00:31:34.080 --> 00:31:36.920
or in Panther already, is the inspector.

00:31:36.920 --> 00:31:40.870
So you can see all the same
stuff that you see in DSCL right

00:31:40.870 --> 00:31:43.070
there in Workgroup Manager.

00:31:43.210 --> 00:31:46.860
And if you don't see the inspector tab
and you don't see this little target,

00:31:46.860 --> 00:31:46.860
you're going to have to
go back and look at it.

00:31:46.860 --> 00:31:50.280
And if you don't see the target icon,
you can go into the preferences and

00:31:50.280 --> 00:31:53.780
just turn on show all records tab
and inspector to get that feature.

00:31:53.850 --> 00:31:59.600
And you can edit things in a raw mode if
you know exactly what you want to change.

00:32:00.020 --> 00:32:04.130
All right, so for part two of the demo,
since we're doing the extended demo,

00:32:04.320 --> 00:32:07.570
we'll go to look at /network.

00:32:07.630 --> 00:32:13.780
So let's take a look at what
that looks like right now.

00:32:13.780 --> 00:32:13.780
So network, we've got--

00:32:16.900 --> 00:32:46.800
[Transcript missing]

00:32:47.220 --> 00:32:50.440
There's this new icon in
the toolbar called Network.

00:32:50.520 --> 00:32:53.980
You may have noticed if you've
been playing with the seed.

00:32:54.160 --> 00:32:57.150
So I go there.

00:32:57.590 --> 00:33:00.820
I can go ahead and create a default view.

00:33:00.930 --> 00:33:03.220
And then--

00:33:03.600 --> 00:33:18.200
[Transcript missing]

00:33:20.110 --> 00:33:21.440
CoreOS Engineering.

00:33:21.470 --> 00:33:24.720
Actually, I think I wanted those
in the other order,

00:33:24.750 --> 00:33:26.240
but okay, there we go.

00:33:26.270 --> 00:33:27.990
It's going alphabetical.

00:33:28.060 --> 00:33:31.520
So I can go ahead and put
inside Core Server Engineering,

00:33:31.520 --> 00:33:33.500
I wanted to put some computers.

00:33:33.590 --> 00:33:38.030
I've got some computers over here,
which I can bring up actually with the

00:33:38.030 --> 00:33:40.530
show or hide computers command there.

00:33:40.530 --> 00:33:43.950
I can just take those and drag
them in to a neighborhood,

00:33:43.950 --> 00:33:47.130
and then it's a normal tree
view like you're used to,

00:33:47.130 --> 00:33:49.400
put computers in there.

00:33:50.000 --> 00:33:53.330
I could also put another neighborhood
inside of a neighborhood.

00:33:53.340 --> 00:33:58.140
So I could say Core Server members,
for example.

00:33:58.190 --> 00:34:02.780
Another thing that really, I think,
makes this very useful is the

00:34:02.880 --> 00:34:05.630
fact that you're not limited to
just manually putting all these

00:34:05.710 --> 00:34:10.480
computers in to the neighborhoods
and doing everything by hand.

00:34:10.480 --> 00:34:16.080
You can actually say that you want to add
a Directory Service node path in there.

00:34:16.080 --> 00:34:19.810
So anything that was already
showing up in slash network before,

00:34:19.820 --> 00:34:23.790
I could go ahead and put in wherever
in the hierarchy I want it to go.

00:34:24.380 --> 00:34:28.040
So for example,
let's say these two are zones

00:34:28.040 --> 00:34:32.580
that I know apply to me,
or neighborhoods that apply to me,

00:34:32.580 --> 00:34:34.720
nodes that apply to me, I should say.

00:34:34.720 --> 00:34:37.010
I'll just add those in.

00:34:37.200 --> 00:34:50.400
[Transcript missing]

00:34:50.880 --> 00:34:53.290
- And then that'll just
drop it right in there.

00:34:53.290 --> 00:34:55.150
And maybe I'll put that up here.

00:34:55.200 --> 00:34:58.200
Okay, so that looks pretty good.

00:34:58.200 --> 00:35:01.190
Actually, I'm gonna take a look
at the settings as well.

00:35:01.270 --> 00:35:04.440
So right now you can see it's set
to add it to the network view.

00:35:04.440 --> 00:35:06.500
You can also replace,
that's really what I want.

00:35:06.540 --> 00:35:14.540
I wanna see just what I have set
up and not all the dynamic stuff.

00:35:14.920 --> 00:35:16.100
So I get a very simplified view.

00:35:16.100 --> 00:35:18.190
And you can see in the finder,
there it is.

00:35:18.600 --> 00:35:21.580
Now under /network,
I just have only those two neighborhoods.

00:35:21.580 --> 00:35:26.840
So that's quite a bit
easier for me to deal with.

00:35:26.840 --> 00:35:28.700
I can see only the stuff that I wanted.

00:35:28.730 --> 00:35:31.560
And actually, here in the core server
members neighborhood,

00:35:31.600 --> 00:35:36.830
here's all the computers in those two
directory service nodes that I added.

00:35:36.890 --> 00:35:40.140
But it's quite a bit less
noise for me to deal with.

00:35:40.170 --> 00:35:42.200
And if I'm already
binding to an LDAP server,

00:35:42.200 --> 00:35:44.520
all this can be in the LDAP server.

00:35:44.520 --> 00:35:51.500
So I just pick it up based on what the
network administrator wanted me to get.

00:35:51.940 --> 00:35:53.980
And the other thing, of course,
in the settings,

00:35:53.980 --> 00:35:55.260
you could actually add it.

00:35:55.310 --> 00:36:00.480
So if I wanted to merge the two,
I could get all the dynamic stuff plus

00:36:00.520 --> 00:36:03.300
some managed stuff up at the top there.

00:36:03.310 --> 00:36:05.600
So I can kind of see the
stuff I'm more likely to want,

00:36:05.600 --> 00:36:07.740
but all the other stuff
is still available.

00:36:07.740 --> 00:36:10.090
And that's up to the
network administrator of

00:36:10.130 --> 00:36:11.590
how they want to set it up.

00:36:11.660 --> 00:36:13.730
All right.

00:36:13.740 --> 00:36:15.330
We can go back to the slides now.

00:36:15.360 --> 00:36:16.470
Thank you.

00:36:22.060 --> 00:36:22.890
Big round of applause.

00:36:22.960 --> 00:36:24.430
We've all dealt with
pre-release software.

00:36:24.440 --> 00:36:27.430
Jason, I thought, did very well.

00:36:27.430 --> 00:36:27.430
Thank you.

00:36:30.750 --> 00:36:33.460
So Jason previewed the
next topics of Tiger,

00:36:33.460 --> 00:36:34.990
which is Service Discovery in Tiger.

00:36:35.130 --> 00:36:38.500
Tiger already supports Rendezvous,
Windows, AppleTalk, and SLP.

00:36:38.500 --> 00:36:39.200
You all know that.

00:36:39.200 --> 00:36:42.930
You use it in Panther today.

00:36:42.940 --> 00:36:45.170
We're giving our yearly
warning that SLP may be

00:36:45.170 --> 00:36:48.840
retired in a future OS release,
or at least made an optional install.

00:36:48.840 --> 00:36:51.200
So you really should be
moving your applications off

00:36:51.200 --> 00:36:53.440
of SLP and onto Rendezvous.

00:36:53.440 --> 00:36:55.140
There's many sessions
about how to do that.

00:36:55.140 --> 00:36:56.260
There's lots of sample code.

00:36:56.260 --> 00:36:58.600
It's really a better way to go.

00:36:58.940 --> 00:37:00.570
New features,
and so we have a new feature

00:37:00.680 --> 00:37:03.170
which Jason just demoed called
Managed Network Browsing.

00:37:03.180 --> 00:37:07.800
This allows you to completely
customize the browsing of your network,

00:37:07.800 --> 00:37:10.740
and it allows mixing of static and
dynamic data so you can take two

00:37:10.740 --> 00:37:14.050
Apple Talk zones and present them as
a single folder called the pubs group

00:37:14.050 --> 00:37:16.880
rather than as their geographic names,
which they might be in

00:37:16.880 --> 00:37:18.210
the Apple Talk routers.

00:37:18.780 --> 00:37:21.510
So this is a very powerful feature.

00:37:21.680 --> 00:37:25.060
Basically, customers have been requesting
this feature for years,

00:37:25.060 --> 00:37:27.930
and so how do I -- we
always receive reports,

00:37:28.050 --> 00:37:30.090
how do I control what
shows up under /network?

00:37:30.130 --> 00:37:32.690
And up until now, it's been some very
archaic mount records.

00:37:32.760 --> 00:37:34.740
There's never a way to
create directly a structure.

00:37:34.740 --> 00:37:37.270
Well, I want a folder structure
that looks like this.

00:37:37.340 --> 00:37:40.290
And so we've now given you
complete and total control over

00:37:40.290 --> 00:37:42.080
what shows up under /network.

00:37:42.230 --> 00:37:46.700
Tiger offers that in Workgroup
Manager through the administration tools.

00:37:46.770 --> 00:37:49.130
And the feature implementation
consists of three changes.

00:37:49.140 --> 00:37:52.700
A new schema in the Open Directory server
to store the Vue data,

00:37:52.700 --> 00:37:56.460
changes to Mac OS X server admin
tools to create the Vue data,

00:37:56.460 --> 00:38:00.630
and changes in the Mac OS X client to
use the Vue data should it be present.

00:38:00.630 --> 00:38:03.260
Because if the data's there and the
client didn't pay attention to it,

00:38:03.260 --> 00:38:04.390
it wouldn't do it any good.

00:38:06.060 --> 00:38:08.300
So what can you do with this?

00:38:08.300 --> 00:38:12.000
To summarize,
administrators can control the structure

00:38:12.000 --> 00:38:13.540
of an arbitrary hierarchy and name.

00:38:13.590 --> 00:38:15.050
So you can name them anything you want.

00:38:15.060 --> 00:38:16.370
You can put them in any order you want.

00:38:16.400 --> 00:38:20.740
You can add static entries for servers on
your networks or your partner's network.

00:38:20.740 --> 00:38:23.940
This is a very,
very interesting feature in my opinion.

00:38:23.940 --> 00:38:26.360
We have it running at home,
and all my engineers have

00:38:26.360 --> 00:38:29.160
their home servers entered
into Apple's slash network Vue,

00:38:29.160 --> 00:38:31.650
even though they're not
part of Apple's network.

00:38:31.660 --> 00:38:34.880
So by creating a static entry,
you could point to a customer

00:38:34.940 --> 00:38:35.900
who you're working with.

00:38:36.060 --> 00:38:39.150
You can have their file servers
show up in your slash network Vue.

00:38:39.160 --> 00:38:41.280
This has not been possible up until now.

00:38:41.300 --> 00:38:43.930
You can manage,
or you can merge and rename

00:38:43.930 --> 00:38:45.870
dynamic service discovery.

00:38:45.900 --> 00:38:48.350
So you can effectively
rename your SLP scopes,

00:38:48.350 --> 00:38:51.210
your Windows neighborhoods,
or your Apple Talk zones through

00:38:51.210 --> 00:38:52.690
managed network browsing.

00:38:52.700 --> 00:38:56.690
So you can create a new folder and add
as many static servers as you want,

00:38:56.690 --> 00:39:01.440
and automatically also include all the
servers found in a particular SLP scope

00:39:01.440 --> 00:39:03.700
or in your local rendezvous zone.

00:39:03.700 --> 00:39:05.860
You can control if
clients see the raw data,

00:39:05.860 --> 00:39:05.860
and if they see the
data that's not there,

00:39:05.860 --> 00:39:05.860
you can control the data.

00:39:06.060 --> 00:39:08.520
The data is either the raw network,
the managed network, or both.

00:39:08.520 --> 00:39:11.540
So I can, for some clients,
turn off the raw network Vue and

00:39:11.540 --> 00:39:14.800
only show them a customized Vue
with three folders of the servers

00:39:14.800 --> 00:39:16.500
that they want to work with.

00:39:16.500 --> 00:39:20.270
For power users on my network,
I can leave the structured Vue present

00:39:20.270 --> 00:39:22.570
and also still let them see the raw Vue.

00:39:23.230 --> 00:39:26.290
and all view and browsing data
stored in the Open Directory server.

00:39:26.290 --> 00:39:28.700
So this all replicates
out all of your replicas.

00:39:28.700 --> 00:39:31.940
So you make the change in one place,
all of your machines that are

00:39:31.940 --> 00:39:34.870
bound to Open Directory immediately
see the change.

00:39:35.340 --> 00:39:39.930
Replication and Global Access is
the other feature.

00:39:40.060 --> 00:39:42.640
So we're now going to do the
Managed Network Browsing demo.

00:39:42.640 --> 00:39:43.670
Okay, we're done.

00:39:43.670 --> 00:39:44.690
We'll move on.

00:39:44.690 --> 00:39:49.240
So the Managed Network Browsing summary,
it's new Open Directory schema.

00:39:49.240 --> 00:39:52.080
There's client changes and there's
administration tool changes.

00:39:52.080 --> 00:39:56.120
The ability for network administrators
to tailor the network for their view.

00:39:56.120 --> 00:40:00.130
And it's a powerful new tool included
with Tiger Client and Server.

00:40:00.550 --> 00:40:03.460
The one thing I do want to go over
that's not clear is you can have

00:40:03.460 --> 00:40:05.250
different views in the directory.

00:40:05.250 --> 00:40:08.500
So I can target a view at a machine's
particular MAC address and have a

00:40:08.500 --> 00:40:10.230
general view for everybody else.

00:40:10.230 --> 00:40:13.680
So I can have multiple views in
Open Directory and completely customize

00:40:13.680 --> 00:40:17.700
it to the CEO's machine sees a simpler
view than the IT administrator's.

00:40:21.990 --> 00:40:23.240
So authentication changes.

00:40:23.330 --> 00:40:25.770
Tiger Server has some
changes to authentication.

00:40:25.780 --> 00:40:27.430
They're not major.

00:40:27.440 --> 00:40:31.440
The Tiger Server now supports NTL and V2,
so you can play better

00:40:31.450 --> 00:40:33.290
with Windows networks.

00:40:33.940 --> 00:40:37.300
The Tiger S&B server can now support
Kerberized authentication with the

00:40:37.350 --> 00:40:40.270
better Active Directory support,
but that extends to all the

00:40:40.270 --> 00:40:41.900
Kerberized services on Mac OS X.

00:40:41.900 --> 00:40:44.880
And the password server in
MIT KDC will offer tighter

00:40:44.880 --> 00:40:46.890
password policy integration.

00:40:46.950 --> 00:40:51.030
For example, the KDC has no notion of the
last successful authentication,

00:40:51.030 --> 00:40:54.670
so we're adding some codes so that
the last successful authentication

00:40:54.670 --> 00:40:57.100
gets synchronized with the
password server's notion of that,

00:40:57.100 --> 00:40:59.900
and some other minor changes.

00:40:59.900 --> 00:41:03.900
The Tiger client will also offer better
support for Kerberos-only environments.

00:41:03.900 --> 00:41:06.900
Some customers have really liked
the integration we've done,

00:41:06.950 --> 00:41:09.900
but they have an existing Kerberos
infrastructure on their network.

00:41:09.900 --> 00:41:12.990
And what they wanted to do was
be able to hit login window

00:41:12.990 --> 00:41:14.900
and log on with just Kerberos.

00:41:14.900 --> 00:41:15.900
There's some bugs in that.

00:41:15.900 --> 00:41:18.680
We're going to fix that for client
for Tiger so that you can have

00:41:18.740 --> 00:41:21.900
a pure Kerberos environment with
no password server if you want.

00:41:21.900 --> 00:41:25.900
Password server will no longer be
running by default on all Tiger servers.

00:41:25.900 --> 00:41:27.630
This is if you want to harden
a server and not have any

00:41:27.630 --> 00:41:28.900
ports open that you don't need.

00:41:28.900 --> 00:41:31.170
It will be running on an
Open Directory master,

00:41:31.170 --> 00:41:34.890
but it will not be running on servers
that are not hosting Open Directory.

00:41:34.890 --> 00:41:38.900
So you can bring the server up and
there's no extra network ports open.

00:41:38.900 --> 00:41:42.230
Password server is no longer
required in a standalone mode,

00:41:42.250 --> 00:41:44.230
so that's an excellent feature.

00:41:44.360 --> 00:41:46.860
Password Server Authentication
Methods in Tiger,

00:41:46.870 --> 00:41:50.490
they remain largely the same with the
addition of the one on the bottom for

00:41:50.490 --> 00:41:52.700
SMB file sharing we support in TLMv2.

00:41:52.770 --> 00:41:54.570
So other than that,
I'll give you time to look over this.

00:41:54.650 --> 00:41:56.850
But these are the authentication
methods that the password

00:41:56.850 --> 00:41:57.980
server currently supports.

00:41:57.980 --> 00:42:00.290
And you can see for Tiger,
we're just simply adding

00:42:00.290 --> 00:42:01.890
the SMB file sharing.

00:42:03.300 --> 00:42:05.100
So, local authentication requirements.

00:42:05.100 --> 00:42:07.420
For the developers in the audience,
I want to remind you

00:42:07.430 --> 00:42:08.470
that Crypt is still dead.

00:42:08.480 --> 00:42:13.740
Default local authentication
is now stored in a shadow hash.

00:42:13.740 --> 00:42:16.830
You probably have already found
out if your application relied on

00:42:16.830 --> 00:42:20.080
Crypt because we broke you in Panther.

00:42:20.080 --> 00:42:22.760
Crypt still works,
but none of the system administration

00:42:22.760 --> 00:42:24.380
tools will create a Crypt user.

00:42:24.380 --> 00:42:26.320
If you know what you're
doing with DSCL or Nickel,

00:42:26.340 --> 00:42:28.990
you can still create a Crypt user,
but we don't recommend it.

00:42:29.040 --> 00:42:30.640
There are security problems with it.

00:42:30.730 --> 00:42:31.430
Just don't do it.

00:42:32.500 --> 00:42:34.960
So, your application,
if it hasn't already been broken,

00:42:34.960 --> 00:42:38.830
I don't know how, but if it's not,
you should be moving on to either PAM,

00:42:38.830 --> 00:42:42.290
Security Framework or Directory Services,
or an authentication abstraction.

00:42:42.300 --> 00:42:45.580
Again, I want to emphasize this
was not a bug in Panther.

00:42:45.580 --> 00:42:46.890
This was a design decision.

00:42:46.900 --> 00:42:49.280
It was a necessary
migration for security.

00:42:49.280 --> 00:42:53.700
So, if you're a network application,
though, we want you to adopt Kerberos.

00:42:55.780 --> 00:42:59.240
and attend the authentication
session after lunch.

00:42:59.360 --> 00:43:01.300
For those of you who don't
know from last year's session,

00:43:01.300 --> 00:43:03.020
we're investing heavily in Kerberos.

00:43:03.110 --> 00:43:06.190
We're aggressively migrating all of our
networking products to use Kerberos,

00:43:06.190 --> 00:43:10.250
and Apple has already shipped
the MIT KDC with Mac OS 10.3,

00:43:10.250 --> 00:43:14.180
and we already ship a Kerberos
client and have since Jaguar.

00:43:14.270 --> 00:43:17.780
All Kerberos all the time is
in Apple's future and yours.

00:43:17.780 --> 00:43:21.510
So you guys can make your planning
today because eventually we hope to

00:43:21.670 --> 00:43:26.800
do away with any challenge response
based password authentication methods.

00:43:26.800 --> 00:43:28.800
So if you're interested
in authentication,

00:43:28.800 --> 00:43:33.640
there's a session following lunch
with no demos that will talk to

00:43:33.640 --> 00:43:37.410
you about everything you need to
know about network authentication,

00:43:37.410 --> 00:43:38.890
session 640.

00:43:39.610 --> 00:43:42.840
In closing, there's a lot of reference
documentation on Open Directory.

00:43:42.840 --> 00:43:45.230
We have Mac OS X server resources.

00:43:45.240 --> 00:43:47.070
We have Open LDAP configuration files.

00:43:47.330 --> 00:43:50.120
Everyone always asks me,
where do we document the LDAP schemas?

00:43:50.120 --> 00:43:52.690
We don't keep them secret in
the Open LDAP config files

00:43:52.690 --> 00:43:54.100
for anybody to inspect.

00:43:54.230 --> 00:43:55.920
The LDAP server has to
be told what they are.

00:43:55.930 --> 00:43:58.380
But we are providing documentation,
the written and print

00:43:58.410 --> 00:43:59.530
documentation as well.

00:43:59.540 --> 00:44:02.550
But sometimes the print
documentation goes to press before

00:44:02.550 --> 00:44:04.540
we finish the final schema changes.

00:44:04.540 --> 00:44:07.580
The actual config files for
Open LDAP are the most authoritative

00:44:07.620 --> 00:44:10.840
reference because the LDAP server
has to implement the schema.

00:44:10.840 --> 00:44:12.250
So those are always correct.

00:44:12.320 --> 00:44:13.680
And the Mac OS X security APIs.

00:44:13.680 --> 00:44:16.070
Also, there's this little
window here at the bottom.

00:44:16.070 --> 00:44:18.000
There's a lot of very
good technical briefs.

00:44:18.050 --> 00:44:21.180
If you need to educate your coworkers
at your site or something like that,

00:44:21.180 --> 00:44:23.010
what is Open Directory, why is it?

00:44:23.070 --> 00:44:25.310
Apple's done some wonderful work
on setting up some technical

00:44:25.370 --> 00:44:26.600
briefs and some white papers.

00:44:26.600 --> 00:44:28.220
Those are on the Mac OS X server website.

00:44:28.220 --> 00:44:29.420
I recommend you read them.

00:44:31.040 --> 00:44:34.450
We use a lot of open source,
so these are some of the open source

00:44:34.510 --> 00:44:36.130
sites that you can get more information.

00:44:36.140 --> 00:44:39.390
We have the OpenLDAP site,
we use SASL and the password server,

00:44:39.390 --> 00:44:42.900
we use PAM for all of
our command line tools,

00:44:42.900 --> 00:44:44.780
and we use Kerberos.

00:44:45.210 --> 00:44:47.700
So as a wrap-up,
Open Directory is Apple's integration

00:44:47.700 --> 00:44:49.500
solution for directory systems.

00:44:49.500 --> 00:44:52.100
It's a robust client of many,
many directory systems.

00:44:52.100 --> 00:44:56.370
You can work with NIS, Etsy files,
Active Directory, LDAP, iPlanet,

00:44:56.370 --> 00:44:58.660
Novell through LDAP integration.

00:44:58.680 --> 00:45:01.060
We can interconnect with
virtually anything that's a

00:45:01.070 --> 00:45:02.800
major deployed directory system.

00:45:04.960 --> 00:45:07.190
Open Directory and Mac OS X Server offers
a complete directory server for

00:45:07.270 --> 00:45:09.600
those of you who haven't already
deployed a directory system.

00:45:09.600 --> 00:45:10.370
It's easy.

00:45:10.390 --> 00:45:13.170
It's three or four clicks,
and you can have a world-class,

00:45:13.430 --> 00:45:16.940
scalable directory server up running
Kerberos in less than two minutes.

00:45:16.940 --> 00:45:19.730
Tiger has many exciting enhancements,
at least we think so.

00:45:19.740 --> 00:45:22.810
Managed network browsing is perhaps
one of the most exciting for us,

00:45:22.810 --> 00:45:25.940
and it offers you as an administrator
unprecedented control over your

00:45:25.940 --> 00:45:27.660
network browsing experience.

00:45:27.660 --> 00:45:30.660
And the Open Directory administration
tools are being enhanced to make

00:45:30.660 --> 00:45:32.240
your lives easier on a daily basis.