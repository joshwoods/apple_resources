WEBVTT

00:00:07.516 --> 00:00:20.516
[ Crowd Sounds ]

00:00:21.016 --> 00:00:22.726
[ Applause ]

00:00:22.726 --> 00:00:26.246
>> Good afternoon.

00:00:26.246 --> 00:00:26.476
Thank you.

00:00:26.476 --> 00:00:28.966
It's good to be here.

00:00:29.656 --> 00:00:31.396
We have some very great stuff

00:00:32.586 --> 00:00:35.306
for you, today.

00:00:35.516 --> 00:00:38.976
Last year we unveiled automatic

00:00:38.976 --> 00:00:39.426
signing.

00:00:40.076 --> 00:00:40.646
And it's great.

00:00:42.616 --> 00:00:43.916
Automatic signing was a major

00:00:43.916 --> 00:00:45.536
leap forward in the ease of use

00:00:45.656 --> 00:00:47.846
for how you sign your app.

00:00:48.466 --> 00:00:50.696
Today, we're taking the next

00:00:51.446 --> 00:00:51.886
step.

00:00:51.886 --> 00:00:53.346
We're making it possible to use

00:00:53.346 --> 00:00:54.696
automatic signing for

00:00:54.696 --> 00:00:58.276
distribution, XCode Build, and

00:00:58.276 --> 00:00:58.976
XCode Server.

00:01:01.196 --> 00:01:03.216
So, what exactly are we going to

00:01:03.216 --> 00:01:05.166
talk about, today?

00:01:05.366 --> 00:01:06.616
First thing, is I'm going to

00:01:06.616 --> 00:01:07.846
very briefly review the

00:01:07.896 --> 00:01:09.356
fundamentals of signing and how

00:01:09.356 --> 00:01:10.586
it works on our platforms.

00:01:11.756 --> 00:01:14.166
Next, I'm going to show you how

00:01:14.166 --> 00:01:16.186
to set up XCode Server to

00:01:16.186 --> 00:01:17.606
perform development signing so

00:01:17.606 --> 00:01:19.386
that you can regularly run tests

00:01:19.386 --> 00:01:20.126
on the device.

00:01:21.576 --> 00:01:23.016
Then, I'm going to show you some

00:01:23.016 --> 00:01:24.056
of the great changes that we've

00:01:24.056 --> 00:01:25.586
been making to manual signing.

00:01:27.116 --> 00:01:28.546
Itai is going to come up and

00:01:28.546 --> 00:01:29.956
show you all of the great

00:01:29.956 --> 00:01:31.046
changes we've been making to

00:01:31.046 --> 00:01:32.406
distribution and distribution

00:01:32.406 --> 00:01:32.786
signing.

00:01:34.076 --> 00:01:35.506
And Brent will come up to show

00:01:35.506 --> 00:01:37.126
you how to set up XCode Server,

00:01:37.126 --> 00:01:38.446
and for the first time, perform

00:01:38.446 --> 00:01:39.386
distribution signing.

00:01:41.656 --> 00:01:43.676
So, before we get in too deep, I

00:01:43.676 --> 00:01:44.726
would like to take a moment to

00:01:44.726 --> 00:01:46.076
remind us why we do this.

00:01:46.186 --> 00:01:47.186
Why do we code sign?

00:01:48.336 --> 00:01:50.326
Well, the simple answer is that

00:01:50.366 --> 00:01:52.386
code signing protects us.

00:01:52.496 --> 00:01:54.366
It protects us as users, it

00:01:54.366 --> 00:01:55.706
protects us as developers.

00:01:56.166 --> 00:01:57.316
And all of us are users.

00:01:57.316 --> 00:01:58.926
All of us download apps from the

00:01:58.926 --> 00:02:00.456
store, and we're sure that, that

00:02:00.456 --> 00:02:01.846
app came from the developer that

00:02:01.846 --> 00:02:04.646
wrote it, because of code

00:02:04.796 --> 00:02:04.986
signing.

00:02:04.986 --> 00:02:06.666
And every app that we download

00:02:06.666 --> 00:02:09.026
from the store, we're sure that

00:02:09.026 --> 00:02:11.306
Apple has approved that, that

00:02:11.306 --> 00:02:12.496
app is allowed to use special

00:02:12.496 --> 00:02:13.476
system services.

00:02:14.676 --> 00:02:16.196
We can trust the security and

00:02:16.196 --> 00:02:18.196
the privacy of our devices

00:02:18.246 --> 00:02:19.246
because of code signing.

00:02:19.796 --> 00:02:21.866
So, how does this actually work?

00:02:22.616 --> 00:02:23.746
Well, every app had a code

00:02:23.746 --> 00:02:24.186
signature.

00:02:24.796 --> 00:02:26.166
And when the app is run, the

00:02:26.166 --> 00:02:27.246
system checks for a couple

00:02:27.246 --> 00:02:27.606
things.

00:02:27.606 --> 00:02:29.046
It first checks that, that

00:02:29.046 --> 00:02:30.016
signature is valid.

00:02:30.676 --> 00:02:31.736
That it hasn't been tampered

00:02:31.736 --> 00:02:32.766
with since it came from the

00:02:32.766 --> 00:02:33.616
original developer.

00:02:34.936 --> 00:02:37.066
And that, that app is allowed to

00:02:37.066 --> 00:02:38.606
use special system services,

00:02:38.606 --> 00:02:39.436
like App Groups.

00:02:40.326 --> 00:02:42.646
And the signature also tells us

00:02:42.756 --> 00:02:43.966
if it's been provisioned for

00:02:43.966 --> 00:02:44.636
this device.

00:02:44.636 --> 00:02:46.066
If it's for development, it's

00:02:46.066 --> 00:02:47.736
been provisioned for a couple

00:02:47.736 --> 00:02:48.286
devices.

00:02:48.286 --> 00:02:49.696
And if it's for the App Store,

00:02:50.346 --> 00:02:51.656
that code signature says it can

00:02:51.656 --> 00:02:52.616
run on any device.

00:02:54.006 --> 00:02:55.976
Now, composing this signature,

00:02:55.976 --> 00:02:58.246
XCode uses three essential

00:02:58.246 --> 00:02:58.946
ingredients.

00:02:59.416 --> 00:03:01.256
Our good friends, the signing

00:03:01.256 --> 00:03:03.426
certificate, a provisioning

00:03:03.426 --> 00:03:05.836
profile, and entitlements.

00:03:06.996 --> 00:03:08.246
Now, I'm going to spare you a

00:03:08.246 --> 00:03:09.786
very detailed explanation of how

00:03:09.786 --> 00:03:10.736
all of this works.

00:03:11.066 --> 00:03:13.496
But I would like to refer you to

00:03:13.496 --> 00:03:15.316
last year's talk, What's New in

00:03:15.316 --> 00:03:17.026
XCode App Signing, where we go

00:03:17.026 --> 00:03:18.506
into great detail about how this

00:03:18.506 --> 00:03:19.646
works with our platforms.

00:03:19.646 --> 00:03:21.206
And how it works with XCode 8.

00:03:21.706 --> 00:03:25.216
What I will say is that

00:03:25.796 --> 00:03:27.566
collecting all of these assets,

00:03:28.086 --> 00:03:30.246
it's not that much fun.

00:03:30.246 --> 00:03:31.136
It's complex.

00:03:31.716 --> 00:03:33.946
Which is why in XCode 8, we

00:03:33.946 --> 00:03:35.366
introduced a solution to manage

00:03:35.366 --> 00:03:36.446
all of this complexity,

00:03:37.746 --> 00:03:38.536
automatic signing.

00:03:40.096 --> 00:03:41.406
When you enable automatically

00:03:41.406 --> 00:03:43.056
managed signing, XCode will

00:03:43.056 --> 00:03:45.066
automatically create app IDs.

00:03:45.066 --> 00:03:46.356
It will create certificates.

00:03:46.356 --> 00:03:47.636
It will update provisioning

00:03:47.636 --> 00:03:48.416
profiles.

00:03:48.636 --> 00:03:49.856
It will update entitlements.

00:03:49.856 --> 00:03:51.316
It will do all of that stuff you

00:03:51.316 --> 00:03:52.866
don't want to deal with, so that

00:03:52.866 --> 00:03:53.666
you can get on with your

00:03:53.666 --> 00:03:54.186
development.

00:03:55.666 --> 00:03:57.156
Enabling automatic signing is

00:03:57.156 --> 00:03:57.926
really the way to go.

00:03:59.346 --> 00:04:01.226
And I'm pleased to announce that

00:04:01.226 --> 00:04:04.056
in XCode 9, all of this great

00:04:04.056 --> 00:04:06.156
functionality is available in

00:04:06.186 --> 00:04:06.966
XCode Server.

00:04:07.496 --> 00:04:10.446
And we know that there are

00:04:10.446 --> 00:04:11.746
certain situations in which

00:04:11.746 --> 00:04:12.676
you'd like to directly

00:04:12.676 --> 00:04:13.766
manipulate your signing

00:04:13.766 --> 00:04:14.586
configuration.

00:04:14.846 --> 00:04:17.026
So, we also have manual signing

00:04:17.026 --> 00:04:18.555
support in XCode Server.

00:04:20.755 --> 00:04:22.396
So, for those of you who don't

00:04:22.396 --> 00:04:23.706
know, I hope you know that XCode

00:04:23.706 --> 00:04:24.936
Server is the continuous

00:04:24.936 --> 00:04:26.846
integration service powered by

00:04:26.846 --> 00:04:27.246
XCode.

00:04:27.766 --> 00:04:30.496
And now, it is built right into

00:04:30.496 --> 00:04:31.006
XCode.

00:04:31.006 --> 00:04:32.126
You no longer need to have

00:04:32.126 --> 00:04:33.196
Server app installed.

00:04:33.196 --> 00:04:34.596
If you've used this before, this

00:04:34.596 --> 00:04:35.986
is a huge convenience.

00:04:35.986 --> 00:04:37.426
It has never been easier to get

00:04:37.456 --> 00:04:38.446
going with continuous

00:04:38.446 --> 00:04:39.016
integration.

00:04:39.546 --> 00:04:43.326
And XCode Server allows you to

00:04:43.326 --> 00:04:45.496
very easily set up testing on

00:04:45.496 --> 00:04:49.306
the Simulator and on the device.

00:04:49.306 --> 00:04:51.176
Now, testing on the device

00:04:51.176 --> 00:04:52.296
requires code signing.

00:04:53.636 --> 00:04:56.166
So, I'd like to explain how code

00:04:56.166 --> 00:04:57.126
signing fits into the greater

00:04:57.126 --> 00:04:58.286
picture of XCode Server.

00:04:59.966 --> 00:05:01.516
When you're working on your app

00:05:02.306 --> 00:05:05.326
in XCode, you work on a project

00:05:05.646 --> 00:05:07.176
and you upload updates to that

00:05:07.176 --> 00:05:08.986
project to a remote repository.

00:05:10.086 --> 00:05:11.436
You then, set up XCode Server

00:05:11.436 --> 00:05:12.776
with a bot to pull from that

00:05:12.776 --> 00:05:15.296
repository, build your app, and

00:05:15.296 --> 00:05:16.756
run tests on the device.

00:05:17.816 --> 00:05:19.546
And running on a device requires

00:05:19.546 --> 00:05:20.306
a code signature.

00:05:20.476 --> 00:05:23.616
And XCode composes that code

00:05:23.616 --> 00:05:24.986
signature using those essential

00:05:24.986 --> 00:05:26.136
ingredients, the provisioning

00:05:26.136 --> 00:05:27.616
profile and a signing

00:05:27.616 --> 00:05:28.226
certificate.

00:05:28.296 --> 00:05:29.606
So, how are we going to get

00:05:29.606 --> 00:05:31.146
those onto XCode Server?

00:05:32.506 --> 00:05:35.216
Well, the good news is if you

00:05:35.216 --> 00:05:36.496
have targets enabled with

00:05:36.496 --> 00:05:38.406
automatic signing, this can just

00:05:38.406 --> 00:05:39.146
happen for you.

00:05:39.266 --> 00:05:41.916
XCode Server will automatically

00:05:42.036 --> 00:05:43.346
create certificates, it will

00:05:43.346 --> 00:05:44.916
update provisioning profiles, it

00:05:44.916 --> 00:05:46.216
will register devices.

00:05:46.846 --> 00:05:47.936
All so, that signing can be

00:05:47.936 --> 00:05:48.506
performed.

00:05:48.506 --> 00:05:49.666
This is really fantastic.

00:05:51.266 --> 00:05:53.026
And if you have manual setup for

00:05:53.026 --> 00:05:53.776
your targets.

00:05:54.856 --> 00:05:56.646
XCode Server now has UI for you

00:05:56.646 --> 00:05:58.346
to send any certificates from

00:05:58.346 --> 00:06:01.496
your administrative Mac over to

00:06:01.596 --> 00:06:02.776
the server that will be

00:06:02.776 --> 00:06:04.166
performing integrations and code

00:06:04.166 --> 00:06:04.546
signing.

00:06:05.216 --> 00:06:08.186
So, XCode Server now has support

00:06:08.616 --> 00:06:09.896
for automatic and manual

00:06:09.896 --> 00:06:10.246
signing.

00:06:13.416 --> 00:06:14.826
Now, XCode Server is able to

00:06:14.826 --> 00:06:16.336
make use of automatic signing,

00:06:16.336 --> 00:06:18.606
because you join XCode Server to

00:06:18.606 --> 00:06:20.016
your team as another member.

00:06:20.076 --> 00:06:21.496
You do this during XCode Server

00:06:21.496 --> 00:06:23.386
setup, if you're a team agent or

00:06:23.386 --> 00:06:23.746
admin.

00:06:24.866 --> 00:06:27.036
And XCode Server now supports

00:06:27.036 --> 00:06:29.126
logins from Apple IDs with

00:06:29.126 --> 00:06:30.316
two-factor authentication.

00:06:31.496 --> 00:06:33.676
Now, all of this great signing

00:06:33.676 --> 00:06:35.056
functionality is available to

00:06:35.056 --> 00:06:37.496
XCode Server because XCode

00:06:37.496 --> 00:06:38.856
Server, under the hood, calls

00:06:38.856 --> 00:06:40.196
out to the command line tool,

00:06:40.626 --> 00:06:41.326
XCode Build.

00:06:42.396 --> 00:06:44.976
Which means that XCode Build now

00:06:44.976 --> 00:06:46.736
offers command line support for

00:06:46.736 --> 00:06:48.046
automatic signing repairs.

00:06:48.396 --> 00:06:49.206
And this is huge.

00:06:50.416 --> 00:06:52.426
Now, if you have a third-party

00:06:52.426 --> 00:06:53.956
continuous integration service,

00:06:53.956 --> 00:06:54.866
you should listen up.

00:06:54.936 --> 00:06:56.416
Because what this means is that

00:06:57.206 --> 00:06:58.776
XCode Build can now update

00:06:58.776 --> 00:07:00.286
provisioning profiles, it can

00:07:00.616 --> 00:07:01.906
download them, it can create

00:07:01.906 --> 00:07:02.546
certificates.

00:07:02.546 --> 00:07:03.856
All that magic that happens in

00:07:03.856 --> 00:07:05.286
the UI, can now happen on the

00:07:05.286 --> 00:07:05.906
command line.

00:07:07.516 --> 00:07:12.886
[ Applause ]

00:07:13.386 --> 00:07:14.846
And you enable this in XCode

00:07:14.846 --> 00:07:16.496
Build by passing the flag

00:07:16.556 --> 00:07:18.126
allowProvisioningUpdates.

00:07:19.316 --> 00:07:20.406
And we've added some extra

00:07:20.406 --> 00:07:21.076
automation.

00:07:21.276 --> 00:07:22.546
If you have a device connected

00:07:22.546 --> 00:07:24.606
to your Mac, you can have it

00:07:24.606 --> 00:07:25.876
automatically registered with

00:07:25.876 --> 00:07:27.386
your team without interaction,

00:07:27.436 --> 00:07:28.716
if you also pass the flag

00:07:28.946 --> 00:07:30.446
allowProvisioningDevice

00:07:30.446 --> 00:07:31.056
Registration.

00:07:32.116 --> 00:07:32.796
So, very cool.

00:07:33.806 --> 00:07:36.596
So, as I've said, setting up

00:07:36.646 --> 00:07:38.736
XCode Server is super easy, now

00:07:38.736 --> 00:07:40.556
that it's built right into XCode

00:07:40.556 --> 00:07:40.916
9.

00:07:41.316 --> 00:07:42.826
I'd like to show you how you set

00:07:42.826 --> 00:07:44.576
up XCode Server, briefly, so

00:07:44.576 --> 00:07:46.026
that I can show you how to set

00:07:46.026 --> 00:07:47.126
up signing for that server.

00:07:48.386 --> 00:07:50.996
So, the first step is opening up

00:07:51.076 --> 00:07:52.926
the Preferences of XCode.

00:07:52.986 --> 00:07:54.176
And all the way to the right, we

00:07:54.176 --> 00:07:55.896
have a new tab, Server and Bots.

00:07:56.146 --> 00:07:57.426
That's where you turn on XCode

00:07:57.426 --> 00:07:57.746
Server.

00:07:58.636 --> 00:08:01.126
The next step is opening up the

00:08:01.126 --> 00:08:04.056
Accounts pane, where you can add

00:08:04.196 --> 00:08:05.136
a client account.

00:08:05.496 --> 00:08:07.156
That way you can view your

00:08:07.156 --> 00:08:07.916
server working.

00:08:09.756 --> 00:08:11.186
The next step is opening up your

00:08:11.186 --> 00:08:12.856
project and using the Product

00:08:12.856 --> 00:08:14.186
menu to create a Bot.

00:08:14.346 --> 00:08:16.456
And then, in the Reports

00:08:16.456 --> 00:08:18.136
navigator, you can view all the

00:08:18.136 --> 00:08:19.426
integrations that your Bot have

00:08:19.426 --> 00:08:19.956
been running.

00:08:20.516 --> 00:08:21.846
You can see all the servers and

00:08:21.846 --> 00:08:22.246
Bots.

00:08:22.526 --> 00:08:23.926
And each integration, you can

00:08:23.926 --> 00:08:25.116
see whether your project is

00:08:25.116 --> 00:08:27.936
built, whether tests you have,

00:08:27.936 --> 00:08:29.356
have run, whether they've

00:08:29.356 --> 00:08:30.326
succeeded or failed.

00:08:30.426 --> 00:08:33.645
That's what you can see, here.

00:08:34.096 --> 00:08:35.686
And now, when you set up XCode

00:08:35.686 --> 00:08:37.385
Server, there's a new tab, the

00:08:37.385 --> 00:08:38.316
Signing tab.

00:08:38.316 --> 00:08:39.166
This is what it looks like.

00:08:40.135 --> 00:08:42.226
This gives a number of options

00:08:42.226 --> 00:08:43.546
so that you can set up XCode

00:08:43.546 --> 00:08:45.466
Server to be powered to use

00:08:45.516 --> 00:08:46.316
automatic signing.

00:08:46.866 --> 00:08:48.636
This first checkbox, Allow XCode

00:08:48.636 --> 00:08:50.106
Server to manage my certificates

00:08:50.106 --> 00:08:51.646
and profile, will give XCode

00:08:51.646 --> 00:08:52.966
Server the power to use

00:08:53.006 --> 00:08:54.516
automatic signing for any of

00:08:54.516 --> 00:08:55.566
those targets in which it's

00:08:55.566 --> 00:08:55.936
enabled.

00:08:56.806 --> 00:08:58.206
And you authorize that, again,

00:08:58.206 --> 00:08:59.976
by adding XCode Server to your

00:08:59.976 --> 00:09:00.376
team.

00:09:00.376 --> 00:09:01.226
And you do that, here.

00:09:01.786 --> 00:09:03.696
And then, there is this other

00:09:03.696 --> 00:09:05.276
checkbox, Automatically add

00:09:05.276 --> 00:09:06.786
missing devices to my developer

00:09:06.786 --> 00:09:07.116
team.

00:09:07.116 --> 00:09:08.586
This will automatically register

00:09:08.586 --> 00:09:10.166
any devices connected to your

00:09:10.166 --> 00:09:12.186
Mac, without interaction.

00:09:12.336 --> 00:09:14.106
And those two checkboxes in the

00:09:14.106 --> 00:09:16.206
UI mirror those flags, allow

00:09:16.206 --> 00:09:17.596
provisioning updates, and allow

00:09:17.636 --> 00:09:19.056
provisioning device registration

00:09:19.056 --> 00:09:20.126
for XCode Build.

00:09:21.046 --> 00:09:22.586
So, I've said enough.

00:09:22.736 --> 00:09:23.626
Why don't I actually show you

00:09:23.626 --> 00:09:23.976
this working?

00:09:29.466 --> 00:09:33.866
Okay. So, I have opened up XCode

00:09:33.866 --> 00:09:35.436
to my project, ChocolateChip.

00:09:36.966 --> 00:09:38.876
And I've already set up Server

00:09:39.476 --> 00:09:41.196
with a Bot to perform

00:09:41.196 --> 00:09:43.116
integrations on the Simulator.

00:09:43.776 --> 00:09:45.136
So, I've just purchased this

00:09:45.136 --> 00:09:46.516
shiny new device, and I'd like

00:09:46.516 --> 00:09:48.176
to run tests on the device.

00:09:48.726 --> 00:09:50.396
In order to do that, I need to

00:09:50.396 --> 00:09:52.166
enable XCode Server to make use

00:09:52.166 --> 00:09:53.056
of automatic signing.

00:09:53.806 --> 00:09:56.456
So, first step is clicking on

00:09:56.456 --> 00:09:57.456
the Reports navigator.

00:09:57.456 --> 00:09:58.826
And you can see here, the server

00:09:58.826 --> 00:09:59.606
that I've created.

00:09:59.606 --> 00:09:59.976
The Bot.

00:10:00.046 --> 00:10:01.796
And the one integration that's

00:10:01.796 --> 00:10:02.126
run.

00:10:02.976 --> 00:10:04.896
And I'm going to Control Click

00:10:05.406 --> 00:10:06.866
and bring up the Bot editor.

00:10:07.386 --> 00:10:09.016
So, my first step will be

00:10:09.016 --> 00:10:10.376
clicking on the Devices tab,

00:10:10.376 --> 00:10:11.566
where you can see that I've set

00:10:11.566 --> 00:10:14.316
up XCode Server to run tests on

00:10:14.316 --> 00:10:15.846
the iPhone SE Simulator.

00:10:16.086 --> 00:10:17.056
I'm going to change that,

00:10:17.056 --> 00:10:18.716
instead, to run on any device

00:10:18.716 --> 00:10:19.936
that's connected to the Mac.

00:10:20.776 --> 00:10:23.366
Next, in the Signing tab, you

00:10:23.366 --> 00:10:24.536
can see what we've been talking

00:10:24.536 --> 00:10:24.826
about.

00:10:25.546 --> 00:10:27.836
I'm going to allow XCode Server

00:10:27.836 --> 00:10:29.086
to create certificates and

00:10:29.086 --> 00:10:29.886
profiles.

00:10:30.226 --> 00:10:32.396
I'm going to add XCode Server to

00:10:32.396 --> 00:10:33.266
my team.

00:10:33.906 --> 00:10:35.516
And I'm going to allow XCode

00:10:35.516 --> 00:10:36.996
Server to automatically register

00:10:36.996 --> 00:10:38.316
any device that's connected,

00:10:38.316 --> 00:10:39.106
including this one.

00:10:40.426 --> 00:10:40.756
All right.

00:10:40.756 --> 00:10:42.326
So, we're all ready to get

00:10:42.326 --> 00:10:43.886
started testing on the device.

00:10:43.996 --> 00:10:45.676
I'm going to manually initiate

00:10:45.676 --> 00:10:46.416
an integration.

00:10:47.326 --> 00:10:49.276
So, what's happening, now, is

00:10:49.276 --> 00:10:52.026
XCode Server is downloading the

00:10:52.026 --> 00:10:53.536
project from the repository.

00:10:53.596 --> 00:10:54.596
It's building the app.

00:10:55.486 --> 00:10:57.086
It's creating a certificate,

00:10:57.086 --> 00:10:59.176
registering my device, adding

00:10:59.176 --> 00:11:00.456
that device to the profile,

00:11:00.456 --> 00:11:01.576
downloading the profile and

00:11:01.576 --> 00:11:02.176
signing it.

00:11:03.066 --> 00:11:04.506
All so that we can run tests on

00:11:04.506 --> 00:11:05.116
the device.

00:11:05.736 --> 00:11:07.766
And normally, I would say, don't

00:11:07.766 --> 00:11:08.866
watch your Bot, it's not that

00:11:08.866 --> 00:11:09.486
much fun.

00:11:09.546 --> 00:11:11.206
You can let this automate itself

00:11:11.476 --> 00:11:12.296
in another room.

00:11:12.736 --> 00:11:15.046
But after a certain amount of

00:11:15.046 --> 00:11:16.446
bake time, our cookies will be

00:11:16.446 --> 00:11:16.816
done.

00:11:17.456 --> 00:11:21.156
And there we go.

00:11:21.426 --> 00:11:23.236
All two of my tests have passed.

00:11:23.566 --> 00:11:24.476
I'm in very good shape.

00:11:30.536 --> 00:11:32.816
So, you've just seen how you can

00:11:32.816 --> 00:11:35.266
set up XCode Server to

00:11:35.266 --> 00:11:36.406
automatically perform

00:11:36.406 --> 00:11:37.696
development signing so that you

00:11:37.696 --> 00:11:42.036
can run tests on the device.

00:11:42.196 --> 00:11:45.126
Now, we really like automatic

00:11:45.126 --> 00:11:45.616
signing.

00:11:45.616 --> 00:11:48.176
We don't want you to be consumed

00:11:48.176 --> 00:11:49.396
with managing all of these

00:11:49.396 --> 00:11:50.086
assets.

00:11:50.086 --> 00:11:51.196
We want to be coding.

00:11:51.196 --> 00:11:52.266
We want you to be coding, as

00:11:52.266 --> 00:11:52.556
well.

00:11:53.586 --> 00:11:54.816
Setting automatic signing.

00:11:54.816 --> 00:11:55.436
I do t it.

00:11:55.646 --> 00:11:56.846
We suggest everyone do it.

00:11:58.086 --> 00:11:59.506
However, we know that there are

00:11:59.506 --> 00:12:01.046
certain situations in which you

00:12:01.046 --> 00:12:03.096
may want to directly manipulate

00:12:03.096 --> 00:12:04.326
your signing configuration.

00:12:04.596 --> 00:12:06.566
And for that, we have manual

00:12:06.566 --> 00:12:06.946
signing.

00:12:07.196 --> 00:12:08.676
And now, we've improved it.

00:12:10.106 --> 00:12:12.746
We've added some improvements to

00:12:12.746 --> 00:12:14.766
the certificates sheet in the

00:12:14.766 --> 00:12:15.886
Accounts Preferences.

00:12:16.586 --> 00:12:18.726
Now, this sheet will tell you

00:12:18.866 --> 00:12:20.616
what certificates you've created

00:12:21.406 --> 00:12:23.126
on your Mac and other Macs that

00:12:23.126 --> 00:12:23.506
you own.

00:12:24.036 --> 00:12:25.986
That's the developer's

00:12:25.986 --> 00:12:26.876
certificates, above.

00:12:27.086 --> 00:12:28.586
And in the section below, you

00:12:28.586 --> 00:12:30.216
can see all of the distribution

00:12:30.216 --> 00:12:31.666
certificates that have been

00:12:31.666 --> 00:12:33.276
created by anyone on your team.

00:12:33.896 --> 00:12:34.916
Whether they're on your machine

00:12:34.916 --> 00:12:35.286
or not.

00:12:35.686 --> 00:12:36.446
And we've improved the

00:12:36.446 --> 00:12:37.326
visibility, here.

00:12:37.326 --> 00:12:39.716
Now, you can see when a

00:12:39.716 --> 00:12:41.146
certificate is missing a private

00:12:41.176 --> 00:12:42.396
key or it's been revoked.

00:12:42.676 --> 00:12:44.136
And we even include the creator

00:12:44.136 --> 00:12:45.776
of the certificate, and you can

00:12:45.776 --> 00:12:47.096
email the creator of that

00:12:47.096 --> 00:12:48.126
certificate, right from the

00:12:48.126 --> 00:12:49.736
sheet and ask them to share it

00:12:49.736 --> 00:12:49.976
with you.

00:12:50.516 --> 00:12:55.936
[ Applause ]

00:12:56.436 --> 00:12:57.706
In the Project Editor when

00:12:57.706 --> 00:12:59.336
you're using manual, you select

00:12:59.336 --> 00:13:00.596
a profile, yourself.

00:13:00.896 --> 00:13:02.556
And we've added a new menu item,

00:13:02.626 --> 00:13:03.746
Download Profile.

00:13:03.746 --> 00:13:04.766
It'll bring up a sheet that

00:13:04.766 --> 00:13:05.466
looks like this.

00:13:06.026 --> 00:13:07.316
And you can see, on the left, a

00:13:07.366 --> 00:13:09.736
list of eligible profiles from

00:13:09.736 --> 00:13:11.286
profiles that I've created on

00:13:11.286 --> 00:13:11.776
the portal.

00:13:12.296 --> 00:13:13.826
And these are profiles that are

00:13:13.826 --> 00:13:15.096
eligible for my target.

00:13:15.716 --> 00:13:16.866
When I've selected one, you can

00:13:16.866 --> 00:13:18.776
see a detailed view of that

00:13:18.776 --> 00:13:20.546
profile and see how it compares

00:13:20.546 --> 00:13:21.266
with your target.

00:13:22.006 --> 00:13:23.516
Whether the capabilities match.

00:13:23.836 --> 00:13:25.206
Even if the device is connected,

00:13:25.206 --> 00:13:26.396
you can see if that device is in

00:13:26.396 --> 00:13:27.056
the profile.

00:13:27.356 --> 00:13:28.746
This is a major improvement for

00:13:28.816 --> 00:13:30.796
finding the right profile before

00:13:30.796 --> 00:13:31.976
you select it and try to sign

00:13:31.976 --> 00:13:32.216
with it.

00:13:32.726 --> 00:13:34.566
And if you have a profile

00:13:34.566 --> 00:13:37.216
selected, already, but it's not

00:13:37.216 --> 00:13:38.186
installed locally on your

00:13:38.186 --> 00:13:39.886
machine, XCode will offer to

00:13:39.886 --> 00:13:41.576
download that profile for you.

00:13:42.316 --> 00:13:43.596
Which, we know it will work.

00:13:44.126 --> 00:13:45.196
Now, we know that you're still

00:13:45.196 --> 00:13:45.686
in manual.

00:13:45.686 --> 00:13:46.836
We're not interested in touching

00:13:46.836 --> 00:13:47.876
your project state or your

00:13:47.876 --> 00:13:48.406
portal state.

00:13:48.406 --> 00:13:49.446
We're very clear about this

00:13:49.446 --> 00:13:49.996
distinction.

00:13:49.996 --> 00:13:51.346
This is really just a

00:13:51.346 --> 00:13:51.936
convenience.

00:13:52.676 --> 00:13:55.676
And of course, in XCode Server,

00:13:55.676 --> 00:13:57.096
we also have manual support.

00:13:58.046 --> 00:13:59.356
Under the Signing tab you'll see

00:13:59.356 --> 00:14:00.706
tab that's like this, the

00:14:00.706 --> 00:14:02.276
Certificates and Profiles tab,

00:14:02.276 --> 00:14:03.496
where you can see a list of the

00:14:03.496 --> 00:14:05.586
certificates and profiles

00:14:05.586 --> 00:14:07.566
installed on your local machine.

00:14:07.766 --> 00:14:09.096
That you can send over to your

00:14:09.096 --> 00:14:10.366
server to perform manual

00:14:10.366 --> 00:14:10.726
signing.

00:14:11.066 --> 00:14:14.526
So, when you are using manual

00:14:14.526 --> 00:14:16.036
signing, we recommend using the

00:14:16.036 --> 00:14:18.156
General tab to make any changes

00:14:18.156 --> 00:14:19.196
to your signing setup.

00:14:20.006 --> 00:14:23.116
However, if you have automation

00:14:23.266 --> 00:14:25.656
or you just don't want to use

00:14:25.656 --> 00:14:28.616
the UI, we have build settings

00:14:28.696 --> 00:14:29.906
for extra flexibility.

00:14:30.236 --> 00:14:31.966
In XCode 8, we introduced

00:14:32.326 --> 00:14:34.136
Development Team, that's to set

00:14:34.136 --> 00:14:35.126
the team identifier.

00:14:36.446 --> 00:14:38.336
Provisioning Profile Specifier,

00:14:38.676 --> 00:14:41.396
to set the profile by name, and

00:14:41.396 --> 00:14:43.996
Code Sign Identity, to set the

00:14:43.996 --> 00:14:44.606
certificate.

00:14:46.056 --> 00:14:47.716
And in XCode 9, we're

00:14:47.716 --> 00:14:49.986
introducing a new build setting,

00:14:51.016 --> 00:14:51.986
Code Sign Style.

00:14:53.126 --> 00:14:55.096
You can use Code Sign Style to

00:14:55.096 --> 00:14:58.016
set the style to automatic or

00:14:58.016 --> 00:15:00.416
manual at the target or build

00:15:00.416 --> 00:15:01.476
configuration level.

00:15:02.756 --> 00:15:03.976
We think that this is exciting,

00:15:03.976 --> 00:15:05.916
but it's for advanced use cases.

00:15:05.976 --> 00:15:07.846
For most cases, you should be

00:15:07.846 --> 00:15:09.616
able to set your entire target,

00:15:09.616 --> 00:15:11.166
keep it set, to automatic.

00:15:13.036 --> 00:15:15.246
Well, you've seen just about all

00:15:15.246 --> 00:15:16.236
there is for development

00:15:16.236 --> 00:15:16.666
signing.

00:15:17.296 --> 00:15:18.266
We've made a lot of great

00:15:18.266 --> 00:15:19.956
improvements to distribution and

00:15:19.956 --> 00:15:20.976
distribution signing.

00:15:21.536 --> 00:15:22.876
For more on that, please give a

00:15:22.876 --> 00:15:24.906
warm welcome to my friend Itai

00:15:25.496 --> 00:15:25.976
Rom.

00:15:26.516 --> 00:15:33.406
[ Applause ]

00:15:33.906 --> 00:15:34.626
>> Thank you, Chris.

00:15:34.876 --> 00:15:35.856
Good afternoon, everyone.

00:15:36.706 --> 00:15:37.886
So, Chris just showed you all

00:15:37.886 --> 00:15:39.446
the improvements we've made when

00:15:39.446 --> 00:15:40.566
you're development signing your

00:15:40.566 --> 00:15:40.786
app.

00:15:41.216 --> 00:15:42.516
I'd like to change gears a bit,

00:15:42.516 --> 00:15:44.386
and talk about distribution.

00:15:45.306 --> 00:15:46.576
Now, when you're ready to share

00:15:46.576 --> 00:15:48.036
your app with others, the first

00:15:48.036 --> 00:15:49.466
thing you need to do is build an

00:15:49.466 --> 00:15:49.996
archive.

00:15:51.336 --> 00:15:53.136
An archive is a special release

00:15:53.186 --> 00:15:54.306
build of your application.

00:15:54.716 --> 00:15:56.096
And we recommend development

00:15:56.096 --> 00:15:56.596
signing it.

00:15:56.896 --> 00:15:58.076
In fact, that's the default

00:15:58.076 --> 00:15:58.466
setting.

00:15:59.126 --> 00:16:00.286
Now, the reason that we

00:16:00.286 --> 00:16:01.856
recommend that is so that any

00:16:01.856 --> 00:16:03.446
developer on your team can

00:16:03.446 --> 00:16:04.666
easily build an archive and

00:16:04.666 --> 00:16:05.416
share it with other.

00:16:05.766 --> 00:16:07.196
Without needing access to any

00:16:07.196 --> 00:16:08.866
special distribution signing

00:16:08.866 --> 00:16:09.526
certificates.

00:16:10.496 --> 00:16:13.116
The archive contains both the

00:16:13.116 --> 00:16:14.666
machine code and bitcode of your

00:16:14.666 --> 00:16:16.116
app, as well as your debugging

00:16:16.116 --> 00:16:18.186
symbols, all bundled up

00:16:18.186 --> 00:16:18.616
together.

00:16:18.706 --> 00:16:19.996
And once you've built one of

00:16:19.996 --> 00:16:21.866
these you can use XCode's

00:16:21.866 --> 00:16:23.606
Organizer window to generate an

00:16:23.696 --> 00:16:25.136
IPA and upload it to the App

00:16:25.136 --> 00:16:25.456
Store.

00:16:26.846 --> 00:16:28.736
When you generate that IPA,

00:16:28.736 --> 00:16:30.296
XCode will distribution sign

00:16:30.296 --> 00:16:32.236
your app according to App Store

00:16:32.236 --> 00:16:32.896
requirements.

00:16:33.236 --> 00:16:34.866
So, this is the other part of

00:16:34.866 --> 00:16:35.866
why you can development sign

00:16:35.866 --> 00:16:36.466
your archives.

00:16:36.556 --> 00:16:37.986
Because XCode will resign your

00:16:37.986 --> 00:16:39.566
app when you distribute it.

00:16:40.366 --> 00:16:41.856
In fact, you can distribute your

00:16:41.856 --> 00:16:43.226
archive in a variety of ways.

00:16:43.896 --> 00:16:45.816
You can ad hoc distribution sign

00:16:45.816 --> 00:16:47.516
it if you want to share the app

00:16:47.516 --> 00:16:48.826
with other people on your team

00:16:48.826 --> 00:16:50.056
or your QA engineers.

00:16:50.576 --> 00:16:51.476
Or if you're a member of the

00:16:51.476 --> 00:16:52.996
Enterprise Developer program,

00:16:53.386 --> 00:16:55.456
you can enterprise sign it and

00:16:55.456 --> 00:16:56.526
share the app with other

00:16:56.526 --> 00:16:57.506
employees in your company.

00:16:58.126 --> 00:17:00.346
Now, in addition to the

00:17:00.346 --> 00:17:01.906
distribution method there are a

00:17:01.906 --> 00:17:03.106
lot of other choices you need to

00:17:03.106 --> 00:17:04.165
make when you distribute your

00:17:04.165 --> 00:17:04.306
app.

00:17:05.316 --> 00:17:06.296
You need to choose how you want

00:17:06.296 --> 00:17:07.675
to sign it, which profiles to

00:17:07.675 --> 00:17:08.776
use, which entitlements it

00:17:08.776 --> 00:17:09.076
needs.

00:17:09.695 --> 00:17:11.486
If you're using bitcode app

00:17:11.486 --> 00:17:13.626
thinning or on-demand resources,

00:17:13.915 --> 00:17:15.066
then you also need to decide how

00:17:15.066 --> 00:17:15.925
you want to handle those

00:17:15.925 --> 00:17:16.396
features.

00:17:16.636 --> 00:17:17.576
And if you're uploading to the

00:17:17.576 --> 00:17:18.685
App Store, then you need to

00:17:18.685 --> 00:17:19.596
decide whether you want to

00:17:19.596 --> 00:17:20.626
include symbols or not.

00:17:21.816 --> 00:17:23.286
So, this can get quite complex.

00:17:24.596 --> 00:17:25.915
I'm pleased to announce that in

00:17:25.915 --> 00:17:27.205
XCode 9 we've made some major

00:17:27.205 --> 00:17:28.586
improvements to the distribution

00:17:28.586 --> 00:17:30.156
workflow that'll make is easier

00:17:30.156 --> 00:17:31.426
than ever before to share your

00:17:31.426 --> 00:17:32.276
apps with others.

00:17:32.906 --> 00:17:34.416
While also giving you more power

00:17:34.416 --> 00:17:35.856
and control over the process.

00:17:36.516 --> 00:17:37.946
Now, the first thing we've added

00:17:38.226 --> 00:17:39.396
is automatic signing.

00:17:39.986 --> 00:17:42.896
This works just like during

00:17:42.896 --> 00:17:43.446
development.

00:17:43.446 --> 00:17:44.986
So, XCode will take care of all

00:17:44.986 --> 00:17:46.486
the distribution signing details

00:17:46.486 --> 00:17:47.006
for you.

00:17:47.486 --> 00:17:48.496
And you can focus on other

00:17:48.496 --> 00:17:49.016
tasks.

00:17:49.586 --> 00:17:51.046
In addition to automatic

00:17:51.046 --> 00:17:53.026
signing, for those of you who

00:17:53.026 --> 00:17:54.476
want full control we've added

00:17:54.526 --> 00:17:55.696
manual signing to the

00:17:55.696 --> 00:17:56.706
distribution workflow.

00:17:57.506 --> 00:17:59.066
So, now you can create your own

00:17:59.066 --> 00:18:00.456
distribution profiles and tell

00:18:00.456 --> 00:18:01.586
XCode which ones to use.

00:18:01.946 --> 00:18:03.336
But XCode will never create or

00:18:03.336 --> 00:18:05.086
modify any of those profiles.

00:18:06.456 --> 00:18:09.426
In addition to automatic and

00:18:09.426 --> 00:18:10.666
manual signing, we've made a lot

00:18:10.666 --> 00:18:11.616
of other improvements.

00:18:11.966 --> 00:18:12.836
We've streamlined the

00:18:12.836 --> 00:18:13.846
distribution workflow.

00:18:14.176 --> 00:18:16.086
So, for example, XCode won't ask

00:18:16.086 --> 00:18:17.106
you which development team you

00:18:17.106 --> 00:18:17.956
want to use, anymore.

00:18:18.346 --> 00:18:19.216
Because it already knows the

00:18:19.216 --> 00:18:19.606
answer.

00:18:21.316 --> 00:18:21.506
Yeah.

00:18:22.516 --> 00:18:25.776
[ Applause ]

00:18:26.276 --> 00:18:27.126
We've also improved the

00:18:27.126 --> 00:18:28.606
visibility of errors.

00:18:28.886 --> 00:18:30.376
So, now it's easier to tell what

00:18:30.376 --> 00:18:31.546
went wrong when you run into a

00:18:31.546 --> 00:18:32.796
problem, and what you need to do

00:18:32.796 --> 00:18:34.126
to resolve it.

00:18:35.396 --> 00:18:36.486
We've enhanced export

00:18:36.486 --> 00:18:37.176
functionality.

00:18:37.536 --> 00:18:39.726
So, now in XCode 9, once you've

00:18:39.726 --> 00:18:41.246
uploaded your app to the App

00:18:41.246 --> 00:18:43.056
Store, you can save a copy of

00:18:43.056 --> 00:18:44.236
your IPA in case you need to

00:18:44.236 --> 00:18:45.546
refer back to it, later on.

00:18:46.686 --> 00:18:48.796
And finally, we've enhanced the

00:18:48.796 --> 00:18:50.066
command line support in XCode

00:18:50.066 --> 00:18:51.276
Build, so that you can take

00:18:51.276 --> 00:18:52.416
advantage of all of these new

00:18:52.466 --> 00:18:54.136
features in your automation.

00:18:54.746 --> 00:18:57.136
Let's dive into automatic

00:18:57.136 --> 00:18:58.036
signing, a little bit more.

00:18:58.776 --> 00:19:00.536
This works just like development

00:19:00.536 --> 00:19:00.946
signing.

00:19:01.186 --> 00:19:03.446
XCode will create XCode managed

00:19:03.656 --> 00:19:04.816
distribution profiles.

00:19:05.126 --> 00:19:06.086
These are profiles that are

00:19:06.086 --> 00:19:07.456
completely under XCode's

00:19:07.456 --> 00:19:07.916
control.

00:19:07.956 --> 00:19:10.436
And they're the only profiles

00:19:10.436 --> 00:19:11.506
that XCode will use for

00:19:11.506 --> 00:19:12.896
automatic distribution signing.

00:19:12.976 --> 00:19:14.746
It will never touch or use any

00:19:14.746 --> 00:19:16.346
of your manually made profiles.

00:19:17.676 --> 00:19:18.926
In addition, XCode will make it

00:19:18.926 --> 00:19:20.066
easy to create and share your

00:19:20.066 --> 00:19:21.126
distribution certificates.

00:19:21.576 --> 00:19:22.456
These are different from

00:19:22.456 --> 00:19:23.516
development certificates,

00:19:23.516 --> 00:19:24.756
because they're team owned

00:19:24.756 --> 00:19:25.606
signing assets.

00:19:25.956 --> 00:19:26.986
So, it's really important that

00:19:26.986 --> 00:19:28.236
you know when you've created one

00:19:28.506 --> 00:19:30.206
and you save it, so that you can

00:19:30.206 --> 00:19:31.486
reinstall it later or share it

00:19:31.486 --> 00:19:32.066
with others.

00:19:32.756 --> 00:19:34.576
And finally, last but not least,

00:19:35.076 --> 00:19:36.446
for those of you with carefully

00:19:36.446 --> 00:19:38.626
crafted signing setups, in XCode

00:19:38.626 --> 00:19:40.236
9, XCode will never offer to

00:19:40.236 --> 00:19:41.186
revoke a distribution

00:19:41.186 --> 00:19:41.736
certificate.

00:19:42.516 --> 00:19:45.116
[ Applause ]

00:19:45.616 --> 00:19:46.726
Yeah. So, we're all very happy

00:19:46.726 --> 00:19:47.286
about that one.

00:19:47.696 --> 00:19:48.486
So, you don't have to worry

00:19:48.486 --> 00:19:49.966
about any enterprising member of

00:19:49.966 --> 00:19:51.656
your team ruining your carefully

00:19:51.656 --> 00:19:53.006
crafted setup through XCode,

00:19:53.006 --> 00:19:53.346
anymore.

00:19:55.296 --> 00:19:56.676
So, here's an example of the

00:19:56.676 --> 00:19:57.916
improved Air presentation.

00:19:57.916 --> 00:19:59.356
This is a common and potentially

00:19:59.356 --> 00:19:59.976
confusing situation.

00:20:00.236 --> 00:20:02.556
Someone on your team has already

00:20:02.556 --> 00:20:03.656
created a distribution

00:20:03.656 --> 00:20:05.226
certificate, but you don't have

00:20:05.226 --> 00:20:05.926
that certificate.

00:20:06.356 --> 00:20:08.056
Or, more likely, you don't have

00:20:08.056 --> 00:20:08.806
its private key.

00:20:09.506 --> 00:20:10.956
Well, now XCode 9 tells you

00:20:10.956 --> 00:20:12.096
exactly who created those

00:20:12.096 --> 00:20:13.696
certificates, makes it really

00:20:13.696 --> 00:20:14.716
easy to contact them.

00:20:15.096 --> 00:20:16.266
So, you can get the information

00:20:16.266 --> 00:20:17.556
you need to finish the workflow.

00:20:18.626 --> 00:20:19.736
Now, that's just one example.

00:20:19.736 --> 00:20:20.846
There are many others throughout

00:20:20.846 --> 00:20:22.226
the distribution workflow of

00:20:22.226 --> 00:20:23.196
improved errors.

00:20:25.196 --> 00:20:26.276
The enhanced export

00:20:26.276 --> 00:20:26.906
functionality.

00:20:27.646 --> 00:20:29.526
So, as I mentioned earlier, now

00:20:29.526 --> 00:20:31.056
it's easy to save aside a copy

00:20:31.056 --> 00:20:32.116
of your IPA after you've

00:20:32.116 --> 00:20:33.716
uploaded it to the App Store.

00:20:34.006 --> 00:20:34.936
But you get more than that.

00:20:35.566 --> 00:20:36.846
We also give you a distribution

00:20:36.846 --> 00:20:37.546
summary PLIST.

00:20:37.546 --> 00:20:39.276
So, just like a receipt it shows

00:20:39.276 --> 00:20:40.926
you all the content in your IPA,

00:20:41.106 --> 00:20:42.636
how XCode resigned it, which

00:20:42.636 --> 00:20:44.666
entitlements it has, and so on.

00:20:45.546 --> 00:20:46.816
You also get a packaging log,

00:20:46.816 --> 00:20:47.906
which is like a build log.

00:20:48.296 --> 00:20:50.176
It shows you, step by step, all

00:20:50.176 --> 00:20:51.316
of the commands that XCode

00:20:51.316 --> 00:20:52.926
issued when it transformed your

00:20:52.926 --> 00:20:54.786
archive into an IPA.

00:20:56.046 --> 00:20:58.386
And you get an export options

00:20:58.386 --> 00:20:58.996
PLIST.

00:20:59.796 --> 00:21:01.946
So, this last one is kind of

00:21:01.946 --> 00:21:02.446
interesting.

00:21:03.026 --> 00:21:04.716
An export options PLIST is like

00:21:04.716 --> 00:21:05.306
a recipe.

00:21:05.306 --> 00:21:06.806
It describes how you want to

00:21:06.806 --> 00:21:08.946
transform your archive into an

00:21:09.026 --> 00:21:09.626
IPA.

00:21:10.016 --> 00:21:12.016
And when you want to automate

00:21:12.016 --> 00:21:13.566
the process of generating IPAs,

00:21:13.566 --> 00:21:14.976
which you do, is you invoke

00:21:14.976 --> 00:21:16.326
XCode Build and give it one of

00:21:16.326 --> 00:21:17.826
these export options PLISTs.

00:21:18.346 --> 00:21:19.736
Now, in XCode 9, it's really

00:21:19.736 --> 00:21:21.166
easy to create these, because

00:21:21.166 --> 00:21:22.606
the distribution workflow will

00:21:22.606 --> 00:21:23.576
generate one for you.

00:21:23.866 --> 00:21:24.976
So, you don't need to manually

00:21:24.976 --> 00:21:26.266
edit these PLISTs, anymore.

00:21:27.546 --> 00:21:28.526
Here's an example of what one

00:21:28.526 --> 00:21:28.976
looks like.

00:21:29.696 --> 00:21:31.086
This is a really simple export

00:21:31.086 --> 00:21:31.796
options PLIST.

00:21:31.796 --> 00:21:33.566
As you can see, I've set up

00:21:33.676 --> 00:21:35.356
automatic signing and I'm

00:21:35.356 --> 00:21:36.576
exporting for the App Store.

00:21:37.526 --> 00:21:38.746
And this last key in their

00:21:38.746 --> 00:21:39.926
upload symbols, I actually don't

00:21:39.926 --> 00:21:40.846
even need to include that.

00:21:40.846 --> 00:21:42.136
Because it defaults to Yes.

00:21:42.656 --> 00:21:44.036
Now, there are a lot of options

00:21:44.126 --> 00:21:45.386
that you can specify in these

00:21:45.386 --> 00:21:45.806
files.

00:21:46.206 --> 00:21:47.876
You can invoke XCode Build dash

00:21:47.876 --> 00:21:49.636
Help in terminal, to see

00:21:49.636 --> 00:21:50.786
everything that you can include

00:21:50.786 --> 00:21:52.006
in an export options PLIST.

00:21:52.326 --> 00:21:53.356
But most of the options have

00:21:53.356 --> 00:21:54.336
sensible defaults.

00:21:55.916 --> 00:21:56.896
When you're ready to use this,

00:21:56.896 --> 00:21:58.486
all you do is invoke XCode Build

00:21:58.566 --> 00:22:00.476
dash export archive, pass the

00:22:00.476 --> 00:22:01.486
path of your archive and the

00:22:01.486 --> 00:22:02.736
path to your export options

00:22:02.776 --> 00:22:03.226
PLIST.

00:22:03.796 --> 00:22:05.266
And XCode Build will generate an

00:22:05.426 --> 00:22:06.076
IPA for you.

00:22:06.726 --> 00:22:08.676
Now, there's one other thing.

00:22:08.766 --> 00:22:09.966
As you'll recall from Chris's

00:22:09.966 --> 00:22:11.936
section, we've added a new flag

00:22:11.976 --> 00:22:12.986
to XCode Build called

00:22:12.986 --> 00:22:14.346
allowProvisioningUpdates.

00:22:14.616 --> 00:22:15.616
And you can use that here, as

00:22:15.616 --> 00:22:15.996
well.

00:22:16.266 --> 00:22:17.406
So, that XCode Build will

00:22:17.406 --> 00:22:18.606
automatically generate

00:22:18.876 --> 00:22:19.966
distribution provisioning

00:22:19.966 --> 00:22:20.826
profiles for you.

00:22:21.206 --> 00:22:22.426
Anything that's necessary in

00:22:22.426 --> 00:22:24.476
order to generate your IPA.

00:22:25.116 --> 00:22:26.626
So, let's take a look at the new

00:22:26.626 --> 00:22:27.956
distribution workflow in action.

00:22:35.456 --> 00:22:36.716
Okay. So, here's our

00:22:36.716 --> 00:22:37.716
ChocolateChip app, which we've

00:22:37.716 --> 00:22:38.886
been working on for a while.

00:22:39.666 --> 00:22:40.586
And as you can see, our

00:22:40.586 --> 00:22:41.926
extensive two test suite is

00:22:41.926 --> 00:22:42.476
passing.

00:22:42.476 --> 00:22:43.686
So, now we're ready to upload it

00:22:43.686 --> 00:22:44.346
to the App Store.

00:22:45.126 --> 00:22:46.416
I'm going to start that off by

00:22:46.416 --> 00:22:48.726
clicking product and creating an

00:22:48.726 --> 00:22:49.236
archive.

00:22:49.916 --> 00:22:51.606
And XCode's going to do that

00:22:51.606 --> 00:22:53.396
release build of my app, bundle

00:22:53.396 --> 00:22:55.226
it all up, and then show me the

00:22:55.226 --> 00:22:56.886
archive once it's completed, in

00:22:56.886 --> 00:22:57.776
the Organizer window.

00:22:58.866 --> 00:23:00.856
From here, I can easily upload

00:23:00.856 --> 00:23:02.116
it to the App Store by clicking

00:23:02.116 --> 00:23:04.886
this very shiny enticing blue

00:23:04.886 --> 00:23:05.236
button.

00:23:06.256 --> 00:23:07.286
And when I click that, the

00:23:07.286 --> 00:23:08.546
distribution workflow will drop

00:23:08.546 --> 00:23:08.876
down.

00:23:09.796 --> 00:23:11.526
Now, XCode's going to start by

00:23:11.526 --> 00:23:12.886
analyzing some of the content in

00:23:12.886 --> 00:23:13.436
my archive.

00:23:13.846 --> 00:23:15.216
And that includes how my app was

00:23:15.266 --> 00:23:15.676
signed.

00:23:15.786 --> 00:23:17.286
So, that's how XCode knows which

00:23:17.286 --> 00:23:18.346
development team I'm using.

00:23:18.696 --> 00:23:20.306
It just reads the signature of

00:23:20.306 --> 00:23:21.086
my archived app.

00:23:22.186 --> 00:23:23.706
It also determines which options

00:23:23.746 --> 00:23:25.176
to show me on the next screen.

00:23:25.906 --> 00:23:27.256
This content is going to vary,

00:23:27.256 --> 00:23:28.746
depending on what's in your

00:23:28.746 --> 00:23:30.096
archive, as well as the

00:23:30.096 --> 00:23:31.496
distribution method you choose.

00:23:31.896 --> 00:23:33.196
So, if I had chosen ad hoc

00:23:33.236 --> 00:23:35.306
distribution, then I'd see some

00:23:35.306 --> 00:23:36.196
different options in here.

00:23:37.306 --> 00:23:38.346
so, in this case, I have a

00:23:38.346 --> 00:23:39.946
bitcode option, because my app

00:23:39.946 --> 00:23:40.766
contains bitcode.

00:23:41.546 --> 00:23:44.876
I also have a new Scrip Swift

00:23:44.876 --> 00:23:45.616
symbols option.

00:23:46.716 --> 00:23:48.286
What this is going to do, is it

00:23:48.286 --> 00:23:50.156
allows the App Store to scrip

00:23:50.496 --> 00:23:51.956
Swift symbols from the Swift

00:23:51.956 --> 00:23:53.206
standard libraries in my app.

00:23:54.006 --> 00:23:54.916
And that's going to greatly

00:23:54.916 --> 00:23:56.306
reduce the download size of my

00:23:56.306 --> 00:23:57.426
app for my customers.

00:23:57.426 --> 00:23:58.726
So, I'm going to leave that on.

00:23:58.726 --> 00:24:01.216
I also have the option to upload

00:24:01.216 --> 00:24:03.106
symbols, which will allow me to

00:24:03.106 --> 00:24:04.396
receive symbolicated crash

00:24:04.396 --> 00:24:05.296
reports from Apple.

00:24:05.296 --> 00:24:06.536
So, I'll leave that on, as well.

00:24:06.816 --> 00:24:07.396
And click Next.

00:24:08.616 --> 00:24:09.836
The next step is where I can

00:24:09.836 --> 00:24:11.106
choose how I want to resign my

00:24:11.106 --> 00:24:11.346
app.

00:24:11.796 --> 00:24:12.876
I'll talk a little bit more

00:24:12.876 --> 00:24:14.596
about manual signing, later.

00:24:14.896 --> 00:24:15.656
For now, we'll stick to

00:24:15.656 --> 00:24:16.196
automatic.

00:24:17.306 --> 00:24:18.486
And XCode's going to start

00:24:18.486 --> 00:24:19.886
talking to the developer website

00:24:20.146 --> 00:24:22.556
and figure out how to resign my

00:24:22.556 --> 00:24:22.796
app.

00:24:23.386 --> 00:24:24.756
The first thing it looks for is

00:24:24.756 --> 00:24:25.726
a distribution signing

00:24:25.726 --> 00:24:26.306
certificate.

00:24:26.926 --> 00:24:27.946
Now, in this case, my team

00:24:27.946 --> 00:24:29.226
hasn't actually created one,

00:24:29.226 --> 00:24:29.426
yet.

00:24:30.056 --> 00:24:31.376
So, XCode tells me about that

00:24:31.986 --> 00:24:33.296
and asks me if I want to create

00:24:33.296 --> 00:24:33.566
one.

00:24:34.296 --> 00:24:35.656
So, now XCode won't just create

00:24:35.656 --> 00:24:36.446
one behind my back.

00:24:36.446 --> 00:24:38.066
I'm fully aware that I'll have a

00:24:38.066 --> 00:24:39.866
distribution certificate, and

00:24:39.866 --> 00:24:41.096
all I need to do is give XCode

00:24:41.096 --> 00:24:42.286
permission and click Next.

00:24:42.636 --> 00:24:44.626
And XCode will generate it.

00:24:44.626 --> 00:24:46.796
After that, XCode will ask me if

00:24:46.796 --> 00:24:48.366
I want to export my certificate.

00:24:48.676 --> 00:24:49.746
Like I said earlier, this is

00:24:49.746 --> 00:24:50.836
really important, because these

00:24:50.836 --> 00:24:52.766
are team owned assets.

00:24:52.926 --> 00:24:53.916
And there might be other people

00:24:53.916 --> 00:24:55.126
on my team who need to also

00:24:55.126 --> 00:24:56.036
distribution sign.

00:24:56.406 --> 00:24:57.726
Or I might need to reinstall the

00:24:57.726 --> 00:24:58.626
certificate, later.

00:24:58.936 --> 00:24:59.966
So, we really recommend

00:24:59.966 --> 00:25:01.016
exporting a copy of your

00:25:01.016 --> 00:25:01.626
certificate.

00:25:02.266 --> 00:25:03.786
For now, since this is a demo,

00:25:03.786 --> 00:25:04.716
I'll click Next.

00:25:05.656 --> 00:25:07.046
And now, XCode's going to

00:25:07.046 --> 00:25:08.546
continue talking to the portal,

00:25:08.796 --> 00:25:10.266
generating my distribution

00:25:10.266 --> 00:25:11.206
provisioning profiles.

00:25:11.206 --> 00:25:13.086
I'll allow Codesign to use my

00:25:13.246 --> 00:25:14.266
newly created signing

00:25:14.266 --> 00:25:14.776
certificate.

00:25:14.776 --> 00:25:15.776
That's how you can tell this is

00:25:15.776 --> 00:25:16.096
live.

00:25:16.466 --> 00:25:19.926
And once XCode is done it'll

00:25:19.926 --> 00:25:21.686
show me details about the IPA

00:25:21.686 --> 00:25:22.336
that it's created.

00:25:23.196 --> 00:25:24.666
I can see all the content in my

00:25:24.666 --> 00:25:26.786
IPA, including my framework, my

00:25:26.786 --> 00:25:28.246
app extension, and my watch app.

00:25:28.706 --> 00:25:29.966
Right in here I can see how

00:25:29.966 --> 00:25:31.576
they're signed, and I can double

00:25:31.576 --> 00:25:32.596
check that the entitlements are

00:25:32.596 --> 00:25:33.076
correct.

00:25:33.666 --> 00:25:34.816
So, this gives me a chance to

00:25:34.816 --> 00:25:36.856
make sure my app is all correct

00:25:36.856 --> 00:25:38.796
before I upload it to the App

00:25:38.796 --> 00:25:39.056
Store.

00:25:40.206 --> 00:25:41.816
Once I'm sure it fine, I'll

00:25:41.816 --> 00:25:43.386
click Upload and XCode will

00:25:43.386 --> 00:25:44.626
upload my app to the store.

00:25:45.396 --> 00:25:47.386
Now, in the past, once this

00:25:47.386 --> 00:25:48.966
completes this is where the

00:25:48.966 --> 00:25:50.296
workflow would end in XCode.

00:25:51.246 --> 00:25:52.196
But now, there's one additional

00:25:52.196 --> 00:25:53.006
thing I can do, here.

00:25:53.256 --> 00:25:54.126
I can export.

00:25:54.126 --> 00:25:58.526
So, when I select Export and

00:25:58.526 --> 00:26:01.886
save to the desktop, XCode will

00:26:01.886 --> 00:26:03.116
generate a new directory

00:26:03.616 --> 00:26:07.486
containing my IPA as well as all

00:26:07.486 --> 00:26:08.736
of those other files, including

00:26:08.736 --> 00:26:10.146
an export options PLIST that I

00:26:10.146 --> 00:26:10.886
mentioned, earlier.

00:26:11.036 --> 00:26:14.716
So, that's the new distribution

00:26:14.766 --> 00:26:16.676
workflow using automatic signing

00:26:16.676 --> 00:26:17.416
in XCode 9.

00:26:18.576 --> 00:26:20.276
Now, let's talk a little bit

00:26:20.996 --> 00:26:23.426
about manual signing.

00:26:23.536 --> 00:26:25.256
Manual signing also works just

00:26:25.256 --> 00:26:26.276
like during development.

00:26:27.106 --> 00:26:28.476
You or someone on your team will

00:26:28.476 --> 00:26:30.076
create provisioning profiles,

00:26:30.076 --> 00:26:32.206
and then you can select them in

00:26:32.206 --> 00:26:33.756
the XCode distribution workflow.

00:26:34.906 --> 00:26:36.336
XCode won't ever create or

00:26:36.336 --> 00:26:38.206
modify any of these manual

00:26:38.206 --> 00:26:38.826
profiles.

00:26:38.826 --> 00:26:39.896
So, you're in full control.

00:26:41.656 --> 00:26:43.186
This is fully compatible with

00:26:43.186 --> 00:26:43.736
XCode Build.

00:26:43.926 --> 00:26:45.906
So, you can still automate the

00:26:45.906 --> 00:26:47.216
creation of your IPAs if you

00:26:47.216 --> 00:26:48.266
want to use manual signing.

00:26:48.586 --> 00:26:49.356
But there's one note.

00:26:49.736 --> 00:26:51.136
If your archive was manually

00:26:51.136 --> 00:26:52.496
signed when you built it, then

00:26:52.496 --> 00:26:53.816
you also need to manually sign

00:26:53.816 --> 00:26:54.606
when you distribute.

00:26:55.486 --> 00:26:56.796
So, how do you use manual

00:26:56.796 --> 00:26:57.216
signing?

00:26:58.736 --> 00:27:00.156
You'll recall this screen from

00:27:00.156 --> 00:27:01.156
my demo, a moment ago.

00:27:01.306 --> 00:27:02.786
If you choose manual signing,

00:27:02.786 --> 00:27:03.336
click Next.

00:27:04.526 --> 00:27:05.356
Then, you'll be greeted with

00:27:05.356 --> 00:27:06.066
this interface.

00:27:06.546 --> 00:27:07.906
This is really similar to the

00:27:07.906 --> 00:27:09.706
signing UI that you see in the

00:27:09.706 --> 00:27:11.246
General tab in XCode's project

00:27:11.246 --> 00:27:11.616
editor.

00:27:12.256 --> 00:27:13.446
You can select the distribution

00:27:13.446 --> 00:27:14.566
certificate you want to use.

00:27:14.946 --> 00:27:16.726
And then, profiles for each of

00:27:16.726 --> 00:27:18.846
the items in your app.

00:27:19.136 --> 00:27:20.366
When you pop open those popup

00:27:20.366 --> 00:27:22.386
menus, you see the profiles that

00:27:22.386 --> 00:27:23.876
are eligible, ineligible.

00:27:23.876 --> 00:27:25.326
You can import profiles or

00:27:25.326 --> 00:27:26.806
download profiles form the

00:27:26.806 --> 00:27:28.346
portal directly within the

00:27:28.346 --> 00:27:29.346
distribution workflow.

00:27:30.176 --> 00:27:31.796
And if you select an ineligible

00:27:31.796 --> 00:27:33.366
profile you'll see issues

00:27:33.366 --> 00:27:34.846
associated with that selection

00:27:35.136 --> 00:27:36.426
right underneath your selection.

00:27:37.476 --> 00:27:38.706
Once you've selected valid

00:27:38.706 --> 00:27:39.986
profiles for everything in your

00:27:39.986 --> 00:27:41.136
app, you can click Next and

00:27:41.136 --> 00:27:42.206
continue with the workflow.

00:27:42.776 --> 00:27:45.846
And as I said, this is all fully

00:27:45.846 --> 00:27:47.866
compatible with XCode Build.

00:27:47.866 --> 00:27:49.236
All you need to do is specify a

00:27:49.276 --> 00:27:50.786
couple of additional keys in

00:27:50.786 --> 00:27:52.016
your export options PLIST.

00:27:52.586 --> 00:27:54.006
So, you can see here, I've set

00:27:54.006 --> 00:27:55.476
Signing Style to manual.

00:27:56.386 --> 00:27:57.906
And I've also provided a

00:27:57.936 --> 00:27:59.616
provisioning profiles entry that

00:27:59.616 --> 00:28:01.586
lists all the items in my app by

00:28:01.586 --> 00:28:03.056
bundle identifier, and all the

00:28:03.056 --> 00:28:04.166
profiles I want to use.

00:28:04.586 --> 00:28:05.376
And that's it.

00:28:05.376 --> 00:28:06.896
Now, I'm set up for automation.

00:28:07.486 --> 00:28:10.126
So, that's the new distribution

00:28:10.126 --> 00:28:11.196
workflow in XCode 9.

00:28:11.516 --> 00:28:12.376
We think you're all really going

00:28:12.376 --> 00:28:12.776
to love it.

00:28:13.056 --> 00:28:14.306
And now, I'd like to invite

00:28:14.306 --> 00:28:15.756
Brent onstage to talk about

00:28:15.756 --> 00:28:17.256
distribution signing in XCode

00:28:17.256 --> 00:28:17.616
Server.

00:28:18.516 --> 00:28:22.816
[ Applause ]

00:28:23.316 --> 00:28:24.026
>> Thank you, everyone.

00:28:24.376 --> 00:28:25.666
I'm really excited to be here,

00:28:25.666 --> 00:28:27.096
today, because for the first

00:28:27.096 --> 00:28:28.796
time in public we're going to

00:28:28.796 --> 00:28:30.116
show you how you can use an

00:28:30.116 --> 00:28:32.606
XCode Server to automatically

00:28:32.606 --> 00:28:34.786
create distribution signed IPAs

00:28:34.786 --> 00:28:35.196
for you.

00:28:35.196 --> 00:28:36.186
This is really exciting.

00:28:36.406 --> 00:28:37.226
It's a missing piece of the

00:28:37.226 --> 00:28:39.086
puzzle and we finally delivered

00:28:39.086 --> 00:28:40.226
it, and it's really great.

00:28:40.766 --> 00:28:43.026
But first, how did we do this?

00:28:43.766 --> 00:28:45.606
Well, in XCode 8 and XCode 9, we

00:28:45.606 --> 00:28:47.236
introduced great automatic

00:28:47.276 --> 00:28:48.456
signing workflows in XCode.

00:28:48.876 --> 00:28:50.216
And XCode Server gets all of

00:28:50.216 --> 00:28:51.066
that for free.

00:28:51.726 --> 00:28:53.076
Likewise, all of the

00:28:53.076 --> 00:28:54.596
distribution workflows and that

00:28:54.596 --> 00:28:56.786
underlying technology, XCode

00:28:56.786 --> 00:28:58.226
Server also gets that from

00:28:58.226 --> 00:28:58.596
XCode.

00:28:58.966 --> 00:29:00.456
So, we have automatic signing,

00:29:00.666 --> 00:29:02.086
we have distribution, we have

00:29:02.086 --> 00:29:03.586
XCode Server, we have great

00:29:03.586 --> 00:29:05.006
workflows for development.

00:29:05.006 --> 00:29:06.126
And distribution signing.

00:29:06.126 --> 00:29:09.866
How does this all work?

00:29:10.066 --> 00:29:11.676
So, Chris showed you a slide

00:29:11.676 --> 00:29:12.746
that looked a little bit like

00:29:12.816 --> 00:29:13.116
this.

00:29:13.456 --> 00:29:14.676
And it's important to understand

00:29:14.786 --> 00:29:16.526
how XCode Server does this job.

00:29:16.526 --> 00:29:21.086
In order to sign an archive to

00:29:21.086 --> 00:29:22.306
create an IPA from it for

00:29:22.306 --> 00:29:24.336
distribution, XCode Server needs

00:29:24.336 --> 00:29:25.316
some special assets.

00:29:25.716 --> 00:29:27.126
Just like for development, it

00:29:27.126 --> 00:29:28.486
needs signing certificates and

00:29:28.486 --> 00:29:30.056
it needs provisioning profiles.

00:29:30.606 --> 00:29:32.336
Now fortunately, we've made this

00:29:32.336 --> 00:29:32.896
very easy.

00:29:33.446 --> 00:29:34.776
If you allow XCode Server to

00:29:34.776 --> 00:29:36.136
communicate with the developer

00:29:36.136 --> 00:29:38.806
portal on your behalf, it can

00:29:38.806 --> 00:29:39.896
get most of these things for

00:29:39.896 --> 00:29:40.066
you.

00:29:40.066 --> 00:29:40.826
It can get the provisioning

00:29:40.826 --> 00:29:42.266
profiles automatically.

00:29:43.116 --> 00:29:44.106
But there's one thing it can't

00:29:44.106 --> 00:29:45.626
get, and that's the distribution

00:29:45.826 --> 00:29:46.606
signing certificate.

00:29:47.336 --> 00:29:48.086
That's really no big deal,

00:29:48.086 --> 00:29:49.186
because we provide a great

00:29:49.186 --> 00:29:50.476
experience for you to share this

00:29:50.476 --> 00:29:51.096
with your server.

00:29:51.696 --> 00:29:53.896
So, once your XCode Server has

00:29:53.896 --> 00:29:55.666
all of these assets it can build

00:29:55.666 --> 00:29:56.226
an archive.

00:29:56.226 --> 00:29:57.556
And then, it can transform that

00:29:57.556 --> 00:30:00.066
archive into an IPA for

00:30:00.226 --> 00:30:01.906
distribution to the App Store.

00:30:02.046 --> 00:30:07.606
So, what do you need to do?

00:30:08.186 --> 00:30:09.326
You need to copy distribution

00:30:09.326 --> 00:30:10.586
certificates to the server.

00:30:11.056 --> 00:30:12.596
You need to make sure that

00:30:12.596 --> 00:30:14.266
automatic signing is turned on.

00:30:14.266 --> 00:30:15.306
But this will also work for

00:30:15.306 --> 00:30:15.746
manual.

00:30:15.746 --> 00:30:16.306
I'll show you that.

00:30:16.886 --> 00:30:17.936
And then, thirdly, there's this

00:30:17.936 --> 00:30:19.686
export options PLIST that I

00:30:19.686 --> 00:30:20.296
talked to you about.

00:30:20.506 --> 00:30:22.766
So, what's that all about?

00:30:22.766 --> 00:30:24.146
Well, the export options PLIST

00:30:24.146 --> 00:30:25.856
is just a simple recipe for how

00:30:25.856 --> 00:30:27.216
you want XCode Server to

00:30:27.216 --> 00:30:29.086
transform your archive into an

00:30:29.126 --> 00:30:29.446
IPA.

00:30:29.786 --> 00:30:30.896
They can be very simple, and the

00:30:30.896 --> 00:30:32.656
can also scale up to some more

00:30:32.816 --> 00:30:34.446
complex manual signing

00:30:34.826 --> 00:30:35.486
scenarios, too.

00:30:37.006 --> 00:30:38.006
So, I've been saying App Store a

00:30:38.006 --> 00:30:39.436
lot, but I want to emphasize

00:30:39.856 --> 00:30:41.516
that what we've built here, lets

00:30:41.516 --> 00:30:43.766
you distribute for all of the

00:30:43.766 --> 00:30:44.526
distribution methods.

00:30:44.526 --> 00:30:45.576
So, if you're doing enterprise

00:30:45.896 --> 00:30:47.086
or ad hoc or App Store, or

00:30:47.086 --> 00:30:48.286
whatever, this would just work.

00:30:48.516 --> 00:30:49.266
So, we think that's really

00:30:49.266 --> 00:30:49.486
great.

00:30:50.796 --> 00:30:51.976
So, let's see this in action.

00:30:58.836 --> 00:31:00.536
So, here's our ChocolateChip Bot

00:31:00.536 --> 00:31:01.916
that's been dutifully building

00:31:01.916 --> 00:31:04.126
our app and running tests on

00:31:04.126 --> 00:31:05.606
devices for two months, now.

00:31:06.236 --> 00:31:07.316
So, what I want to do is I want

00:31:07.316 --> 00:31:09.706
to repurpose this Bot to build

00:31:10.226 --> 00:31:11.306
IPAs for me.

00:31:11.756 --> 00:31:13.316
Now, we recommend as a best

00:31:13.316 --> 00:31:14.196
practice that you create a

00:31:14.196 --> 00:31:15.916
dedicated Bot for this purpose,

00:31:15.986 --> 00:31:17.166
for creating IPAs.

00:31:17.376 --> 00:31:18.266
But I'm just going to repurpose

00:31:18.266 --> 00:31:19.926
this one for demo purposed,

00:31:19.926 --> 00:31:20.286
today.

00:31:20.756 --> 00:31:22.326
So, we'll go and edit the Bot.

00:31:22.806 --> 00:31:23.636
There a lot of options in the

00:31:23.636 --> 00:31:24.216
Bot editor.

00:31:24.216 --> 00:31:25.446
But what we need to do today is

00:31:25.446 --> 00:31:26.036
pretty simple.

00:31:26.546 --> 00:31:27.756
First, we're going to visit the

00:31:27.756 --> 00:31:28.676
Configuration tab.

00:31:29.106 --> 00:31:30.496
And in here, we're going to turn

00:31:30.496 --> 00:31:31.376
on Archiving.

00:31:32.136 --> 00:31:33.656
Now, ever since XCode 5, when we

00:31:33.656 --> 00:31:35.226
introduced XCode Server, it's

00:31:35.226 --> 00:31:36.786
been able to create archives for

00:31:36.786 --> 00:31:36.976
you.

00:31:36.976 --> 00:31:37.866
And there have been a lot of

00:31:37.866 --> 00:31:38.906
great workflows, there.

00:31:39.326 --> 00:31:40.376
For example, you can create

00:31:40.376 --> 00:31:41.506
archives and then do

00:31:41.626 --> 00:31:43.166
over-the-air installs with XCode

00:31:43.166 --> 00:31:43.496
Server.

00:31:43.496 --> 00:31:44.426
And that's been great.

00:31:44.426 --> 00:31:45.506
You can still do that.

00:31:45.756 --> 00:31:47.556
But there's one new option that

00:31:47.556 --> 00:31:48.316
we've added, here.

00:31:48.776 --> 00:31:50.076
And that's what enables XCode

00:31:50.076 --> 00:31:51.486
Server to create this

00:31:51.486 --> 00:31:53.806
distribution signed IPA for you.

00:31:54.306 --> 00:31:55.256
So, that's the final option,

00:31:55.256 --> 00:31:55.456
here.

00:31:55.706 --> 00:31:57.606
Use custom export options PLIST.

00:31:57.606 --> 00:31:59.086
Well, where do I get one of

00:31:59.086 --> 00:31:59.356
those?

00:32:00.326 --> 00:32:01.626
Itai, being the great guy that

00:32:01.626 --> 00:32:03.836
he is, you may remember he

00:32:03.836 --> 00:32:05.756
exported that for me after he

00:32:05.756 --> 00:32:07.196
uploaded his app to the App

00:32:07.196 --> 00:32:07.516
Store.

00:32:07.986 --> 00:32:09.406
So, I'll go and I'll select

00:32:09.406 --> 00:32:09.756
that, now.

00:32:10.256 --> 00:32:12.186
So, it's a good idea at this

00:32:12.186 --> 00:32:13.716
point, that you verify that this

00:32:13.716 --> 00:32:14.756
is the right export options

00:32:14.756 --> 00:32:15.116
PLIST.

00:32:15.116 --> 00:32:16.826
So, conveniently, you can just

00:32:16.826 --> 00:32:17.276
click like it.

00:32:17.986 --> 00:32:19.556
This is a pretty simple example

00:32:19.806 --> 00:32:21.146
of an export options PLIST.

00:32:21.566 --> 00:32:22.856
But you may remember from one of

00:32:22.856 --> 00:32:25.196
Itai's slides, if you have some

00:32:25.226 --> 00:32:26.986
more complex manual workflows

00:32:27.486 --> 00:32:29.356
you would end up, perhaps,

00:32:29.516 --> 00:32:30.776
having specific provisioning

00:32:30.776 --> 00:32:31.916
profiles, here.

00:32:31.956 --> 00:32:33.186
And other things you can do.

00:32:33.186 --> 00:32:33.976
So, it's a good idea.

00:32:33.976 --> 00:32:34.926
Just verify that this is the

00:32:34.926 --> 00:32:36.266
right export options PLIST.

00:32:36.806 --> 00:32:37.466
So, we've done that.

00:32:37.466 --> 00:32:39.216
And that's it for the

00:32:39.216 --> 00:32:40.036
Configuration tab.

00:32:40.876 --> 00:32:41.936
Let's visit the Signing tab.

00:32:43.256 --> 00:32:44.536
So, this is brand new in XCode

00:32:44.536 --> 00:32:45.536
9, and we're pretty excited.

00:32:45.536 --> 00:32:46.606
Because this is how you

00:32:46.606 --> 00:32:48.516
configure XCode Server to do

00:32:48.616 --> 00:32:49.676
both development signing and

00:32:49.676 --> 00:32:50.516
distribution signing.

00:32:51.066 --> 00:32:53.496
So, these two checkboxes at the

00:32:53.496 --> 00:32:54.766
top, Chris already checked for

00:32:54.766 --> 00:32:54.976
us.

00:32:55.226 --> 00:32:56.536
And remember, the top one lets

00:32:56.536 --> 00:32:57.796
XCode Server communicate with

00:32:57.796 --> 00:32:59.306
the developer website on my

00:32:59.306 --> 00:32:59.756
behalf.

00:33:00.206 --> 00:33:01.396
My team is already added to the

00:33:01.396 --> 00:33:01.786
server.

00:33:01.966 --> 00:33:03.766
And even if you have a manual

00:33:03.766 --> 00:33:05.246
distribution workflow, it's

00:33:05.246 --> 00:33:06.416
really a good idea that you

00:33:06.416 --> 00:33:07.426
still have this checkbox

00:33:07.576 --> 00:33:07.756
checked.

00:33:08.206 --> 00:33:10.006
So, now let's visit the

00:33:10.006 --> 00:33:11.496
Certificates and Profiles tab.

00:33:12.146 --> 00:33:12.726
So, what's in here?

00:33:13.226 --> 00:33:14.886
There are two tables at the top.

00:33:15.456 --> 00:33:16.596
Shows me all the certificates

00:33:16.596 --> 00:33:17.426
that are installed on this

00:33:17.426 --> 00:33:17.816
machine.

00:33:17.816 --> 00:33:18.906
And the bottom are the

00:33:18.906 --> 00:33:19.816
provisioning profiles.

00:33:20.356 --> 00:33:21.436
And what I need to do, is I need

00:33:21.436 --> 00:33:23.026
to share the distribution

00:33:23.026 --> 00:33:24.106
certificate with my server.

00:33:24.656 --> 00:33:25.346
That's real easy.

00:33:25.726 --> 00:33:27.206
Just click add the server, and

00:33:27.206 --> 00:33:27.526
it's done.

00:33:27.726 --> 00:33:28.626
That's all I need to do.

00:33:28.626 --> 00:33:30.416
And now, XCode Server has access

00:33:30.416 --> 00:33:31.146
to that distribution

00:33:31.146 --> 00:33:31.716
certificate.

00:33:32.076 --> 00:33:33.186
And because I've allowed it to

00:33:33.186 --> 00:33:34.556
talk to the developer website on

00:33:34.556 --> 00:33:36.406
my behalf, it can get all the

00:33:36.406 --> 00:33:38.256
assets it needs to create that

00:33:38.256 --> 00:33:38.466
IPA.

00:33:38.826 --> 00:33:41.226
You may be wondering what I need

00:33:41.226 --> 00:33:42.346
to do with the provisioning

00:33:42.436 --> 00:33:43.156
profiles table.

00:33:43.156 --> 00:33:44.436
Well, for most of you if you're

00:33:44.436 --> 00:33:45.776
doing automatic code signing,

00:33:45.776 --> 00:33:46.876
and you're doing App Store

00:33:46.876 --> 00:33:48.166
distribution, you don't need to

00:33:48.166 --> 00:33:48.706
do anything.

00:33:49.156 --> 00:33:50.606
But if you're targeting one of

00:33:50.606 --> 00:33:51.626
those other distribution

00:33:51.626 --> 00:33:53.776
methods, or you've specified

00:33:53.776 --> 00:33:55.236
particular profiles in that

00:33:55.236 --> 00:33:56.566
export options PLIST that we

00:33:56.566 --> 00:33:56.966
looked at.

00:33:57.516 --> 00:33:58.576
You're on the hook for making

00:33:58.576 --> 00:33:59.726
sure your server has those

00:33:59.726 --> 00:34:00.716
provisioning profiles.

00:34:01.136 --> 00:34:02.136
Again, that's really easy.

00:34:02.486 --> 00:34:03.706
Any profile you want to share,

00:34:03.806 --> 00:34:04.946
you just click Add the Server,

00:34:04.946 --> 00:34:06.206
and that will share it with your

00:34:06.206 --> 00:34:06.746
XCode Server.

00:34:07.506 --> 00:34:08.146
So, that's it.

00:34:08.525 --> 00:34:10.025
I've visited the Signing tab and

00:34:10.025 --> 00:34:11.056
the Configuration tab.

00:34:11.056 --> 00:34:12.636
And now, this is the moment

00:34:12.636 --> 00:34:13.366
you've been waiting for.

00:34:13.476 --> 00:34:15.156
Let's integrate this Bot and

00:34:15.196 --> 00:34:16.956
watch it create two things.

00:34:16.956 --> 00:34:17.936
It's going to create an archive.

00:34:17.985 --> 00:34:18.856
And then, it's going to

00:34:18.856 --> 00:34:21.235
transform that archive into a

00:34:21.235 --> 00:34:23.326
distribution signed IPA that I

00:34:23.326 --> 00:34:24.466
can then upload to the App

00:34:24.466 --> 00:34:24.755
Store.

00:34:30.166 --> 00:34:31.036
And there it is.

00:34:31.255 --> 00:34:32.295
So, for the first time.

00:34:32.576 --> 00:34:33.936
This is a really exciting

00:34:33.936 --> 00:34:35.606
development in XCode Server, and

00:34:35.726 --> 00:34:36.746
it's going to save you a lot of

00:34:36.746 --> 00:34:36.976
time.

00:34:37.516 --> 00:34:44.985
[ Applause ]

00:34:45.485 --> 00:34:46.216
So, code signing.

00:34:46.366 --> 00:34:47.545
Code signing is really

00:34:47.545 --> 00:34:48.106
important.

00:34:48.476 --> 00:34:49.626
And we should feel fortunate as

00:34:49.626 --> 00:34:51.315
developers and users that we're

00:34:51.315 --> 00:34:52.516
using platforms where code

00:34:52.516 --> 00:34:54.416
signing is an integral part of

00:34:54.416 --> 00:34:55.056
the experience.

00:34:55.856 --> 00:34:56.866
It keeps us safe.

00:34:57.256 --> 00:34:58.176
It keeps us secure.

00:34:58.686 --> 00:34:59.636
We know it's hard to get right.

00:35:00.006 --> 00:35:02.176
But in XCode 8 and XCode 9 we've

00:35:02.176 --> 00:35:04.006
put a ton of work into providing

00:35:04.006 --> 00:35:05.296
really great solutions for you.

00:35:05.296 --> 00:35:06.536
And we think it's easier than

00:35:06.536 --> 00:35:06.776
ever.

00:35:07.446 --> 00:35:08.866
So, we have development signing

00:35:08.866 --> 00:35:10.316
with XCode Server, for your day

00:35:10.316 --> 00:35:11.086
to day development.

00:35:11.356 --> 00:35:12.396
And testing on devices.

00:35:13.956 --> 00:35:15.126
We've also done a lot of work

00:35:15.126 --> 00:35:16.266
for manual signing, because we

00:35:16.266 --> 00:35:17.206
know that's important to a lot

00:35:17.206 --> 00:35:17.456
of you.

00:35:17.616 --> 00:35:20.696
We've made bit improvements to

00:35:20.696 --> 00:35:21.826
the distribution workflow in

00:35:21.826 --> 00:35:22.276
XCode.

00:35:22.626 --> 00:35:23.876
And of course, we've brought

00:35:23.876 --> 00:35:25.416
that distribution workflow to

00:35:25.416 --> 00:35:26.076
XCode Server.

00:35:27.246 --> 00:35:27.746
So, that's it.

00:35:27.746 --> 00:35:30.016
There are a lot more related

00:35:30.016 --> 00:35:31.126
session, this week, no this

00:35:31.126 --> 00:35:31.746
topic.

00:35:32.096 --> 00:35:32.866
Thanks for attending.

00:35:33.116 --> 00:35:33.776
Have a great week.

00:35:34.516 --> 00:35:37.500
[ Applause ]