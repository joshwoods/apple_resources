WEBVTT

00:00:00.506 --> 00:00:05.955
[ Music ]

00:00:06.456 --> 00:00:08.176
>> Hello, I'm Yuval Kossovsky

00:00:08.176 --> 00:00:09.396
and I'd like to welcome you to

00:00:09.396 --> 00:00:10.636
the Indoor Maps Program.

00:00:11.296 --> 00:00:12.466
Perhaps, you are the owner of a

00:00:12.466 --> 00:00:14.476
large hospital, office tower,

00:00:14.526 --> 00:00:16.326
stadium or museum and are

00:00:16.326 --> 00:00:17.926
looking to add indoor maps and

00:00:17.926 --> 00:00:19.916
positioning to your own consumer

00:00:19.916 --> 00:00:21.396
or enterprise apps.

00:00:21.906 --> 00:00:23.946
Or perhaps you are the owner of

00:00:23.946 --> 00:00:25.976
an airport, shopping mall or

00:00:25.976 --> 00:00:27.446
other facility with large

00:00:27.446 --> 00:00:29.346
numbers of public visitors and

00:00:29.346 --> 00:00:30.546
you'd like your indoor map and

00:00:30.546 --> 00:00:32.125
locations to be part of the

00:00:32.125 --> 00:00:34.016
Apple Maps' indoor experience.

00:00:34.476 --> 00:00:35.906
This session will have something

00:00:35.966 --> 00:00:37.616
of interest to each of you.

00:00:38.076 --> 00:00:39.766
Outdoor location services have

00:00:39.766 --> 00:00:41.516
become embedded into our cities,

00:00:41.666 --> 00:00:43.606
our travel, our daily commutes,

00:00:43.766 --> 00:00:44.856
and even our social

00:00:44.856 --> 00:00:45.776
interactivity.

00:00:46.066 --> 00:00:47.246
And people are beginning to

00:00:47.246 --> 00:00:48.936
expect a location experience

00:00:49.006 --> 00:00:50.736
everywhere, including the

00:00:50.736 --> 00:00:51.526
indoors.

00:00:52.066 --> 00:00:53.816
In addition to a digital version

00:00:53.816 --> 00:00:55.626
of the well-known You-Are-Here

00:00:55.626 --> 00:00:57.526
map, there are many compelling

00:00:57.526 --> 00:00:59.546
consumer, operations and

00:00:59.546 --> 00:01:01.446
enterprise use cases that have

00:01:01.446 --> 00:01:03.016
indoor maps and indoor

00:01:03.016 --> 00:01:04.536
positioning at their core.

00:01:05.116 --> 00:01:07.036
Air travel, for example, can be

00:01:07.036 --> 00:01:08.686
incredibly stressful when you

00:01:08.686 --> 00:01:10.376
don't know where to park, where

00:01:10.376 --> 00:01:12.166
the security line is, where the

00:01:12.166 --> 00:01:13.886
gates are, or how long it will

00:01:13.886 --> 00:01:15.476
take to get from where you are

00:01:15.676 --> 00:01:16.896
to where you want to go.

00:01:17.546 --> 00:01:19.246
A map updated in real time that

00:01:19.246 --> 00:01:20.756
shows you where your gate is,

00:01:20.826 --> 00:01:22.636
where you are and how much free

00:01:22.636 --> 00:01:24.336
time you have for shopping or a

00:01:24.336 --> 00:01:26.216
quick bite before your flight

00:01:26.216 --> 00:01:27.486
would make for a much more

00:01:27.486 --> 00:01:28.316
pleasant journey.

00:01:29.186 --> 00:01:30.806
Looking at the operation side of

00:01:30.806 --> 00:01:32.446
the building, a staff member

00:01:32.446 --> 00:01:33.786
might need to locate a piece of

00:01:33.786 --> 00:01:35.136
equipment for routine

00:01:35.136 --> 00:01:36.736
maintenance or to service an

00:01:36.736 --> 00:01:37.256
outage.

00:01:37.706 --> 00:01:39.216
Using indoor maps and indoor

00:01:39.216 --> 00:01:40.816
positioning, the equipment

00:01:40.816 --> 00:01:42.556
report can be tagged with an

00:01:42.556 --> 00:01:44.706
accurate latitude, longitude and

00:01:44.706 --> 00:01:45.386
floor level.

00:01:45.776 --> 00:01:47.686
Then the nearest technician with

00:01:47.686 --> 00:01:49.286
the right skills to resolve the

00:01:49.286 --> 00:01:51.306
issue can be guided directly to

00:01:51.306 --> 00:01:52.976
the location to begin work,

00:01:53.166 --> 00:01:55.276
providing an incredible boost in

00:01:55.276 --> 00:01:56.696
operations efficiency.

00:01:56.956 --> 00:01:58.636
Finally, consider that first

00:01:58.636 --> 00:02:00.326
responders have only moments to

00:02:00.326 --> 00:02:01.896
study a building layout before

00:02:01.896 --> 00:02:03.586
deciding on a plan of action.

00:02:04.126 --> 00:02:05.736
Typically, the only available

00:02:05.736 --> 00:02:07.416
indoor maps are on paper and are

00:02:07.416 --> 00:02:08.156
not current.

00:02:08.675 --> 00:02:10.346
Using electronically maintained

00:02:10.346 --> 00:02:12.646
indoor maps to show the location

00:02:12.646 --> 00:02:14.516
of the incidents, as well as the

00:02:14.516 --> 00:02:16.156
location of the responders

00:02:16.156 --> 00:02:17.766
inside the buildings, can

00:02:17.766 --> 00:02:19.666
greatly reduce response times,

00:02:19.816 --> 00:02:21.396
and in some cases, even save

00:02:21.396 --> 00:02:22.066
lives.

00:02:22.406 --> 00:02:24.206
These three scenarios are just a

00:02:24.206 --> 00:02:26.196
few examples of what can be done

00:02:26.196 --> 00:02:27.726
with indoor maps and indoor

00:02:27.726 --> 00:02:29.356
positioning through the Apple

00:02:29.356 --> 00:02:30.656
Indoor Maps Program.

00:02:31.346 --> 00:02:33.276
The Indoor Maps Program enables

00:02:33.276 --> 00:02:35.296
organizations with large public

00:02:35.296 --> 00:02:37.336
and private spaces to create

00:02:37.336 --> 00:02:39.316
standard space indoor maps,

00:02:39.536 --> 00:02:41.346
enable indoor positioning and

00:02:41.346 --> 00:02:43.456
create stunning indoor maps in

00:02:43.456 --> 00:02:45.206
their own apps and websites.

00:02:45.596 --> 00:02:47.196
This session will discuss the

00:02:47.196 --> 00:02:48.816
overall workflow for

00:02:48.816 --> 00:02:50.606
accomplishing these tasks and

00:02:50.636 --> 00:02:52.206
provide some guidance in the

00:02:52.206 --> 00:02:54.276
form of best practices for

00:02:54.276 --> 00:02:55.936
success at each step.

00:02:56.796 --> 00:02:58.696
At the core of the program is

00:02:58.696 --> 00:03:00.536
the Indoor Mapping Data Format,

00:03:00.626 --> 00:03:02.346
or IMDF.

00:03:03.266 --> 00:03:05.396
This is Apple specification for

00:03:05.396 --> 00:03:07.596
modeling indoor spaces and is

00:03:07.596 --> 00:03:10.166
represented as a set of GeoJSON

00:03:10.166 --> 00:03:10.746
files.

00:03:11.376 --> 00:03:13.006
Many of your favorite mapping in

00:03:13.006 --> 00:03:15.206
GIS platforms are already

00:03:15.206 --> 00:03:16.776
supporting the creation and

00:03:16.776 --> 00:03:18.846
editing of IMDF as it has

00:03:18.846 --> 00:03:20.496
quickly become the de facto

00:03:20.496 --> 00:03:22.276
exchange standard for indoor

00:03:22.276 --> 00:03:22.596
data.

00:03:23.496 --> 00:03:24.886
Let's take a deeper look at the

00:03:24.886 --> 00:03:26.366
Indoor Maps Program.

00:03:27.046 --> 00:03:28.436
Building and property owners

00:03:28.436 --> 00:03:30.286
start by converting their CAD,

00:03:30.376 --> 00:03:33.916
BIM or GIS files to IMDF using

00:03:33.916 --> 00:03:35.356
industry standard tools.

00:03:35.746 --> 00:03:37.776
Then they can use that IMDF map

00:03:37.936 --> 00:03:39.486
and developer tools from Apple

00:03:39.656 --> 00:03:41.456
to display indoor maps in their

00:03:41.456 --> 00:03:43.226
own consumer and enterprise

00:03:43.226 --> 00:03:43.766
apps.

00:03:44.246 --> 00:03:46.576
In this simple case, displaying

00:03:46.576 --> 00:03:48.276
the IMDF in an app is something

00:03:48.276 --> 00:03:50.106
that any developer can do easily

00:03:50.106 --> 00:03:52.426
by themselves using MapKit and

00:03:52.426 --> 00:03:53.816
MapKit JS tools.

00:03:54.186 --> 00:03:55.126
Because building and

00:03:55.126 --> 00:03:57.316
understanding IMDF can be a bit

00:03:57.316 --> 00:03:58.946
more complicated, there is the

00:03:58.946 --> 00:04:01.246
IMDF Sandbox, a tool for

00:04:01.246 --> 00:04:03.046
visualization, archive

00:04:03.046 --> 00:04:04.856
inspection, editing and

00:04:04.856 --> 00:04:06.956
experimentation with an IMDF

00:04:06.956 --> 00:04:07.376
archive.

00:04:08.356 --> 00:04:10.176
Companies that own large public

00:04:10.176 --> 00:04:11.876
and private spaces, such as

00:04:11.876 --> 00:04:13.676
airports, shopping centers,

00:04:13.676 --> 00:04:16.446
arenas, hospitals, universities

00:04:16.446 --> 00:04:17.846
and private office buildings,

00:04:18.016 --> 00:04:19.596
are welcome to register their

00:04:19.596 --> 00:04:21.326
organization for the Indoor Maps

00:04:21.326 --> 00:04:24.166
Program, create IMDF maps using

00:04:24.166 --> 00:04:25.616
industry standard tools,

00:04:25.916 --> 00:04:28.106
validate those IMDF maps in the

00:04:28.106 --> 00:04:30.896
Sandbox, enable Apple indoor

00:04:30.896 --> 00:04:33.026
positioning and then use MapKit

00:04:33.026 --> 00:04:35.466
and MapKit JS to display indoor

00:04:35.466 --> 00:04:37.276
maps and indoor positioning in

00:04:37.276 --> 00:04:38.596
their apps and websites.

00:04:39.176 --> 00:04:40.736
Highly trafficked locations,

00:04:40.736 --> 00:04:42.176
such as airports and shopping

00:04:42.176 --> 00:04:43.796
centers, may also want the

00:04:43.796 --> 00:04:45.166
public indoor maps of their

00:04:45.166 --> 00:04:46.896
buildings to be included in

00:04:46.896 --> 00:04:47.806
Apple Maps.

00:04:48.506 --> 00:04:50.106
Any participant in the Indoor

00:04:50.106 --> 00:04:52.416
Maps Program can activate indoor

00:04:52.416 --> 00:04:54.016
positioning for their building

00:04:54.146 --> 00:04:56.226
and use the IMDF maps in their

00:04:56.226 --> 00:04:57.416
apps and websites.

00:04:57.876 --> 00:04:59.396
Let's go into more detail about

00:04:59.396 --> 00:05:00.606
the process for joining the

00:05:00.606 --> 00:05:02.746
Indoor Maps Program, managing

00:05:02.746 --> 00:05:04.396
your organization's account and

00:05:04.396 --> 00:05:05.336
claiming your building

00:05:05.336 --> 00:05:06.186
locations.

00:05:08.166 --> 00:05:09.526
Navigate your browser to

00:05:09.526 --> 00:05:12.326
register.apple.com/indoor to

00:05:12.326 --> 00:05:14.106
learn more about the program and

00:05:14.106 --> 00:05:16.336
get links to tools, information

00:05:16.336 --> 00:05:17.376
and documentation.

00:05:17.796 --> 00:05:19.546
Click on Get Started to begin

00:05:19.546 --> 00:05:21.136
enrolling your organization.

00:05:21.736 --> 00:05:23.496
When an organization enrolls for

00:05:23.496 --> 00:05:25.246
the Indoor Maps Program at Apple

00:05:25.246 --> 00:05:27.206
Business Register, an in-depth

00:05:27.206 --> 00:05:28.606
check is done on their business

00:05:28.606 --> 00:05:29.386
information.

00:05:29.836 --> 00:05:31.396
The individuals performing the

00:05:31.396 --> 00:05:33.136
sign up must have emails

00:05:33.136 --> 00:05:34.786
connected to the organizational

00:05:34.786 --> 00:05:36.786
domain, and all of the primary

00:05:36.786 --> 00:05:39.076
contacts must be employees or

00:05:39.076 --> 00:05:40.486
registered agents of the

00:05:40.486 --> 00:05:41.036
company.

00:05:41.706 --> 00:05:43.166
Once the organization is

00:05:43.166 --> 00:05:44.946
validated and approved, the

00:05:44.946 --> 00:05:46.686
administrator is able to manage

00:05:46.686 --> 00:05:48.056
their team members through the

00:05:48.056 --> 00:05:49.376
controls on the right.

00:05:49.896 --> 00:05:51.216
Tapping or clicking on team

00:05:51.216 --> 00:05:52.826
members reveals the list of

00:05:52.826 --> 00:05:54.806
members, and tapping on the plus

00:05:54.806 --> 00:05:57.126
sign reveals a dialog for both

00:05:57.126 --> 00:05:58.406
individuals and entire

00:05:58.406 --> 00:06:00.696
organizations to participate in

00:06:00.696 --> 00:06:02.006
this organization.

00:06:02.516 --> 00:06:05.576
The invitees can be assigned any

00:06:05.576 --> 00:06:07.786
number of five different roles

00:06:08.076 --> 00:06:10.026
and given access to the entire

00:06:10.026 --> 00:06:12.546
catalog of venues or selected

00:06:12.646 --> 00:06:14.186
individual locations.

00:06:14.996 --> 00:06:17.436
This granular control enables an

00:06:17.436 --> 00:06:19.736
organization to easily outsource

00:06:19.776 --> 00:06:22.636
IMDF mapmaking and survey to

00:06:22.636 --> 00:06:24.306
partners on a venue-by-venue

00:06:24.306 --> 00:06:26.076
basis or across the

00:06:26.076 --> 00:06:26.916
organization.

00:06:27.586 --> 00:06:29.366
System integrators wishing to

00:06:29.366 --> 00:06:31.816
make IMDF to survey for indoor

00:06:31.816 --> 00:06:34.166
positioning or build indoor apps

00:06:34.166 --> 00:06:35.996
for their clients should get

00:06:35.996 --> 00:06:37.766
invited to an organization,

00:06:37.996 --> 00:06:39.516
rather than try to claim a

00:06:39.516 --> 00:06:40.896
client's buildings on their

00:06:40.896 --> 00:06:42.006
behalf.

00:06:42.006 --> 00:06:43.516
And that is team management.

00:06:44.516 --> 00:06:46.196
Claiming locations for an

00:06:46.196 --> 00:06:47.626
organization is easy.

00:06:48.116 --> 00:06:49.566
Keep in mind that the claims can

00:06:49.566 --> 00:06:50.926
only be made for your own

00:06:50.926 --> 00:06:52.896
properties, not on behalf of

00:06:52.896 --> 00:06:53.396
others.

00:06:53.856 --> 00:06:55.436
Click on Indoor Maps under

00:06:55.436 --> 00:06:57.636
Connected Services, tap the plus

00:06:57.636 --> 00:06:59.446
button and select your location.

00:06:59.806 --> 00:07:01.456
Depending on the categorization

00:07:01.456 --> 00:07:02.766
of the building, you'll be

00:07:02.766 --> 00:07:04.376
presented with different options

00:07:04.376 --> 00:07:05.376
for how to proceed.

00:07:06.036 --> 00:07:07.236
Buildings that are private

00:07:07.236 --> 00:07:09.116
locations are not eligible to

00:07:09.116 --> 00:07:10.666
have their indoor maps display

00:07:10.666 --> 00:07:11.586
in Apple Maps.

00:07:11.996 --> 00:07:13.986
Properties such as airports will

00:07:13.986 --> 00:07:15.336
be asked for permission to

00:07:15.336 --> 00:07:17.166
display their indoor maps in

00:07:17.166 --> 00:07:18.066
Apple Maps.

00:07:18.756 --> 00:07:20.136
Once the location claim is

00:07:20.136 --> 00:07:22.606
approved, you can upload an IMDF

00:07:22.766 --> 00:07:24.176
and the validator will begin

00:07:24.176 --> 00:07:25.356
analyzing the file

00:07:25.356 --> 00:07:26.136
automatically.

00:07:26.686 --> 00:07:28.086
After a few minutes, you'll

00:07:28.086 --> 00:07:29.696
receive an email indicating that

00:07:29.696 --> 00:07:31.266
validation is complete.

00:07:31.706 --> 00:07:32.756
There will be a link to the

00:07:32.756 --> 00:07:34.486
validation report, where you can

00:07:34.486 --> 00:07:35.956
see any errors that blocked

00:07:35.956 --> 00:07:37.936
acceptance of the file or any

00:07:37.936 --> 00:07:39.246
warnings which indicate

00:07:39.246 --> 00:07:40.696
conditions that need further

00:07:40.696 --> 00:07:41.506
examination.

00:07:42.176 --> 00:07:43.846
You can use the embedded link to

00:07:43.846 --> 00:07:46.016
the IMDF Sandbox to view the

00:07:46.096 --> 00:07:48.466
IMDF file, make quick edits if

00:07:48.466 --> 00:07:48.906
needed.

00:07:49.386 --> 00:07:51.516
Once an IMDF is error free in

00:07:51.516 --> 00:07:53.266
the validator, it will move to

00:07:53.266 --> 00:07:55.286
georeferencing and evaluation.

00:07:55.646 --> 00:07:57.016
To ensure accurate indoor

00:07:57.016 --> 00:07:59.316
positioning, the IMDF must have

00:07:59.316 --> 00:08:01.646
walkable areas for survey and be

00:08:01.646 --> 00:08:03.056
aligned with the Apple satellite

00:08:03.056 --> 00:08:03.626
imagery.

00:08:04.396 --> 00:08:06.056
The indoor team will manually

00:08:06.056 --> 00:08:07.766
check the georeferencing of your

00:08:07.766 --> 00:08:10.076
IMDF and do a cursory check for

00:08:10.076 --> 00:08:12.476
defects in the IMDF that cannot

00:08:12.476 --> 00:08:14.116
be surfaced in the validator.

00:08:14.666 --> 00:08:16.236
If any changes are made to the

00:08:16.236 --> 00:08:18.466
file, they will be saved into a

00:08:18.546 --> 00:08:20.116
new IMDF, which will be made

00:08:20.116 --> 00:08:21.806
available under Download

00:08:21.806 --> 00:08:24.276
Georeference to IMDF, along with

00:08:24.276 --> 00:08:26.136
a report indicating what work

00:08:26.136 --> 00:08:26.656
was done.

00:08:27.076 --> 00:08:28.726
Let's review the best practices

00:08:28.726 --> 00:08:30.426
for joining and participating in

00:08:30.426 --> 00:08:32.096
the Apple Indoor Maps Program.

00:08:32.895 --> 00:08:35.106
While anyone can make an IMDF

00:08:35.106 --> 00:08:36.826
map and display it in their app

00:08:36.826 --> 00:08:38.576
and website using MapKit and

00:08:38.576 --> 00:08:40.696
MapKit JS, the Indoor Maps

00:08:40.696 --> 00:08:42.385
Program and enabling Apple

00:08:42.385 --> 00:08:44.356
indoor positioning is for owners

00:08:44.356 --> 00:08:45.526
of large properties.

00:08:45.986 --> 00:08:47.496
Some measures of large include

00:08:47.496 --> 00:08:49.606
50 square meters, 5 million

00:08:49.606 --> 00:08:51.686
annual visitors, or entire

00:08:51.686 --> 00:08:52.666
office buildings.

00:08:52.856 --> 00:08:54.536
The individuals enrolling must

00:08:54.536 --> 00:08:56.116
be part of the organization and

00:08:56.116 --> 00:08:57.826
must provide enough information

00:08:57.826 --> 00:08:59.606
to verify the organization

00:08:59.606 --> 00:09:00.266
details.

00:09:00.656 --> 00:09:02.436
If there's an existing account,

00:09:02.656 --> 00:09:04.236
the current account admins will

00:09:04.236 --> 00:09:06.456
be notified of the new enrollees

00:09:06.656 --> 00:09:07.676
and asked to invite them

00:09:07.676 --> 00:09:08.296
directly.

00:09:08.686 --> 00:09:10.346
This ensures the organization

00:09:10.346 --> 00:09:11.746
maintains control of all

00:09:11.746 --> 00:09:12.426
members.

00:09:13.276 --> 00:09:15.066
Some locations are eligible for

00:09:15.066 --> 00:09:16.416
display in Apple Maps.

00:09:16.556 --> 00:09:18.566
However, the indoor map will

00:09:18.566 --> 00:09:20.556
remain private unless permission

00:09:20.556 --> 00:09:21.146
is given.

00:09:22.146 --> 00:09:24.006
IMDF is the basis for the map

00:09:24.006 --> 00:09:25.976
used to display in your app and

00:09:25.976 --> 00:09:28.126
website and to enable indoor

00:09:28.126 --> 00:09:28.896
positioning.

00:09:29.596 --> 00:09:31.916
To create an IMDF, work with

00:09:31.916 --> 00:09:33.286
your facilities team to

00:09:33.286 --> 00:09:34.716
investigate the offerings

00:09:34.716 --> 00:09:36.466
available from companies, like

00:09:36.466 --> 00:09:39.096
Safe Software, Autodesk, Esri,

00:09:39.336 --> 00:09:41.256
and other GIS and BIM tool

00:09:41.256 --> 00:09:42.086
platforms.

00:09:42.866 --> 00:09:44.216
Let's take a deeper look at

00:09:44.216 --> 00:09:44.886
IMDF.

00:09:45.876 --> 00:09:48.116
To understand how IMDF is

00:09:48.116 --> 00:09:49.756
constructed, we should first

00:09:49.756 --> 00:09:51.186
look at the general components

00:09:51.186 --> 00:09:52.326
of a building floor plan.

00:09:53.086 --> 00:09:54.866
An indoor map like a regular map

00:09:54.866 --> 00:09:56.456
is comprised of many layers.

00:09:56.916 --> 00:09:58.346
Each of these layers may contain

00:09:58.346 --> 00:09:58.976
several features.

00:09:59.696 --> 00:10:01.006
Let's break down this building

00:10:01.006 --> 00:10:01.936
map, for example.

00:10:02.416 --> 00:10:03.986
Simplistically, the base of an

00:10:03.986 --> 00:10:05.376
indoor map is the building

00:10:05.376 --> 00:10:07.466
ground footprint, or the size

00:10:07.466 --> 00:10:08.486
and shape of the physical

00:10:08.486 --> 00:10:09.356
building plus the

00:10:09.356 --> 00:10:11.266
GeoCoordinates, where it sits on

00:10:11.266 --> 00:10:11.776
the earth.

00:10:12.266 --> 00:10:13.926
Indoor locations are still on

00:10:13.926 --> 00:10:14.716
the earth.

00:10:14.716 --> 00:10:15.866
And to handle the movement of

00:10:15.866 --> 00:10:16.906
people in and out of the

00:10:16.906 --> 00:10:18.696
building, an indoor data model

00:10:18.696 --> 00:10:20.176
has to account for this fact.

00:10:20.606 --> 00:10:22.186
Georeferencing of the building

00:10:22.186 --> 00:10:23.006
is the solution.

00:10:23.236 --> 00:10:25.086
The next step is to add a level.

00:10:25.876 --> 00:10:27.806
Again, simplistically, we can

00:10:27.806 --> 00:10:29.886
use the ground floor or ordinal

00:10:29.886 --> 00:10:31.226
zero for our example.

00:10:32.106 --> 00:10:34.036
The level is entirely covered by

00:10:34.226 --> 00:10:36.126
some form of what we call a

00:10:36.126 --> 00:10:38.526
unit, for example, a room, a

00:10:38.616 --> 00:10:40.726
walkway, an elevator or an

00:10:40.726 --> 00:10:41.396
escalator.

00:10:41.826 --> 00:10:43.416
Anything that occupies space on

00:10:43.416 --> 00:10:44.856
the level is defined with

00:10:44.856 --> 00:10:46.996
geometry and a category of some

00:10:46.996 --> 00:10:47.466
kind.

00:10:47.966 --> 00:10:49.716
Rooms typically have doors or

00:10:49.716 --> 00:10:51.346
what we call openings.

00:10:51.716 --> 00:10:53.336
And then within the units, there

00:10:53.336 --> 00:10:55.216
are also other objects, such as

00:10:55.216 --> 00:10:56.006
kiosks.

00:10:56.286 --> 00:10:57.846
They're typically in the walkway

00:10:57.846 --> 00:10:59.496
unit of a shopping center or

00:10:59.496 --> 00:10:59.906
mall.

00:11:00.586 --> 00:11:02.066
Next, there are labels which are

00:11:02.066 --> 00:11:03.676
applied to the units, such as

00:11:03.676 --> 00:11:04.986
the name of a business that

00:11:04.986 --> 00:11:06.056
occupies a room.

00:11:06.746 --> 00:11:07.946
Icons are used to mark the

00:11:07.946 --> 00:11:09.856
location of amenities of

00:11:09.856 --> 00:11:13.276
interest, such as an elevator or

00:11:13.276 --> 00:11:13.836
a restroom.

00:11:13.946 --> 00:11:15.796
At the Jurassic Table

00:11:15.796 --> 00:11:17.296
restaurant, there is also a

00:11:17.296 --> 00:11:19.836
delimited area that acts as a

00:11:19.836 --> 00:11:21.876
virtual boundary, which extends

00:11:21.876 --> 00:11:23.186
outside of the walls of the

00:11:23.186 --> 00:11:24.156
actual unit.

00:11:24.586 --> 00:11:26.216
This could be post security in

00:11:26.216 --> 00:11:28.286
an airport or the food court in

00:11:28.286 --> 00:11:28.716
a mall.

00:11:29.366 --> 00:11:30.376
And these are some of the

00:11:30.376 --> 00:11:32.016
constructs that make a good

00:11:32.016 --> 00:11:35.306
indoor map format, such as IMDF.

00:11:35.456 --> 00:11:37.496
Underlying the format are rules

00:11:37.496 --> 00:11:39.096
on how to consistently capture

00:11:39.096 --> 00:11:40.976
information about the physical

00:11:40.976 --> 00:11:43.156
spaces and the business purpose

00:11:43.206 --> 00:11:45.366
of those spaces into an easy to

00:11:45.366 --> 00:11:46.556
understand hierarchy.

00:11:47.076 --> 00:11:48.266
Let's take a look at some of the

00:11:48.266 --> 00:11:50.056
required features and some

00:11:50.056 --> 00:11:52.086
optional elements that make up

00:11:52.086 --> 00:11:53.236
an IMDF archive.

00:11:53.826 --> 00:11:56.086
There are three core files that

00:11:56.086 --> 00:11:57.616
provide the base information of

00:11:57.616 --> 00:11:59.806
the venue, the manifest, which

00:11:59.806 --> 00:12:01.556
has some administrative detail,

00:12:01.976 --> 00:12:03.466
the address, which provides the

00:12:03.466 --> 00:12:05.476
postal address, and the venue

00:12:05.476 --> 00:12:07.086
layer that describes the overall

00:12:07.086 --> 00:12:08.246
shape of the location.

00:12:08.896 --> 00:12:10.536
The property is then extended by

00:12:10.536 --> 00:12:12.756
the building layer, and its

00:12:12.756 --> 00:12:14.346
associated footprint layers

00:12:14.696 --> 00:12:15.926
which bring details to the

00:12:15.926 --> 00:12:16.816
physical building.

00:12:17.376 --> 00:12:19.336
Working our way deeper in, the

00:12:19.336 --> 00:12:20.876
levels within the building are

00:12:20.876 --> 00:12:21.496
defined.

00:12:22.396 --> 00:12:23.926
The level is then entirely

00:12:23.926 --> 00:12:25.846
covered in units, which are

00:12:25.846 --> 00:12:27.666
associated with openings, such

00:12:27.666 --> 00:12:28.606
as doorways.

00:12:29.296 --> 00:12:31.326
The level also has logical area

00:12:31.326 --> 00:12:33.666
groupings, like sections and

00:12:33.666 --> 00:12:35.876
trigger regions like geofences.

00:12:36.436 --> 00:12:39.706
Then kiosks and fixtures are

00:12:39.706 --> 00:12:40.246
placed.

00:12:41.556 --> 00:12:43.846
Amenities and their associated

00:12:43.846 --> 00:12:45.486
data are assigned to the units,

00:12:45.736 --> 00:12:47.416
and finally, anchors are used

00:12:47.416 --> 00:12:49.446
for positioning references and

00:12:49.446 --> 00:12:51.096
unit addresses with additional

00:12:51.096 --> 00:12:52.636
data blocks, such as the

00:12:52.636 --> 00:12:54.876
occupant, providing the occupant

00:12:54.876 --> 00:12:56.446
name and phone number and

00:12:56.446 --> 00:12:57.296
related data.

00:12:57.986 --> 00:12:59.516
And that is how the hierarchy is

00:12:59.516 --> 00:13:00.066
set up.

00:13:00.626 --> 00:13:02.126
You can learn more by reading

00:13:02.126 --> 00:13:03.266
the Indoor Mapping Data

00:13:03.266 --> 00:13:04.966
Specification in detail.

00:13:05.116 --> 00:13:07.206
But what is IMDF to the

00:13:07.206 --> 00:13:08.176
developer's eye?

00:13:09.046 --> 00:13:11.126
An IMDF is an archive made up of

00:13:11.126 --> 00:13:13.146
multiple GeoJSON files and the

00:13:13.146 --> 00:13:15.076
multiple files we discussed.

00:13:16.096 --> 00:13:17.646
This is a GeoJSON file.

00:13:17.946 --> 00:13:19.786
And as you can see here, there's

00:13:19.786 --> 00:13:22.386
a unique UUID provided to the

00:13:22.386 --> 00:13:24.726
specific feature type of level.

00:13:25.256 --> 00:13:27.106
The public can access this

00:13:27.106 --> 00:13:28.396
building so the restriction

00:13:28.396 --> 00:13:31.246
property is set to null and it

00:13:31.246 --> 00:13:32.066
is indoors.

00:13:32.506 --> 00:13:33.946
This is level one in the

00:13:33.946 --> 00:13:34.486
building.

00:13:34.656 --> 00:13:36.066
And what you see printed on the

00:13:36.066 --> 00:13:37.236
elevator button is L1.

00:13:37.236 --> 00:13:40.296
Importantly, we see that this

00:13:40.296 --> 00:13:42.196
level is associated to a single

00:13:42.196 --> 00:13:44.446
building ID and it has a good

00:13:44.446 --> 00:13:46.596
geometrical shape as described

00:13:46.596 --> 00:13:46.906
here.

00:13:47.696 --> 00:13:49.736
All in all, a comprehensive set

00:13:49.736 --> 00:13:52.006
of information in a simple text

00:13:52.006 --> 00:13:52.456
file.

00:13:53.356 --> 00:13:54.626
Let's review some of the

00:13:54.626 --> 00:13:55.976
important elements in

00:13:55.976 --> 00:13:57.796
understanding and crafting an

00:13:57.796 --> 00:13:59.466
Indoor Mapping Data Format

00:13:59.466 --> 00:13:59.946
archive.

00:14:00.866 --> 00:14:02.516
It is important to understand

00:14:02.516 --> 00:14:04.396
how the layers relate and where

00:14:04.396 --> 00:14:05.966
the data for each element is

00:14:05.966 --> 00:14:06.706
surfaced.

00:14:06.996 --> 00:14:08.826
It is important to ensure that

00:14:08.876 --> 00:14:10.966
the IMDF is complete, even from

00:14:10.966 --> 00:14:12.926
proof of concept deliveries and

00:14:12.926 --> 00:14:14.656
that the units cover the entire

00:14:14.656 --> 00:14:15.226
building.

00:14:15.916 --> 00:14:17.226
Everything on the level is a

00:14:17.226 --> 00:14:19.506
unit, including walkways which

00:14:19.506 --> 00:14:20.956
have their own category.

00:14:21.106 --> 00:14:23.166
Speaking of categories, they are

00:14:23.166 --> 00:14:25.296
critical to a good map and good

00:14:25.296 --> 00:14:26.386
rendering behavior.

00:14:27.676 --> 00:14:29.226
Openings are important for both

00:14:29.226 --> 00:14:31.316
location accuracy and proper

00:14:31.316 --> 00:14:33.086
routing and should be included

00:14:33.086 --> 00:14:34.496
to make it easier for those with

00:14:34.496 --> 00:14:36.696
mobility and site challenges.

00:14:37.156 --> 00:14:38.766
Occupants should have unique

00:14:38.766 --> 00:14:41.026
addresses and IDs for tracking

00:14:41.116 --> 00:14:42.476
and updates of names.

00:14:42.556 --> 00:14:45.396
Finally, when making the IMDF,

00:14:45.476 --> 00:14:46.946
consider the indoor survey.

00:14:47.456 --> 00:14:49.086
Large spaces are hard to get

00:14:49.086 --> 00:14:50.346
accurate orientation.

00:14:50.806 --> 00:14:52.296
Even if your map doesn't need

00:14:52.296 --> 00:14:54.046
the information, including

00:14:54.046 --> 00:14:55.936
notable landmarks or orienting

00:14:55.936 --> 00:14:57.586
information like columns, will

00:14:57.586 --> 00:14:59.146
make it much easier for getting

00:14:59.146 --> 00:15:00.946
proper calibration during the

00:15:00.946 --> 00:15:02.896
indoor positioning survey, and

00:15:02.896 --> 00:15:04.936
consequently better accuracy

00:15:04.936 --> 00:15:05.316
after.

00:15:05.796 --> 00:15:08.086
And that's creating the IMDF.

00:15:08.186 --> 00:15:10.026
Next, let's look at validation.

00:15:10.946 --> 00:15:12.776
As I mentioned earlier, when an

00:15:12.846 --> 00:15:14.556
IMDF is uploaded into the

00:15:14.556 --> 00:15:16.356
organization's account, it is

00:15:16.356 --> 00:15:18.246
electronically validated and a

00:15:18.246 --> 00:15:19.856
report is provided with a

00:15:19.856 --> 00:15:21.156
detailed analysis.

00:15:21.426 --> 00:15:22.716
While this may be easy for

00:15:22.716 --> 00:15:24.866
well-schooled GIS professionals

00:15:24.866 --> 00:15:26.486
to consume, we thought there

00:15:26.486 --> 00:15:28.126
might be an easier way to work

00:15:28.126 --> 00:15:29.666
with this sort of information.

00:15:30.136 --> 00:15:31.826
The IMDF Sandbox is a

00:15:31.826 --> 00:15:33.616
browser-based tool for

00:15:33.616 --> 00:15:36.556
visualizing IMDF, searching the

00:15:36.556 --> 00:15:38.676
IMDF file, observing the

00:15:38.676 --> 00:15:40.726
validations and making simple

00:15:40.766 --> 00:15:41.316
edits.

00:15:41.316 --> 00:15:43.626
I have a sample IMDF archive

00:15:43.626 --> 00:15:44.906
data set opened here.

00:15:45.086 --> 00:15:46.446
First of all, you can see the

00:15:46.446 --> 00:15:46.906
map.

00:15:47.106 --> 00:15:48.846
This is rendering the IMDF data

00:15:48.846 --> 00:15:50.406
to show you how it looks.

00:15:51.266 --> 00:15:52.696
There's a level picker for

00:15:52.696 --> 00:15:55.876
switching between levels and a

00:15:55.876 --> 00:15:57.296
compass to show you the

00:15:57.296 --> 00:15:58.066
orientation.

00:15:58.596 --> 00:16:02.066
On the left, you'll find a

00:16:02.066 --> 00:16:03.576
directory that will help you

00:16:03.576 --> 00:16:05.186
browse and navigate the data

00:16:05.406 --> 00:16:07.006
with quick access to all the

00:16:07.006 --> 00:16:08.556
businesses and services.

00:16:16.316 --> 00:16:18.016
Or browse the data by building

00:16:18.326 --> 00:16:18.976
or by level.

00:16:28.826 --> 00:16:31.726
At the top, there's a search bar

00:16:31.726 --> 00:16:32.666
that lets you search for

00:16:32.716 --> 00:16:34.636
anything and everything within

00:16:34.636 --> 00:16:35.436
this data set.

00:16:42.236 --> 00:16:43.816
At the top of the panel at the

00:16:43.816 --> 00:16:45.586
Home, you'll also see a link to

00:16:45.586 --> 00:16:47.656
all the validation errors and

00:16:47.656 --> 00:16:49.266
warnings triggered by this data

00:16:49.266 --> 00:16:49.646
set.

00:16:50.126 --> 00:16:51.666
The validation engine is the

00:16:51.666 --> 00:16:54.816
same tool in use when an IMDF is

00:16:54.816 --> 00:16:56.496
uploaded to the Indoor Maps

00:16:56.496 --> 00:16:58.286
Program, but the results are

00:16:58.286 --> 00:17:00.116
interpreted and visualized by

00:17:00.116 --> 00:17:00.996
the Sandbox.

00:17:01.386 --> 00:17:02.676
In this case, there are no

00:17:02.676 --> 00:17:04.636
errors, but just warnings.

00:17:05.236 --> 00:17:06.675
Warnings are present because the

00:17:06.675 --> 00:17:08.685
validator identifies a scenario

00:17:08.945 --> 00:17:10.736
that could be an error or could

00:17:10.736 --> 00:17:11.386
be ignored.

00:17:11.766 --> 00:17:13.226
Depending on your business use

00:17:13.226 --> 00:17:15.136
case, it is important to have

00:17:15.136 --> 00:17:16.756
someone with an understanding of

00:17:16.756 --> 00:17:19.016
the IMDF specification and the

00:17:19.016 --> 00:17:20.766
business use case review

00:17:20.766 --> 00:17:22.136
warnings generated by the

00:17:22.136 --> 00:17:24.266
validator to make a decision on

00:17:24.266 --> 00:17:25.195
their importance.

00:17:25.626 --> 00:17:27.596
Let's take a look at how the

00:17:27.656 --> 00:17:29.516
IMDF Sandbox can be used to

00:17:29.516 --> 00:17:31.216
discover errors and do some

00:17:31.216 --> 00:17:31.966
light editing.

00:17:32.816 --> 00:17:34.246
I've introduced a few errors

00:17:34.246 --> 00:17:35.756
into my sample data to show you

00:17:35.756 --> 00:17:36.576
how this works.

00:17:36.986 --> 00:17:38.616
When I first load the IMDF

00:17:38.616 --> 00:17:40.396
archive, the Sandbox shows me

00:17:40.396 --> 00:17:40.966
errors.

00:17:41.266 --> 00:17:42.416
The warnings are shown in the

00:17:42.416 --> 00:17:43.066
other tab.

00:17:43.616 --> 00:17:45.316
In order for my IMDF to be

00:17:45.316 --> 00:17:46.736
accepted into the Indoor Maps

00:17:46.736 --> 00:17:48.616
Program, it cannot have any

00:17:48.616 --> 00:17:49.076
errors.

00:17:49.346 --> 00:17:51.036
So, let's take a closer look and

00:17:51.036 --> 00:17:51.906
get these resolved.

00:17:52.156 --> 00:17:53.616
First, we can see that there are

00:17:53.616 --> 00:17:54.866
overlapping units.

00:17:55.286 --> 00:17:56.986
In IMDF, units should never

00:17:56.986 --> 00:17:57.746
overlap.

00:17:57.866 --> 00:17:58.996
So this is an error.

00:17:59.436 --> 00:18:01.266
Taking a closer look, the

00:18:01.266 --> 00:18:02.776
Sandbox tells us that there are

00:18:02.776 --> 00:18:04.476
two instances of this error in

00:18:04.476 --> 00:18:05.266
this data set.

00:18:05.566 --> 00:18:06.846
By clicking one or the other,

00:18:07.046 --> 00:18:08.716
the map zooms to that particular

00:18:08.716 --> 00:18:10.726
location and highlights which

00:18:10.726 --> 00:18:11.936
units overlap.

00:18:12.236 --> 00:18:13.986
Here, it is the blue unit and

00:18:14.126 --> 00:18:16.486
the yellow unit overlapping with

00:18:16.486 --> 00:18:18.166
the overlapping areas shown in

00:18:18.166 --> 00:18:18.766
orange.

00:18:19.286 --> 00:18:20.956
The Sandbox provides me with an

00:18:20.956 --> 00:18:22.826
easy option to remove the

00:18:22.826 --> 00:18:24.836
overlap by simply removing the

00:18:24.836 --> 00:18:26.966
overlapping area from one or the

00:18:26.966 --> 00:18:27.426
other.

00:18:27.896 --> 00:18:29.246
I have chosen to remove the

00:18:29.246 --> 00:18:30.806
overlap from the blue unit,

00:18:30.956 --> 00:18:32.576
because then both units are nice

00:18:32.576 --> 00:18:33.276
and rectangular.

00:18:33.576 --> 00:18:34.676
And now, it is fixed.

00:18:35.506 --> 00:18:36.736
Let's take a look at the other

00:18:36.736 --> 00:18:38.206
overlapping units error.

00:18:38.476 --> 00:18:40.066
It seems this elevator is too

00:18:40.066 --> 00:18:40.426
large.

00:18:40.586 --> 00:18:41.936
So I'm going to remove that

00:18:41.936 --> 00:18:43.666
overlap from the elevator unit.

00:18:43.956 --> 00:18:45.646
And now, both errors have been

00:18:45.646 --> 00:18:46.246
fixed.

00:18:46.716 --> 00:18:48.336
There is now one other error I

00:18:48.336 --> 00:18:50.036
need to quickly resolve with the

00:18:50.036 --> 00:18:51.906
unit being outside the reference

00:18:51.906 --> 00:18:52.356
level.

00:18:52.686 --> 00:18:54.086
You can see the orange area

00:18:54.086 --> 00:18:55.856
outside the level looks to be

00:18:55.856 --> 00:18:57.606
some sort of drawing error that

00:18:57.606 --> 00:18:58.856
was picked up when the file was

00:18:58.856 --> 00:19:00.046
digitized.

00:19:00.046 --> 00:19:01.386
I removed that area from the

00:19:01.386 --> 00:19:03.636
level and the entire file is now

00:19:03.636 --> 00:19:04.856
free from errors.

00:19:05.966 --> 00:19:07.176
Because all of the work in the

00:19:07.176 --> 00:19:08.896
Sandbox is done locally in the

00:19:08.896 --> 00:19:10.826
browser, I will have to click on

00:19:10.826 --> 00:19:13.276
Download the IMDF at the top

00:19:13.276 --> 00:19:14.666
right of the screen and save a

00:19:14.666 --> 00:19:16.356
copy in order to keep these

00:19:16.356 --> 00:19:18.456
changes for use in register and

00:19:18.456 --> 00:19:19.986
adding back into my content

00:19:19.986 --> 00:19:20.876
management system.

00:19:21.646 --> 00:19:23.876
To recap, best practices for

00:19:23.876 --> 00:19:25.226
IMDF validation.

00:19:25.906 --> 00:19:27.426
The same validation tools are

00:19:27.426 --> 00:19:28.626
available when uploading your

00:19:28.626 --> 00:19:30.956
files to the Indoor Maps Program

00:19:31.146 --> 00:19:32.936
and the IMDF Sandbox.

00:19:33.316 --> 00:19:34.836
They check the accuracy and

00:19:34.836 --> 00:19:36.986
integrity of your IMDF to the

00:19:36.986 --> 00:19:38.966
limit of the business use case.

00:19:39.396 --> 00:19:40.746
Warnings are surfaced when a

00:19:40.746 --> 00:19:42.586
condition can apply to multiple

00:19:42.586 --> 00:19:43.416
use cases.

00:19:43.916 --> 00:19:46.206
After validation, the IMDF is

00:19:46.206 --> 00:19:47.796
checked manually for accurate

00:19:47.796 --> 00:19:49.176
placement on the earth or

00:19:49.176 --> 00:19:51.056
georeferencing to ensure

00:19:51.056 --> 00:19:52.946
accurate indoor positioning when

00:19:52.946 --> 00:19:54.526
indoor positioning is enabled.

00:19:55.026 --> 00:19:56.936
With IMDF Sandbox, you can

00:19:56.936 --> 00:19:59.586
easily look at complex IMDFs and

00:19:59.586 --> 00:20:01.746
see the details, identifying

00:20:01.746 --> 00:20:03.676
fixed errors and then save the

00:20:03.676 --> 00:20:03.976
files.

00:20:04.766 --> 00:20:06.416
All of this work is done locally

00:20:06.416 --> 00:20:08.066
in your browser and is not

00:20:08.066 --> 00:20:09.136
shared with Apple.

00:20:09.626 --> 00:20:11.536
The IMDF Sandbox is available

00:20:11.536 --> 00:20:14.036
for anyone with an Apple ID and

00:20:14.036 --> 00:20:16.056
not just building owners in the

00:20:16.056 --> 00:20:17.356
Indoor Maps Program.

00:20:17.866 --> 00:20:20.656
And that is IMDF validation.

00:20:21.056 --> 00:20:22.526
So, now, we know how to join the

00:20:22.526 --> 00:20:24.796
Indoor Maps Program, create an

00:20:24.796 --> 00:20:27.166
IMDF and validate it.

00:20:27.886 --> 00:20:29.746
The next step is to enable Apple

00:20:29.746 --> 00:20:30.726
indoor positioning.

00:20:31.706 --> 00:20:33.406
But first, we need to understand

00:20:33.566 --> 00:20:34.816
just how Apple indoor

00:20:34.816 --> 00:20:35.966
positioning works.

00:20:36.556 --> 00:20:38.606
Imagine a still pond and a drop

00:20:38.606 --> 00:20:40.196
of rain falls on the surface of

00:20:40.196 --> 00:20:40.776
the water.

00:20:41.236 --> 00:20:42.416
The ripples caused by the

00:20:42.416 --> 00:20:43.616
raindrop are much like the

00:20:43.616 --> 00:20:45.066
signal coming from an access

00:20:45.066 --> 00:20:45.496
point.

00:20:45.736 --> 00:20:47.566
With one drop, one set of

00:20:47.566 --> 00:20:48.096
ripples.

00:20:48.096 --> 00:20:50.126
But with multiple raindrops, you

00:20:50.126 --> 00:20:51.666
get many ripples which produce

00:20:51.666 --> 00:20:53.156
waves that intersect with each

00:20:53.156 --> 00:20:54.806
other, lay a grid over the

00:20:54.806 --> 00:20:57.236
waves, and inside each box,

00:20:57.236 --> 00:20:58.526
there will be a unique texture

00:20:58.526 --> 00:21:00.326
pattern of ripples or what we

00:21:00.326 --> 00:21:01.746
call the fingerprint.

00:21:02.306 --> 00:21:04.296
The IMDF map provides the

00:21:04.296 --> 00:21:06.366
latitude, longitude and floor

00:21:06.366 --> 00:21:07.956
coordinates for each box in the

00:21:07.956 --> 00:21:09.936
grid, allowing the location

00:21:09.936 --> 00:21:11.476
service to create a pairing

00:21:11.626 --> 00:21:13.096
between the coordinates and the

00:21:13.096 --> 00:21:13.776
fingerprint.

00:21:14.256 --> 00:21:15.936
When your iPhone or iPad is

00:21:15.936 --> 00:21:17.296
entering the building, the

00:21:17.296 --> 00:21:18.946
fingerprint is downloaded to the

00:21:18.946 --> 00:21:20.416
device from the core location

00:21:20.416 --> 00:21:21.036
servers.

00:21:21.396 --> 00:21:23.166
Once this is done, while the

00:21:23.166 --> 00:21:24.906
device Wi-Fi radio must be

00:21:24.906 --> 00:21:26.706
active, it no longer needs a

00:21:26.706 --> 00:21:28.026
network connection for

00:21:28.026 --> 00:21:29.276
positioning to work.

00:21:29.616 --> 00:21:31.196
When an app calls location

00:21:31.196 --> 00:21:33.216
accuracy best, the device

00:21:33.216 --> 00:21:34.376
passively looks at the

00:21:34.376 --> 00:21:36.406
fingerprint, does an on-device

00:21:36.406 --> 00:21:38.166
pattern match, derives the

00:21:38.166 --> 00:21:39.606
coordinates and plots the

00:21:39.606 --> 00:21:40.606
location dots.

00:21:41.116 --> 00:21:42.986
Local sensors are then used to

00:21:42.986 --> 00:21:44.826
keep the dot up to date until a

00:21:44.826 --> 00:21:46.436
threshold at which point the

00:21:46.436 --> 00:21:47.826
device looks at the fingerprint

00:21:47.826 --> 00:21:48.156
again.

00:21:48.716 --> 00:21:50.076
Apple indoor positioning is

00:21:50.076 --> 00:21:52.366
incredibly fast, low power and

00:21:52.366 --> 00:21:53.426
private.

00:21:53.426 --> 00:21:56.216
In short, an indoor map plus

00:21:56.216 --> 00:21:58.746
Wi-Fi gives you the blue dot.

00:21:59.336 --> 00:22:01.156
The specific steps to enable

00:22:01.156 --> 00:22:03.076
indoor positioning are, with an

00:22:03.166 --> 00:22:05.086
IMDF already loaded into your

00:22:05.086 --> 00:22:07.206
account, collect the Wi-Fi using

00:22:07.206 --> 00:22:09.026
the survey app, upload the

00:22:09.026 --> 00:22:10.576
surveys back to the core

00:22:10.576 --> 00:22:12.396
location servers for analysis

00:22:12.396 --> 00:22:14.236
and activation, and then test

00:22:14.236 --> 00:22:16.196
positioning in the survey app as

00:22:16.196 --> 00:22:17.426
a reference for quality.

00:22:17.606 --> 00:22:19.466
Let's take a quick look at a

00:22:19.466 --> 00:22:21.376
demonstration of surveying and

00:22:21.376 --> 00:22:22.316
testing positioning.

00:22:23.376 --> 00:22:24.986
In the survey process, you drop

00:22:24.986 --> 00:22:26.876
points on a screen as visual

00:22:26.876 --> 00:22:28.026
markers of where you are

00:22:28.026 --> 00:22:29.296
standing in the real world.

00:22:29.806 --> 00:22:30.986
This is how the positioning

00:22:30.986 --> 00:22:32.736
algorithm is calibrated to your

00:22:32.736 --> 00:22:33.396
location.

00:22:34.426 --> 00:22:35.846
Here, you can see the surveyor

00:22:35.846 --> 00:22:37.756
has oriented himself in the room

00:22:38.106 --> 00:22:39.736
and on the screen and then

00:22:39.736 --> 00:22:40.696
presses record.

00:22:41.396 --> 00:22:42.546
The surveyor then moves the

00:22:42.546 --> 00:22:44.196
crosshair to the next location

00:22:44.196 --> 00:22:45.846
five to eight meters out to a

00:22:45.846 --> 00:22:47.046
point he can verify.

00:22:47.216 --> 00:22:48.836
And when in that spot, taps on

00:22:48.836 --> 00:22:50.496
the screen, registering the

00:22:50.496 --> 00:22:50.896
point.

00:22:51.296 --> 00:22:52.846
Notice his feet crossed the grid

00:22:52.846 --> 00:22:54.286
lines on the floor as he taps on

00:22:54.286 --> 00:22:55.876
the screen and calibrates the

00:22:55.876 --> 00:22:56.336
survey.

00:22:57.256 --> 00:22:59.206
At corners, the surveyor makes

00:22:59.206 --> 00:23:00.546
right angle turns in place,

00:23:00.726 --> 00:23:02.426
rotates the screen, taps and

00:23:02.426 --> 00:23:03.056
walks.

00:23:03.416 --> 00:23:05.336
The area colored in represents

00:23:05.336 --> 00:23:06.936
the Wi-Fi signal captured.

00:23:07.296 --> 00:23:08.726
When the floor is entirely

00:23:08.726 --> 00:23:10.416
colored in, the area is

00:23:10.416 --> 00:23:11.886
fingerprinted and the data is

00:23:11.886 --> 00:23:12.816
ready for upload.

00:23:13.346 --> 00:23:14.816
Once the survey data has been

00:23:14.816 --> 00:23:16.846
processed, you'll be notified

00:23:16.846 --> 00:23:18.206
that the indoor positioning is

00:23:18.206 --> 00:23:18.616
ready.

00:23:19.106 --> 00:23:21.126
Toggle privacy, location

00:23:21.126 --> 00:23:22.846
services to flush the location

00:23:22.846 --> 00:23:23.406
cache.

00:23:24.056 --> 00:23:25.676
And then you can begin testing

00:23:25.886 --> 00:23:27.216
the accuracy of indoor

00:23:27.216 --> 00:23:27.876
positioning.

00:23:28.846 --> 00:23:30.186
If positioning is working, the

00:23:30.186 --> 00:23:31.806
map will display in test mode,

00:23:32.126 --> 00:23:33.956
the green areas represent all

00:23:33.956 --> 00:23:35.526
the surveys that were uploaded

00:23:35.646 --> 00:23:37.186
and successfully processed.

00:23:37.396 --> 00:23:39.126
The blue dot is the center point

00:23:39.126 --> 00:23:40.936
of the positioning estimate with

00:23:40.936 --> 00:23:42.186
the light blue circle being the

00:23:42.186 --> 00:23:44.176
range of confidence in accuracy.

00:23:44.936 --> 00:23:47.376
Here, you can see the confidence

00:23:47.376 --> 00:23:48.946
circle is well within the three

00:23:48.946 --> 00:23:50.816
to five meter expectation of

00:23:50.816 --> 00:23:52.656
Apple indoor positioning and is

00:23:52.656 --> 00:23:54.156
following the tester quite well

00:23:54.156 --> 00:23:55.596
in the smaller environment.

00:23:55.856 --> 00:23:57.366
Including fixtures such as the

00:23:57.366 --> 00:23:59.516
tables in your IMDF will add to

00:23:59.516 --> 00:24:00.686
the constraints placed on the

00:24:00.686 --> 00:24:02.786
positioning service and enhance

00:24:02.786 --> 00:24:03.416
accuracy.

00:24:04.166 --> 00:24:05.476
Let's recap how indoor

00:24:05.476 --> 00:24:07.156
positioning works and how we

00:24:07.156 --> 00:24:07.766
enable it.

00:24:08.736 --> 00:24:10.526
Apple indoor positioning uses

00:24:10.526 --> 00:24:11.896
Wi-Fi fingerprinting.

00:24:12.156 --> 00:24:14.246
It uses any Wi-Fi signal in the

00:24:14.246 --> 00:24:16.176
building passively and does not

00:24:16.176 --> 00:24:18.006
make any impact on the network.

00:24:18.636 --> 00:24:20.206
Indoor positioning is enabled

00:24:20.206 --> 00:24:22.276
using the indoor survey app and

00:24:22.276 --> 00:24:24.216
the IMDF made available through

00:24:24.216 --> 00:24:25.546
the Indoor Maps Program.

00:24:26.156 --> 00:24:28.116
Surveying isn't difficult but

00:24:28.116 --> 00:24:29.946
the steps have to be followed if

00:24:29.946 --> 00:24:30.966
you are to succeed.

00:24:31.826 --> 00:24:33.546
Everyone surveying a location

00:24:33.686 --> 00:24:35.096
should have the same model of

00:24:35.176 --> 00:24:37.626
iPhone and same version of iOS.

00:24:37.926 --> 00:24:39.586
Drop pins every five to eight

00:24:39.586 --> 00:24:41.586
meters as you walk and continue

00:24:41.586 --> 00:24:42.556
in smooth motion.

00:24:43.076 --> 00:24:44.696
Keep in the center of walkways

00:24:44.696 --> 00:24:46.186
to ensure the walls are factored

00:24:46.186 --> 00:24:47.176
in to your positioning

00:24:47.176 --> 00:24:47.966
constraints.

00:24:48.256 --> 00:24:50.276
Do not use any sort of case on

00:24:50.276 --> 00:24:52.306
your iPhone while surveying.

00:24:52.656 --> 00:24:54.646
And read the help documentation

00:24:54.646 --> 00:24:57.026
for tips on patterns to walk for

00:24:57.026 --> 00:24:58.416
enabling specific types of

00:24:58.416 --> 00:25:00.316
buildings and positioning use

00:25:00.316 --> 00:25:00.826
cases.

00:25:01.166 --> 00:25:03.886
Finally, now that we have an

00:25:03.886 --> 00:25:06.496
IMDF and indoor positioning, how

00:25:06.496 --> 00:25:07.866
do we put this in our apps and

00:25:07.866 --> 00:25:08.786
websites?

00:25:09.246 --> 00:25:11.606
MapKit and MapKit JS support

00:25:11.606 --> 00:25:13.006
decoding and rendering of

00:25:13.006 --> 00:25:14.386
GeoJSON files.

00:25:14.736 --> 00:25:16.276
You can use these frameworks to

00:25:16.276 --> 00:25:18.776
display IMDF data as overlays

00:25:18.956 --> 00:25:20.646
and annotations on a map.

00:25:21.206 --> 00:25:23.026
Styling your indoor map elements

00:25:23.026 --> 00:25:24.546
is critical to how the map is

00:25:24.546 --> 00:25:26.086
perceived and used.

00:25:26.366 --> 00:25:28.076
Apply styles that match your

00:25:28.076 --> 00:25:29.926
app's theme or your company's

00:25:29.926 --> 00:25:30.396
brand.

00:25:30.686 --> 00:25:33.126
For a rich indoor experience,

00:25:33.346 --> 00:25:35.476
you can take advantage of indoor

00:25:35.476 --> 00:25:37.186
location by enabling Apple

00:25:37.186 --> 00:25:38.996
indoor positioning within your

00:25:38.996 --> 00:25:41.146
building and then using APIs

00:25:41.146 --> 00:25:43.046
from the core location framework

00:25:43.046 --> 00:25:44.806
to display the user location

00:25:44.806 --> 00:25:45.536
indoors.

00:25:45.796 --> 00:25:47.336
To learn more, check out the

00:25:47.336 --> 00:25:49.266
video and sample code for our

00:25:49.266 --> 00:25:52.586
WWDC Session Adding Indoor Maps

00:25:52.586 --> 00:25:53.976
to your App and Website.

00:25:55.356 --> 00:25:56.656
And that's the Indoor Maps

00:25:56.656 --> 00:25:57.246
Program.

00:25:57.466 --> 00:25:58.806
We look forward to seeing all

00:25:58.806 --> 00:25:59.976
the wonderful apps you will

00:25:59.976 --> 00:26:00.336
build.

00:26:00.726 --> 00:26:02.146
Thank you so much for your time

00:26:02.146 --> 00:26:02.576
today.

00:26:02.576 --> 00:26:04.796
For more information, visit our

00:26:04.796 --> 00:26:05.616
website at

00:26:05.616 --> 00:26:08.446
register.apple.com/indoor.