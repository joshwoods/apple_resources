WEBVTT

00:00:00.506 --> 00:00:04.500
[ Music ]

00:00:09.096 --> 00:00:10.916
>> [Applause] All right.

00:00:12.706 --> 00:00:13.286
Good morning.

00:00:14.686 --> 00:00:15.816
Thank you for attending this

00:00:15.916 --> 00:00:16.326
session.

00:00:16.896 --> 00:00:18.066
My name is Kulpreet.

00:00:18.066 --> 00:00:19.386
I'm a Software Engineer in

00:00:19.386 --> 00:00:21.206
Localization and I'll be joined

00:00:21.206 --> 00:00:22.766
by my colleagues Vivian and

00:00:22.766 --> 00:00:23.226
Arthur.

00:00:23.856 --> 00:00:26.576
In this session, I'll be going

00:00:26.576 --> 00:00:28.016
over some exciting new

00:00:28.016 --> 00:00:29.386
localization features in our

00:00:29.426 --> 00:00:29.946
platforms.

00:00:30.926 --> 00:00:32.095
Vivian and Arthur will then

00:00:32.095 --> 00:00:33.446
touch on some new tooling in

00:00:33.556 --> 00:00:35.496
Xcode 11, including some great

00:00:35.496 --> 00:00:36.986
enhancements to localization

00:00:36.986 --> 00:00:39.606
workflows, localizing images,

00:00:39.686 --> 00:00:41.756
and how you can use testing to

00:00:41.756 --> 00:00:43.516
generate screenshots of your app

00:00:43.516 --> 00:00:45.176
in any language.

00:00:47.056 --> 00:00:49.676
Today, we estimate over 70% of

00:00:49.676 --> 00:00:51.476
our users are outside the United

00:00:51.476 --> 00:00:52.046
States.

00:00:53.516 --> 00:00:55.186
Localization is an opportunity

00:00:55.186 --> 00:00:57.516
for you to expand your reach and

00:00:57.516 --> 00:00:59.026
capture new markets with your

00:00:59.026 --> 00:00:59.136
app.

00:01:01.596 --> 00:01:04.126
At Apple, we care deeply about

00:01:04.196 --> 00:01:05.946
creating a great experience for

00:01:05.946 --> 00:01:07.406
all of our users around the

00:01:07.406 --> 00:01:07.716
world.

00:01:07.716 --> 00:01:10.856
This year, we have a host of new

00:01:10.856 --> 00:01:12.746
features and improvements for

00:01:12.746 --> 00:01:13.896
our Multilingual and

00:01:13.896 --> 00:01:15.066
International Users.

00:01:16.196 --> 00:01:19.486
To name a few, in iOS 13 we have

00:01:19.616 --> 00:01:22.166
keyboards for 38 new languages.

00:01:23.066 --> 00:01:24.146
I'm sure if your language is up

00:01:24.146 --> 00:01:25.116
there you're really excited.

00:01:26.776 --> 00:01:28.096
We also have a new setup flow

00:01:28.096 --> 00:01:29.766
that guides multilingual users

00:01:29.766 --> 00:01:31.886
to the right language settings.

00:01:32.836 --> 00:01:34.766
Now one of these features I'm

00:01:34.766 --> 00:01:36.676
particularly excited about, and

00:01:36.726 --> 00:01:38.486
I want to dive a bit deeper with

00:01:39.136 --> 00:01:39.216
you.

00:01:40.326 --> 00:01:42.516
In iOS 13 there's a new setting

00:01:42.516 --> 00:01:43.786
that appears from Multilingual

00:01:43.786 --> 00:01:45.786
Users in your app settings page.

00:01:46.926 --> 00:01:48.506
I'm happy to say that users can

00:01:48.506 --> 00:01:49.906
now set the language of your app

00:01:50.496 --> 00:01:51.876
independent of the system

00:01:51.876 --> 00:01:52.346
language.

00:01:53.516 --> 00:01:56.696
[ Applause ]

00:01:57.196 --> 00:01:58.546
If a user has a connected watch,

00:01:58.876 --> 00:02:00.146
the setting will also sync to

00:02:00.146 --> 00:02:00.936
the accompanying watch

00:02:00.936 --> 00:02:01.646
application.

00:02:02.896 --> 00:02:04.826
And similarly, on macOS, users

00:02:04.826 --> 00:02:06.176
can set the language of an app

00:02:06.556 --> 00:02:07.966
via Language and Region

00:02:08.616 --> 00:02:08.946
preferences.

00:02:10.116 --> 00:02:12.366
This is important because in

00:02:12.366 --> 00:02:14.256
multilingual regions, users may

00:02:14.256 --> 00:02:15.346
prefer to use different

00:02:15.346 --> 00:02:16.696
languages in different context.

00:02:17.716 --> 00:02:19.046
In a region like Hong Kong,

00:02:19.196 --> 00:02:21.076
someone might read their news in

00:02:21.076 --> 00:02:22.166
Chinese even though they do

00:02:22.166 --> 00:02:23.496
their banking in English.

00:02:25.316 --> 00:02:27.136
In India, a student will go to

00:02:27.136 --> 00:02:29.396
school and learn in English even

00:02:29.396 --> 00:02:30.466
though they come home and speak

00:02:30.466 --> 00:02:31.576
Hindi with their family.

00:02:32.906 --> 00:02:34.386
Apps are windows into these

00:02:34.386 --> 00:02:36.476
interactions we have everyday.

00:02:36.836 --> 00:02:38.296
And this new setting allows

00:02:38.326 --> 00:02:39.916
users to choose a language that

00:02:39.916 --> 00:02:41.076
reflects their preference for

00:02:41.076 --> 00:02:42.446
your app.

00:02:43.236 --> 00:02:45.166
Now this works for your app out

00:02:45.166 --> 00:02:46.946
of the box and for free if

00:02:46.946 --> 00:02:48.276
you're using all of our standard

00:02:48.276 --> 00:02:49.496
foundation APIs for

00:02:49.496 --> 00:02:50.236
localization.

00:02:51.026 --> 00:02:51.966
But there are couple things to

00:02:51.966 --> 00:02:53.336
keep in mind to make this work

00:02:53.436 --> 00:02:54.446
great for your users.

00:02:55.046 --> 00:02:58.196
First, do not attempt to set the

00:02:58.196 --> 00:02:59.816
application language manually in

00:02:59.816 --> 00:03:00.166
code.

00:03:00.916 --> 00:03:02.806
Our APIs do a lot of work to

00:03:02.806 --> 00:03:04.036
ensure users get the right

00:03:04.036 --> 00:03:05.526
language and font fall backs.

00:03:06.626 --> 00:03:07.956
If you do need to add the option

00:03:07.956 --> 00:03:08.966
within your app to switch

00:03:08.966 --> 00:03:10.666
languages, we recommend you

00:03:10.666 --> 00:03:12.126
Launch into Settings where users

00:03:12.126 --> 00:03:13.216
can go in and switch the

00:03:13.216 --> 00:03:14.766
language of your app.

00:03:15.696 --> 00:03:18.386
Next, when the user does change

00:03:18.386 --> 00:03:21.366
the language of your app, your

00:03:21.536 --> 00:03:23.106
app will be relaunched in the

00:03:23.106 --> 00:03:23.976
target language.

00:03:24.826 --> 00:03:25.976
Now, to make this language

00:03:25.976 --> 00:03:27.616
change a seamless experience for

00:03:27.616 --> 00:03:29.436
the user, we recommend you adapt

00:03:29.726 --> 00:03:31.946
state restoration APIs.

00:03:32.636 --> 00:03:34.526
In iOS 13, there are some new

00:03:34.526 --> 00:03:36.926
state restoration APIs with

00:03:36.926 --> 00:03:38.136
NSUserActivity.

00:03:38.546 --> 00:03:39.596
To learn more about how you can

00:03:39.596 --> 00:03:40.906
use them, you can check out this

00:03:40.906 --> 00:03:41.856
talk on Friday.

00:03:42.586 --> 00:03:45.796
And, finally, it's important

00:03:45.796 --> 00:03:47.076
that all of your content is

00:03:47.076 --> 00:03:48.596
shown consistently in one

00:03:48.596 --> 00:03:49.736
language throughout your app.

00:03:50.636 --> 00:03:51.966
If you're doing some custom or

00:03:52.056 --> 00:03:53.446
server-side resource loading,

00:03:53.816 --> 00:03:55.386
there are handful of APIs that

00:03:55.386 --> 00:03:56.556
might be useful for you to

00:03:56.556 --> 00:03:57.606
determine which language to

00:03:57.606 --> 00:03:58.676
request that content here.

00:03:59.766 --> 00:04:00.856
Let's go over a few of them.

00:04:02.406 --> 00:04:04.286
Locale APIs are useful for

00:04:04.286 --> 00:04:06.106
fetching the user's Language and

00:04:06.106 --> 00:04:07.016
Region preferences.

00:04:07.826 --> 00:04:09.536
Locale that preferred languages

00:04:09.776 --> 00:04:11.536
returns a list of languages in

00:04:11.536 --> 00:04:12.776
order of user preference.

00:04:13.636 --> 00:04:15.546
Now, this list might be useful

00:04:15.546 --> 00:04:18.375
to you if maybe you're building

00:04:18.375 --> 00:04:19.315
an app that needs to handle

00:04:19.315 --> 00:04:21.536
multilingual content, and you

00:04:21.536 --> 00:04:22.716
need to fetch resources such as

00:04:22.786 --> 00:04:24.476
font for all of the user's

00:04:24.476 --> 00:04:24.846
languages.

00:04:24.846 --> 00:04:27.876
And one thing to know is that

00:04:28.136 --> 00:04:29.396
locale, that preferred languages

00:04:29.396 --> 00:04:32.206
will return the language list,

00:04:32.296 --> 00:04:33.396
that user's preferred languages,

00:04:33.436 --> 00:04:35.016
regardless of the languages your

00:04:35.016 --> 00:04:36.356
application bundle supports.

00:04:36.816 --> 00:04:37.996
So it's not useful for getting

00:04:37.996 --> 00:04:39.196
the current running application

00:04:39.196 --> 00:04:39.626
language.

00:04:40.826 --> 00:04:41.746
To get the current running

00:04:41.746 --> 00:04:44.066
application language, we can use

00:04:44.066 --> 00:04:45.026
Bundle APIs.

00:04:45.786 --> 00:04:47.466
And Bundle APIs are useful for

00:04:47.466 --> 00:04:48.606
language matching.

00:04:49.296 --> 00:04:51.006
Bundle.main.preferred

00:04:51.006 --> 00:04:53.306
Localizations considers both the

00:04:53.756 --> 00:04:55.716
user preferred languages and the

00:04:55.716 --> 00:04:57.096
languages that your application

00:04:57.096 --> 00:04:58.896
bundle supports and returns a

00:04:58.896 --> 00:05:00.096
list of languages your

00:05:00.096 --> 00:05:01.766
application Bundle supports in

00:05:01.766 --> 00:05:02.806
order of user preference.

00:05:04.386 --> 00:05:05.486
Now, if you have an external

00:05:05.486 --> 00:05:06.526
list, say if you're loading some

00:05:06.526 --> 00:05:08.226
remote content from a server and

00:05:08.226 --> 00:05:09.166
your server has a different

00:05:09.166 --> 00:05:10.646
setup supported languages, you

00:05:10.646 --> 00:05:11.786
can use the class method

00:05:11.866 --> 00:05:13.466
Bundle.preferredLocalizations

00:05:13.536 --> 00:05:13.806
from.

00:05:14.276 --> 00:05:15.706
And this will also consider that

00:05:15.766 --> 00:05:17.866
third language from your server.

00:05:19.616 --> 00:05:20.956
Now, to help walk you through

00:05:20.956 --> 00:05:22.786
this feature and what it means

00:05:22.786 --> 00:05:24.286
for your apps, I'd love to jump

00:05:24.286 --> 00:05:24.886
in to a demo.

00:05:25.516 --> 00:05:28.500
[ Applause ]

00:05:34.426 --> 00:05:37.706
OK. So, last year, we demo'd

00:05:37.706 --> 00:05:38.576
Vacation Planet.

00:05:38.936 --> 00:05:40.806
The first Interplanetary Travel

00:05:40.836 --> 00:05:42.266
Booking app, and we've since

00:05:42.266 --> 00:05:43.586
expanded the app to be able to

00:05:43.586 --> 00:05:44.736
book complete travel

00:05:44.736 --> 00:05:45.416
experiences.

00:05:46.136 --> 00:05:47.526
We had this new Discover tab

00:05:47.716 --> 00:05:48.766
with the collection view that

00:05:48.766 --> 00:05:50.266
shows some of our great

00:05:50.266 --> 00:05:51.546
offerings in these thumbnails

00:05:52.256 --> 00:05:55.256
like this romantic space cruise

00:05:55.256 --> 00:05:58.726
to Pluto or Moon Yoga.

00:06:00.396 --> 00:06:02.236
Now, some of these are seasonal

00:06:02.236 --> 00:06:03.876
offerings like this WWDC

00:06:03.876 --> 00:06:04.526
Afterparty.

00:06:05.146 --> 00:06:06.286
And because this is seasonal

00:06:06.286 --> 00:06:07.266
offering this content is

00:06:07.266 --> 00:06:08.726
actually pulled from our server.

00:06:09.036 --> 00:06:10.426
So this image and this great

00:06:10.426 --> 00:06:11.336
description about how this is

00:06:11.336 --> 00:06:12.846
the first Interstellar Bash and

00:06:12.936 --> 00:06:14.426
how we're going to be going on a

00:06:14.426 --> 00:06:15.856
onboard-- we're going to be

00:06:15.856 --> 00:06:17.836
going on a ship with an onboard

00:06:17.836 --> 00:06:19.756
seafood restaurant, the Codable,

00:06:19.756 --> 00:06:22.736
is actually being pulled from

00:06:22.736 --> 00:06:23.366
our server.

00:06:23.976 --> 00:06:25.406
Now, after reading that

00:06:25.406 --> 00:06:26.676
description, I think this looks

00:06:26.676 --> 00:06:27.886
great and I'm ready to book.

00:06:28.476 --> 00:06:30.966
But as you know, WWDC attendees

00:06:30.966 --> 00:06:32.336
has come from all around the

00:06:32.336 --> 00:06:34.106
world and they might prefer to

00:06:34.106 --> 00:06:35.386
do their travel booking in a

00:06:35.386 --> 00:06:36.156
different language.

00:06:37.156 --> 00:06:37.986
So, what I'm going to do is I'm

00:06:37.986 --> 00:06:39.006
going to go down to the profile

00:06:39.086 --> 00:06:40.406
tab where we have a table view

00:06:40.406 --> 00:06:41.656
cell that shows the current

00:06:41.656 --> 00:06:42.886
running application language.

00:06:43.436 --> 00:06:45.036
And when I click on that, it's

00:06:45.036 --> 00:06:46.086
going to pop me right into

00:06:46.136 --> 00:06:47.156
Settings where I can click in to

00:06:47.156 --> 00:06:48.846
see a list of all the languages

00:06:48.846 --> 00:06:49.946
my application supports.

00:06:50.436 --> 00:06:51.426
I'm going to go ahead and change

00:06:51.426 --> 00:06:52.026
this to French.

00:06:52.496 --> 00:06:53.696
And when I go back, you can see

00:06:53.696 --> 00:06:55.446
that the System UI is still in

00:06:55.446 --> 00:06:57.116
English but when I go back to

00:06:57.116 --> 00:06:58.846
Vacation Planet, the app will

00:06:58.846 --> 00:07:00.666
relaunch and it'll be in French.

00:07:01.516 --> 00:07:04.996
[ Applause ]

00:07:05.496 --> 00:07:06.976
Now, one thing you'll notice is

00:07:06.976 --> 00:07:08.016
that it actually brought me

00:07:08.016 --> 00:07:09.066
right back to where I left it

00:07:09.066 --> 00:07:10.076
and that's because I've adapted

00:07:10.076 --> 00:07:11.856
those state restoration APIs.

00:07:13.166 --> 00:07:14.376
And you can see now all of our

00:07:14.506 --> 00:07:15.616
strings and all of our date

00:07:15.616 --> 00:07:16.896
formatters are in French which

00:07:16.896 --> 00:07:17.716
is great.

00:07:18.026 --> 00:07:19.616
But when I go to that server

00:07:19.686 --> 00:07:21.156
side loaded content, I can see

00:07:21.156 --> 00:07:22.606
that that is still in English.

00:07:23.116 --> 00:07:24.236
Now that seems problematic

00:07:24.236 --> 00:07:25.406
because we want to be consistent

00:07:25.406 --> 00:07:26.526
in our app and we want their app

00:07:26.666 --> 00:07:27.596
to be in one language.

00:07:28.846 --> 00:07:29.706
So, let's take a look of what

00:07:29.706 --> 00:07:32.146
might be going on there.

00:07:32.416 --> 00:07:33.566
So, I'm here in our Collection

00:07:33.566 --> 00:07:35.706
View Controller and I have this

00:07:35.706 --> 00:07:37.376
method Local Discover Items that

00:07:37.416 --> 00:07:38.976
downloads that content from the

00:07:39.056 --> 00:07:39.416
server.

00:07:39.416 --> 00:07:40.666
And when we download that

00:07:40.666 --> 00:07:41.646
content, we actually need to

00:07:41.746 --> 00:07:42.966
pass in a language because the

00:07:43.026 --> 00:07:44.386
server needs to know what

00:07:44.476 --> 00:07:45.496
language are we fetching that

00:07:45.496 --> 00:07:46.116
content in.

00:07:47.036 --> 00:07:47.956
And here you can see that the

00:07:47.956 --> 00:07:48.906
language I'm passing in is

00:07:48.906 --> 00:07:50.766
Locale.preferredLanguages.first.

00:07:51.506 --> 00:07:52.306
As I mentioned before,

00:07:52.306 --> 00:07:53.706
Locale.preferredLanguages going

00:07:53.706 --> 00:07:55.926
to return the users preferred

00:07:55.926 --> 00:07:57.106
languages regardless of the

00:07:57.106 --> 00:07:58.246
language that my application

00:07:58.296 --> 00:07:58.676
supports.

00:07:59.526 --> 00:08:00.466
And so, this could be something

00:08:00.466 --> 00:08:01.906
like Persian that my application

00:08:01.906 --> 00:08:03.116
doesn't necessarily support.

00:08:03.116 --> 00:08:05.896
Now, ideally, I'd like something

00:08:05.896 --> 00:08:07.026
that I'll consider the server

00:08:07.026 --> 00:08:08.336
support languages, my

00:08:08.336 --> 00:08:09.556
application bundle supported

00:08:09.556 --> 00:08:11.076
languages, in order of the

00:08:11.076 --> 00:08:12.086
user's preferences.

00:08:13.056 --> 00:08:14.046
So, I'm going to start by

00:08:14.096 --> 00:08:16.636
fetching the server's supported

00:08:16.636 --> 00:08:17.116
languages.

00:08:17.666 --> 00:08:18.446
You can see that here.

00:08:18.446 --> 00:08:20.126
And then I'm going to use that

00:08:20.196 --> 00:08:22.216
Bundle API, that class method on

00:08:22.216 --> 00:08:23.946
Bundle.preferredLocalizations

00:08:24.166 --> 00:08:25.806
from, and I'll pass in the

00:08:25.806 --> 00:08:27.186
availableServerLocalizations.

00:08:27.696 --> 00:08:28.986
And now the first element of

00:08:28.986 --> 00:08:30.556
this will be the best language

00:08:30.556 --> 00:08:33.626
to request that content and from

00:08:33.895 --> 00:08:35.905
the server.

00:08:37.306 --> 00:08:38.546
So I went ahead and I rebuilt.

00:08:43.606 --> 00:08:45.136
And wait a couple of seconds for

00:08:45.136 --> 00:08:45.926
it to relaunch.

00:08:46.756 --> 00:08:48.326
And you can see now that image

00:08:48.326 --> 00:08:49.626
and all of that content is in

00:08:49.626 --> 00:08:49.826
French.

00:08:50.216 --> 00:08:50.866
Isn't that great [applause]?

00:08:51.566 --> 00:08:53.016
Cool, so, I'm ready to book and

00:08:53.016 --> 00:08:53.956
I can't wait to see you guys all

00:08:53.956 --> 00:08:54.876
at this Interstellar Bash.

00:08:55.126 --> 00:08:56.996
All right.

00:08:57.956 --> 00:08:59.876
So, to summarize, App Language

00:08:59.926 --> 00:09:02.146
Setting allows users to choose a

00:09:02.146 --> 00:09:04.186
language for your app.

00:09:05.126 --> 00:09:06.516
Launching to Settings is the

00:09:06.516 --> 00:09:08.556
best way to allow your users to

00:09:08.556 --> 00:09:09.656
switch the language of your app.

00:09:11.216 --> 00:09:12.886
Use state restoration to make

00:09:12.886 --> 00:09:14.266
that language switch a seamless

00:09:14.266 --> 00:09:15.736
experience for the user.

00:09:16.806 --> 00:09:17.786
And, finally, if you're doing

00:09:17.786 --> 00:09:19.046
some custom or server-side

00:09:19.046 --> 00:09:20.756
resource loading, be sure you're

00:09:20.756 --> 00:09:22.426
using the right bundle or locale

00:09:22.426 --> 00:09:24.666
API for your use case.

00:09:25.786 --> 00:09:28.076
I'm incredibly excited for all

00:09:28.076 --> 00:09:29.046
of the great features and

00:09:29.046 --> 00:09:30.196
enhancements we've worked on

00:09:30.196 --> 00:09:32.236
this year and can't wait to see

00:09:32.236 --> 00:09:33.096
how you're going to bring your

00:09:33.226 --> 00:09:34.236
apps to an international

00:09:34.236 --> 00:09:34.596
audience.

00:09:35.506 --> 00:09:37.446
Now to tell you how we've made

00:09:37.446 --> 00:09:38.566
it easier for you to do just

00:09:38.626 --> 00:09:39.756
that, I'd like to call up

00:09:39.756 --> 00:09:40.366
Vivian.

00:09:40.476 --> 00:09:40.856
Vivian?

00:09:41.516 --> 00:09:46.106
[ Applause ]

00:09:46.606 --> 00:09:47.506
>> Thanks Kulpreet.

00:09:47.686 --> 00:09:48.946
So, let's talk about some of the

00:09:48.946 --> 00:09:50.746
enhancements that localization

00:09:50.746 --> 00:09:53.786
tooling in Xcode.

00:09:53.786 --> 00:09:55.216
And this year, we've done a lot

00:09:55.216 --> 00:09:56.546
of things you've been asking

00:09:56.546 --> 00:09:58.316
for, so this is going to read a

00:09:58.316 --> 00:09:59.936
little like a wish list.

00:10:00.386 --> 00:10:03.006
First up, performance.

00:10:03.806 --> 00:10:05.566
So, I'm very excited to announce

00:10:05.736 --> 00:10:07.636
that exporting projects with

00:10:07.636 --> 00:10:09.746
lots of Interface Builder files

00:10:09.746 --> 00:10:12.146
for localization is now on

00:10:12.346 --> 00:10:15.976
average, 15 times faster.

00:10:16.516 --> 00:10:19.676
[ Applause ]

00:10:20.176 --> 00:10:21.536
So, this means if you had a

00:10:21.536 --> 00:10:22.996
project that was taking about a

00:10:22.996 --> 00:10:25.406
minute, that's going to be down

00:10:25.406 --> 00:10:25.976
to four seconds.

00:10:28.566 --> 00:10:31.246
And we did this by redesigning

00:10:31.246 --> 00:10:33.046
the string extraction process,

00:10:33.046 --> 00:10:34.866
so the more Interface Builder

00:10:34.956 --> 00:10:37.416
files you have, the bigger an

00:10:37.416 --> 00:10:39.236
improvement you're going to see.

00:10:39.736 --> 00:10:41.326
Also to really speed up and

00:10:41.326 --> 00:10:43.446
streamline your workflow, don't

00:10:43.446 --> 00:10:45.476
bother with calling genstrings

00:10:45.546 --> 00:10:48.716
or ibtool directly, instead use

00:10:48.716 --> 00:10:51.316
xcodebuild, exportlocalizations,

00:10:51.316 --> 00:10:53.356
and importlocalizations to take

00:10:53.356 --> 00:10:54.306
care of creating all of your

00:10:54.306 --> 00:10:55.226
strings files.

00:10:56.386 --> 00:11:00.096
Next up. iPad apps for Mac, so

00:11:00.096 --> 00:11:02.066
you may be really excited about

00:11:02.066 --> 00:11:03.836
bringing your iPad apps to Mac,

00:11:04.646 --> 00:11:06.406
but maybe you have some strings

00:11:06.486 --> 00:11:08.546
that wouldn't make sense, and

00:11:08.546 --> 00:11:10.736
maybe something it says, tap

00:11:10.736 --> 00:11:12.266
here but the user would now be

00:11:12.266 --> 00:11:14.016
using a mouse with a cursor,

00:11:14.406 --> 00:11:16.476
maybe clicking, or here in news,

00:11:16.746 --> 00:11:18.356
you can control Siri's

00:11:18.396 --> 00:11:20.516
suggestions in Settings, if

00:11:20.516 --> 00:11:22.946
you're on the iPad, but that

00:11:22.946 --> 00:11:25.226
would be the apps preferences on

00:11:25.226 --> 00:11:25.586
a Mac.

00:11:26.256 --> 00:11:29.616
And, of course, you want to have

00:11:29.666 --> 00:11:32.656
that one NSLocalizedString

00:11:32.656 --> 00:11:34.526
called it's already in code.

00:11:35.506 --> 00:11:37.226
So, to help with this, we're

00:11:37.226 --> 00:11:39.466
introducing a new stringsdict

00:11:39.576 --> 00:11:41.356
rule for device-specific

00:11:41.526 --> 00:11:42.076
strings.

00:11:43.346 --> 00:11:45.266
And this rule can be combined

00:11:45.446 --> 00:11:47.106
with the plural and variable

00:11:47.106 --> 00:11:47.746
width rules.

00:11:47.746 --> 00:11:49.466
So, you can use this for any of

00:11:49.466 --> 00:11:51.546
your existing strings even if

00:11:51.546 --> 00:11:53.466
they're already in a stringsdict

00:11:53.466 --> 00:11:53.886
file.

00:11:56.146 --> 00:11:57.256
So, the new rule is

00:11:57.306 --> 00:11:59.476
NSStringDeviceSpecificRuleType

00:11:59.986 --> 00:12:01.556
and the supported device keys

00:12:02.426 --> 00:12:06.906
are apppletv, applewatch, ipad,

00:12:07.396 --> 00:12:10.476
iphone, ipod and mac.

00:12:10.836 --> 00:12:13.116
So, it's not just for iPad apps

00:12:13.456 --> 00:12:14.746
on Mac.

00:12:15.276 --> 00:12:16.816
And your stringsdict will look

00:12:16.816 --> 00:12:18.706
something like this, at the top,

00:12:19.196 --> 00:12:22.026
your existing string key then

00:12:22.026 --> 00:12:22.756
the new rule

00:12:22.986 --> 00:12:25.126
NSStringDeviceSpecificRuleType

00:12:25.576 --> 00:12:27.836
and inside a dictionary, with

00:12:27.836 --> 00:12:29.536
all of your device specific

00:12:29.536 --> 00:12:32.046
strings index by those device

00:12:32.046 --> 00:12:32.326
keys.

00:12:33.326 --> 00:12:35.266
For more on iPad apps for Mac,

00:12:35.616 --> 00:12:36.696
please check out the session

00:12:36.866 --> 00:12:38.456
Taking iPad Apps For Mac to the

00:12:38.456 --> 00:12:39.146
Next Level.

00:12:40.406 --> 00:12:43.236
Next up. Settings bundle.

00:12:43.616 --> 00:12:46.386
Settings Bundles are now

00:12:46.386 --> 00:12:47.816
included in your Xcode

00:12:47.816 --> 00:12:48.976
Localization Catalogs.

00:12:49.426 --> 00:12:51.506
So these are as easy to localize

00:12:51.596 --> 00:12:52.856
as anything else in your

00:12:52.856 --> 00:12:53.296
project.

00:12:54.306 --> 00:12:56.316
And one of the more significant

00:12:56.316 --> 00:12:58.036
improvements we made to the

00:12:58.036 --> 00:13:00.696
localization tooling in Xcode is

00:13:00.696 --> 00:13:03.586
in how you localize Assets.

00:13:04.406 --> 00:13:06.196
So until now, in order to

00:13:06.196 --> 00:13:08.046
localize an image it needed to

00:13:08.046 --> 00:13:10.536
be an independent file in your

00:13:10.726 --> 00:13:13.156
project and this may have meant

00:13:13.156 --> 00:13:16.266
you had some files in your Asset

00:13:16.266 --> 00:13:18.506
Catalog and the localized ones

00:13:18.586 --> 00:13:19.766
floating around lose.

00:13:20.556 --> 00:13:22.056
So I'm very excited to announce

00:13:22.146 --> 00:13:23.626
that starting now you can

00:13:23.626 --> 00:13:26.086
localize images directly in your

00:13:26.206 --> 00:13:26.886
Asset Catalog.

00:13:27.516 --> 00:13:30.896
[ Applause ]

00:13:31.396 --> 00:13:33.546
So, this means you can now

00:13:33.546 --> 00:13:37.486
localize your image sets, watch

00:13:37.486 --> 00:13:40.506
complications, Apple TV image

00:13:40.506 --> 00:13:44.726
stacks, Sprite atlases, Game

00:13:44.726 --> 00:13:46.056
Center dashboards and

00:13:46.056 --> 00:13:48.966
leaderboards, as well as the new

00:13:49.176 --> 00:13:49.776
symbol sets.

00:13:50.866 --> 00:13:52.056
So, let's take a look how you do

00:13:52.056 --> 00:13:52.276
that.

00:13:53.146 --> 00:13:56.156
In the Asset Catalog Editor when

00:13:56.156 --> 00:13:57.846
you select a supported type in

00:13:57.846 --> 00:14:00.076
the Attribute Inspector, you'll

00:14:00.076 --> 00:14:02.016
now find a localized button.

00:14:02.296 --> 00:14:04.336
Click that and we add the

00:14:04.336 --> 00:14:05.736
localized of our attribute to

00:14:05.766 --> 00:14:07.566
the content so adjacent to that

00:14:07.636 --> 00:14:09.886
asset, you're ready to export an

00:14:09.886 --> 00:14:11.526
Xcode Localization Catalog.

00:14:12.926 --> 00:14:14.146
But, say that you're

00:14:14.146 --> 00:14:16.186
multilingual and doing some of

00:14:16.186 --> 00:14:17.976
the localization work yourself

00:14:18.456 --> 00:14:20.566
or maybe you're moving already

00:14:20.566 --> 00:14:23.046
localized images into the Asset

00:14:23.046 --> 00:14:25.306
Catalog, well, when you click

00:14:25.306 --> 00:14:26.946
that button, it's going to

00:14:26.946 --> 00:14:29.516
reveal check boxes with all of

00:14:29.516 --> 00:14:31.296
the localizations already in

00:14:31.296 --> 00:14:31.866
your project.

00:14:33.296 --> 00:14:36.156
Check any of those, and it will

00:14:36.156 --> 00:14:37.976
create the wells in the Asset

00:14:37.976 --> 00:14:39.816
Catalog Editor, so you can drag

00:14:39.816 --> 00:14:41.766
in the localized images like you

00:14:41.766 --> 00:14:43.506
would any other asset.

00:14:44.276 --> 00:14:45.676
Now, what about those new

00:14:45.676 --> 00:14:46.246
symbols?

00:14:47.186 --> 00:14:49.876
Well, SF system symbols are

00:14:49.876 --> 00:14:51.386
localized for you, you don't

00:14:51.386 --> 00:14:52.526
need to do any extra work.

00:14:53.876 --> 00:14:55.516
Custom symbols can also be

00:14:55.516 --> 00:14:56.126
localized.

00:14:56.696 --> 00:14:57.446
You can either set the

00:14:57.446 --> 00:14:59.246
directionality, if you just need

00:14:59.246 --> 00:15:00.696
them to flip for right-to-left

00:15:00.696 --> 00:15:01.856
languages like Arabic and

00:15:01.856 --> 00:15:04.256
Hebrew, or you can do a full

00:15:04.256 --> 00:15:06.276
localization cycle in the same

00:15:06.276 --> 00:15:07.766
workflow as images.

00:15:07.766 --> 00:15:09.406
You'll find the same localized

00:15:09.406 --> 00:15:10.566
button in the Attribute

00:15:10.566 --> 00:15:11.106
Inspector.

00:15:11.996 --> 00:15:13.506
For more on symbols, please

00:15:13.506 --> 00:15:14.366
check out the session

00:15:14.366 --> 00:15:16.436
Introducing SF Symbols later

00:15:16.436 --> 00:15:16.886
today.

00:15:18.136 --> 00:15:20.286
And with that I'd like to show

00:15:20.286 --> 00:15:21.646
you all this live in the demo.

00:15:22.516 --> 00:15:27.316
[ Applause ]

00:15:27.816 --> 00:15:29.386
Now, you may have notice in

00:15:29.386 --> 00:15:31.186
Kulpreet's demo that we had not

00:15:31.186 --> 00:15:32.426
localized the rest of these

00:15:32.426 --> 00:15:34.276
images, so I'm going to do that

00:15:34.276 --> 00:15:34.596
now.

00:15:34.996 --> 00:15:37.436
If I go into Xcode, I can go to

00:15:37.436 --> 00:15:39.436
my asset catalog and let's fix

00:15:39.436 --> 00:15:40.796
up this nice yoga image.

00:15:40.796 --> 00:15:43.486
It's a very nice yoga retreat on

00:15:43.486 --> 00:15:44.836
the moon where you can feel

00:15:44.836 --> 00:15:47.026
lighter, mentally and

00:15:47.026 --> 00:15:47.606
physically.

00:15:47.886 --> 00:15:50.216
So, I just go over to the

00:15:50.216 --> 00:15:52.996
Attribute Inspector, click

00:15:52.996 --> 00:15:56.346
localized, save, and that one is

00:15:56.346 --> 00:15:56.906
ready to go.

00:15:57.636 --> 00:15:59.076
I've already done this for my

00:15:59.076 --> 00:16:02.316
other vacation packages but I

00:16:02.446 --> 00:16:04.866
have one image that's already

00:16:04.866 --> 00:16:06.216
localized and I want to move

00:16:06.216 --> 00:16:08.406
into my Asset Catalog to take

00:16:08.406 --> 00:16:09.736
advantage of all the great

00:16:09.736 --> 00:16:11.946
features of Asset Catalogs like

00:16:11.946 --> 00:16:13.096
being able to specify a

00:16:13.136 --> 00:16:14.466
different appearance for Dark

00:16:14.466 --> 00:16:14.766
mode.

00:16:15.786 --> 00:16:17.716
This is super easy, I just grab

00:16:17.716 --> 00:16:19.656
my old image and drag in to the

00:16:19.656 --> 00:16:20.456
Asset Catalog.

00:16:21.756 --> 00:16:23.626
Xcode has created a new image

00:16:23.766 --> 00:16:26.786
set with the same name as my old

00:16:26.786 --> 00:16:27.326
resource.

00:16:27.956 --> 00:16:29.276
So I don't even need to go make

00:16:29.276 --> 00:16:30.966
a change in my storyboard, it

00:16:31.186 --> 00:16:31.986
will just work.

00:16:32.716 --> 00:16:33.806
Now, I want to bring my

00:16:33.916 --> 00:16:35.726
localizations along too, so I

00:16:35.726 --> 00:16:38.736
click localized, check off the

00:16:38.736 --> 00:16:40.756
existing language and I'll drag

00:16:40.756 --> 00:16:44.296
that one into place, and save.

00:16:45.006 --> 00:16:46.696
And I can just delete the old

00:16:46.696 --> 00:16:49.546
one, from my project and on

00:16:49.546 --> 00:16:49.826
disk.

00:16:50.736 --> 00:16:53.436
OK, so everything is ready.

00:16:53.436 --> 00:16:55.826
I can now export an Xcode

00:16:55.826 --> 00:16:56.906
Localization Catalog.

00:16:57.646 --> 00:16:59.226
This is the same workflow as

00:16:59.266 --> 00:16:59.876
Xcode 10.

00:17:00.786 --> 00:17:02.346
I select the project, go to

00:17:02.346 --> 00:17:04.955
Editor, export for localization.

00:17:08.226 --> 00:17:09.606
And let's just do French for

00:17:09.606 --> 00:17:10.986
now, I don't need the rest of

00:17:10.986 --> 00:17:11.205
these.

00:17:12.766 --> 00:17:14.195
OK, export.

00:17:15.806 --> 00:17:19.715
Let's see what we got.

00:17:19.935 --> 00:17:21.886
OK, here is my Xcode

00:17:21.886 --> 00:17:23.506
Localization Catalog and I can

00:17:23.506 --> 00:17:24.675
just send this off to my

00:17:24.675 --> 00:17:26.665
localizers and I'll find my

00:17:26.665 --> 00:17:27.336
localizer.

00:17:27.336 --> 00:17:29.966
I'm going to pop this open and I

00:17:29.966 --> 00:17:31.946
know I can dive right into

00:17:31.946 --> 00:17:33.896
Localize Contents and get to

00:17:33.896 --> 00:17:34.306
work.

00:17:34.946 --> 00:17:36.696
So, what do we got here, OK,

00:17:36.696 --> 00:17:38.706
here is the xliff, I know what

00:17:38.706 --> 00:17:40.006
to do with that, I know it has

00:17:40.006 --> 00:17:41.446
all the strings for the project

00:17:42.076 --> 00:17:43.236
but what else is here?

00:17:44.486 --> 00:17:46.306
OK, we have an Asset Catalog.

00:17:46.846 --> 00:17:49.526
And this is a fully formed Asset

00:17:49.526 --> 00:17:49.996
Catalog.

00:17:49.996 --> 00:17:51.456
I could go drag this into

00:17:51.456 --> 00:17:53.176
another Xcode project and use

00:17:53.176 --> 00:17:53.386
it.

00:17:53.916 --> 00:17:55.316
But this one has been filtered

00:17:55.316 --> 00:17:57.736
down to only what the localizer

00:17:57.836 --> 00:17:58.486
cares about.

00:17:58.896 --> 00:18:00.556
So, it's only the localizable

00:18:00.556 --> 00:18:02.796
content and only for this

00:18:03.056 --> 00:18:03.666
locale.

00:18:04.906 --> 00:18:06.056
Now, in this case, we don't have

00:18:06.056 --> 00:18:08.506
any French images yet, so

00:18:08.696 --> 00:18:10.716
[inaudible] on here, it's just

00:18:10.716 --> 00:18:12.046
the copy of the English.

00:18:12.416 --> 00:18:13.586
This is for the convenience with

00:18:13.586 --> 00:18:14.306
the localizer.

00:18:14.306 --> 00:18:16.046
They can just jump in, start

00:18:16.046 --> 00:18:16.416
editing.

00:18:17.816 --> 00:18:19.126
Save time, I've had some

00:18:19.186 --> 00:18:20.916
localizers do exactly that for

00:18:20.916 --> 00:18:21.126
me.

00:18:21.186 --> 00:18:22.996
So, let's see what they sent

00:18:22.996 --> 00:18:23.246
back.

00:18:24.186 --> 00:18:25.546
Just go open the catalog in my

00:18:25.546 --> 00:18:27.126
favorite localization tool here.

00:18:27.866 --> 00:18:34.346
And we can see side-by-side the

00:18:34.606 --> 00:18:36.766
English and French versions of

00:18:36.766 --> 00:18:39.026
all images there is yoga, yup.

00:18:40.066 --> 00:18:42.546
OK. Let's import this into the

00:18:42.546 --> 00:18:45.216
project, go back to Xcode, again

00:18:45.606 --> 00:18:47.486
same workflow as Xcode 10,

00:18:47.526 --> 00:18:49.146
select the project, go to

00:18:49.146 --> 00:18:51.646
Editor, import localizations,

00:18:52.336 --> 00:18:53.866
select that finished Xcode

00:18:53.866 --> 00:18:56.316
Localization Catalog and click

00:18:56.376 --> 00:18:58.496
Import, great.

00:18:58.496 --> 00:18:59.686
So, now, I have to go to my

00:18:59.686 --> 00:19:04.686
asset catalog, I can see, I now

00:19:04.686 --> 00:19:07.486
have two versions of my image in

00:19:07.486 --> 00:19:08.956
here all in one place.

00:19:09.516 --> 00:19:11.866
[ Applause ]

00:19:12.366 --> 00:19:14.136
But, it's kind of small, so

00:19:14.136 --> 00:19:15.306
let's run the app again, so we

00:19:15.306 --> 00:19:16.366
can see that a little bigger.

00:19:20.046 --> 00:19:21.896
So, this time when we go back to

00:19:21.896 --> 00:19:24.146
the app, we should see all of

00:19:24.146 --> 00:19:27.166
our vacation packages now with

00:19:27.226 --> 00:19:28.076
the French titles.

00:19:33.016 --> 00:19:35.496
There we go, beautiful.

00:19:36.516 --> 00:19:41.176
[ Applause ]

00:19:41.676 --> 00:19:44.976
OK. Let's go back to the slides.

00:19:48.646 --> 00:19:49.746
So, we just saw some of the

00:19:49.746 --> 00:19:51.426
enhancements to localization

00:19:51.426 --> 00:19:52.726
tooling in Xcode.

00:19:53.436 --> 00:19:55.176
Export and import of interface

00:19:55.176 --> 00:19:57.026
Builder files is now a lot

00:19:57.106 --> 00:19:57.536
faster.

00:19:59.036 --> 00:20:00.356
There's a new stringsdict rule

00:20:00.356 --> 00:20:03.816
for device-specific strings.

00:20:04.086 --> 00:20:05.566
Settings Bundle is now easy to

00:20:05.566 --> 00:20:06.146
localize.

00:20:06.996 --> 00:20:09.766
And symbols and images are

00:20:09.766 --> 00:20:11.806
localizable in Asset Catalogs.

00:20:12.686 --> 00:20:13.786
Now, of course, once you've

00:20:13.786 --> 00:20:15.656
localize your app you're going

00:20:15.656 --> 00:20:17.326
to want to test all of those

00:20:17.326 --> 00:20:18.326
localizations.

00:20:19.006 --> 00:20:20.566
And we've made that easier too.

00:20:20.566 --> 00:20:22.666
And I'd like to call up Arthur

00:20:22.986 --> 00:20:23.946
to tell you all about it.

00:20:24.516 --> 00:20:27.276
[Applause]

00:20:27.776 --> 00:20:29.976
>> Thanks, Vivian.

00:20:31.046 --> 00:20:32.216
Now, let's take a look at how

00:20:32.216 --> 00:20:33.926
you can take advantage of UI

00:20:33.926 --> 00:20:35.086
testing for localization.

00:20:36.466 --> 00:20:38.246
Testing is a significant part of

00:20:38.246 --> 00:20:39.226
any development cycle.

00:20:39.716 --> 00:20:41.976
It takes time and resources but

00:20:41.976 --> 00:20:43.066
it's very important to help

00:20:43.096 --> 00:20:44.586
catch regressions as you add new

00:20:44.586 --> 00:20:46.836
features and detect bugs before

00:20:46.836 --> 00:20:48.316
you release your product to your

00:20:48.316 --> 00:20:48.726
customers.

00:20:51.376 --> 00:20:52.826
If your app support more than

00:20:52.826 --> 00:20:54.496
one language you will have to

00:20:54.496 --> 00:20:55.716
test full language specific

00:20:55.716 --> 00:20:56.036
issues.

00:20:56.866 --> 00:21:00.586
Clip strings, truncated content,

00:21:01.396 --> 00:21:04.186
overlapping layouts or even

00:21:04.186 --> 00:21:05.586
issues specific to right-to-left

00:21:05.586 --> 00:21:06.866
languages such as Hebrew,

00:21:06.866 --> 00:21:07.186
Arabic.

00:21:09.696 --> 00:21:12.106
Now, if you want to test for

00:21:12.106 --> 00:21:15.386
every device you support, in

00:21:15.586 --> 00:21:18.566
every language you support, your

00:21:18.566 --> 00:21:19.956
test metrics can repeat and

00:21:19.956 --> 00:21:20.256
explore.

00:21:21.836 --> 00:21:23.636
You can easily end up with

00:21:23.726 --> 00:21:24.616
thousands of different

00:21:24.616 --> 00:21:24.956
scenarios.

00:21:26.236 --> 00:21:27.166
And that will make it really

00:21:27.166 --> 00:21:28.586
difficult for your testers to

00:21:28.586 --> 00:21:29.626
cover all these scenarios

00:21:29.626 --> 00:21:29.936
manually.

00:21:30.446 --> 00:21:32.136
So, it's even more important to

00:21:32.136 --> 00:21:34.016
include test in your project to

00:21:34.016 --> 00:21:35.146
help produce manual work load

00:21:35.206 --> 00:21:36.496
for your QA.

00:21:37.736 --> 00:21:40.936
In Xcode 11, we made it easier

00:21:40.936 --> 00:21:42.686
for you to cover all of this

00:21:42.686 --> 00:21:44.196
test automatically with test

00:21:44.706 --> 00:21:44.976
plans.

00:21:45.516 --> 00:21:49.206
[ Applause ]

00:21:49.706 --> 00:21:51.316
Test plan is a very easy way to

00:21:51.316 --> 00:21:53.126
run the same tests multiple

00:21:53.126 --> 00:21:54.546
times using different

00:21:54.546 --> 00:21:55.176
configurations.

00:21:56.386 --> 00:21:57.456
I'm not going to go too much

00:21:57.456 --> 00:21:58.616
into details about test plans

00:21:58.616 --> 00:21:58.866
today.

00:21:58.956 --> 00:22:00.576
So please check out the Testing

00:22:00.576 --> 00:22:01.866
in Xcode session on Thursday

00:22:01.866 --> 00:22:04.136
morning to learn more about it.

00:22:04.956 --> 00:22:06.616
What we will be covering is how

00:22:06.666 --> 00:22:08.726
you can use test plans in your

00:22:08.726 --> 00:22:10.546
localization workflow.

00:22:11.896 --> 00:22:14.526
So, first, we will see how you

00:22:14.526 --> 00:22:15.616
can make sure that your test

00:22:15.616 --> 00:22:18.916
localization friendly, then

00:22:19.406 --> 00:22:20.466
we'll talk about how you can use

00:22:20.506 --> 00:22:22.466
test plans to generate localized

00:22:23.196 --> 00:22:23.476
screenshots.

00:22:24.276 --> 00:22:26.256
And, finally, we will go over

00:22:26.256 --> 00:22:27.806
some of the many use cases for

00:22:27.806 --> 00:22:29.376
those screenshots, because

00:22:29.376 --> 00:22:30.566
they're not only good for

00:22:31.496 --> 00:22:31.686
testing.

00:22:33.506 --> 00:22:36.316
First, let's see how we can make

00:22:36.316 --> 00:22:37.876
sure that your test can work in

00:22:37.876 --> 00:22:38.916
every language you run them in.

00:22:40.416 --> 00:22:43.026
To do so, you should rely on

00:22:43.026 --> 00:22:44.236
Accessibility Identifiers.

00:22:45.536 --> 00:22:47.056
These identifiers are unique,

00:22:47.646 --> 00:22:49.856
stable, and we'll guarantee that

00:22:49.856 --> 00:22:51.236
your test can run in any

00:22:51.236 --> 00:22:51.626
language.

00:22:53.626 --> 00:22:55.696
You can easily set them up,

00:22:55.766 --> 00:22:56.776
setting the property of the same

00:22:56.776 --> 00:22:59.796
name in code or if you're using

00:22:59.866 --> 00:23:01.246
interface Builder to create your

00:23:01.246 --> 00:23:03.626
UI element, you can define them

00:23:03.626 --> 00:23:04.796
right there in the Identity

00:23:04.796 --> 00:23:08.966
Inspector, and that's all it

00:23:08.966 --> 00:23:09.336
takes.

00:23:09.696 --> 00:23:10.626
So, now, that your test are

00:23:10.626 --> 00:23:12.656
localization friendly, let's see

00:23:12.656 --> 00:23:13.826
how we can use them to Generate

00:23:13.826 --> 00:23:14.606
Localized Screenshots.

00:23:16.716 --> 00:23:18.576
As I mentioned earlier in your

00:23:18.576 --> 00:23:20.376
test plan you can create

00:23:20.376 --> 00:23:21.486
multiple configuration.

00:23:24.596 --> 00:23:26.116
In each of this configuration

00:23:27.096 --> 00:23:28.396
you can set a different language

00:23:28.486 --> 00:23:29.886
and a different region to run

00:23:29.886 --> 00:23:30.346
your testing.

00:23:33.436 --> 00:23:35.886
Then by simply turning on the

00:23:35.886 --> 00:23:37.396
Localization Screenshots option

00:23:37.556 --> 00:23:40.096
in the UI testing section, your

00:23:40.096 --> 00:23:41.626
screenshots will be persisted

00:23:42.456 --> 00:23:43.886
and there's so much you can do

00:23:44.666 --> 00:23:46.086
with them.

00:23:46.306 --> 00:23:47.136
Well, some of this option

00:23:47.136 --> 00:23:48.486
available in the Scheme Editor

00:23:48.856 --> 00:23:49.996
that we already-- you already

00:23:49.996 --> 00:23:51.376
know and use in case you haven't

00:23:51.376 --> 00:23:56.566
market it to test plans yet.

00:23:56.566 --> 00:23:57.926
And now that your tests are set

00:23:57.926 --> 00:23:58.696
up to capture Localized

00:23:58.696 --> 00:24:00.336
Screenshots, let's see what we

00:24:00.336 --> 00:24:00.886
can do with them.

00:24:01.726 --> 00:24:02.526
They're actually a great

00:24:02.566 --> 00:24:03.396
marketing resource.

00:24:04.026 --> 00:24:05.286
You can pass them along to your

00:24:05.286 --> 00:24:07.516
marketing team or even upload

00:24:07.516 --> 00:24:08.966
them to the App Store to

00:24:09.036 --> 00:24:11.396
showcase your latest design.

00:24:11.556 --> 00:24:12.626
You can use them in your

00:24:12.626 --> 00:24:14.096
documentation or in your

00:24:14.096 --> 00:24:14.526
tutorials.

00:24:17.156 --> 00:24:19.706
But more importantly they can

00:24:19.706 --> 00:24:21.296
help your localizers get the

00:24:21.296 --> 00:24:23.106
context they need to provide you

00:24:23.106 --> 00:24:24.696
with high quality localization.

00:24:25.326 --> 00:24:27.656
Let's take a quick example.

00:24:28.446 --> 00:24:31.596
A simple word like Start in

00:24:31.596 --> 00:24:33.616
English could either be a verb

00:24:33.886 --> 00:24:36.426
meaning to begin or it could be

00:24:36.426 --> 00:24:37.736
a noun and referred to the

00:24:37.736 --> 00:24:38.526
beginning of an event.

00:24:39.656 --> 00:24:41.066
While this difference might seem

00:24:41.066 --> 00:24:42.546
really subtle in English, it can

00:24:42.546 --> 00:24:43.676
lead to widely different

00:24:43.676 --> 00:24:44.586
localizations in other

00:24:44.586 --> 00:24:45.226
languages.

00:24:46.716 --> 00:24:48.586
Here, we can see it's a noun

00:24:48.586 --> 00:24:49.526
because it's labeling the

00:24:49.596 --> 00:24:50.886
starting date.

00:24:51.936 --> 00:24:53.776
Giving this visual context to

00:24:53.776 --> 00:24:55.536
your localizers we'll alleviate

00:24:55.536 --> 00:24:57.096
the ambiguity and make sure that

00:24:57.136 --> 00:24:58.146
you get the most accurate

00:24:58.146 --> 00:24:58.756
localization.

00:25:01.056 --> 00:25:03.706
Last year, we introduced the

00:25:03.706 --> 00:25:04.836
Xcode Localization Catalog.

00:25:06.466 --> 00:25:08.226
It's a very common way to handle

00:25:08.226 --> 00:25:10.446
localizing both strings and

00:25:10.446 --> 00:25:12.786
non-string based resources all

00:25:12.786 --> 00:25:14.556
in one place.

00:25:15.716 --> 00:25:17.696
In it we included the Notes

00:25:17.696 --> 00:25:19.546
directory, specifically for you

00:25:19.546 --> 00:25:20.636
to include contextual

00:25:20.636 --> 00:25:22.346
information such as screenshots

00:25:22.606 --> 00:25:25.206
for your localizers.

00:25:26.066 --> 00:25:28.366
This year, I'm very happy to say

00:25:28.576 --> 00:25:29.646
that we are automatically

00:25:29.646 --> 00:25:30.906
including these screenshots for

00:25:30.906 --> 00:25:32.346
you in the Xcode Localization

00:25:32.346 --> 00:25:32.976
Catalog catalog.

00:25:33.516 --> 00:25:37.836
[ Applause ]

00:25:38.336 --> 00:25:40.516
And all it takes in one-- is one

00:25:40.516 --> 00:25:42.056
single click during the Export

00:25:42.096 --> 00:25:43.196
Localization Workflow that

00:25:43.196 --> 00:25:44.596
you're already using.

00:25:46.036 --> 00:25:48.376
If you rely on automation to

00:25:48.376 --> 00:25:49.296
generate your Localization

00:25:49.296 --> 00:25:51.186
Catalog, you can simply add the

00:25:51.186 --> 00:25:52.656
include screenshots argument to

00:25:52.656 --> 00:25:53.466
your xcodebuild

00:25:53.496 --> 00:25:54.726
exportLocalizations command.

00:25:55.396 --> 00:25:58.546
You can also customize which

00:25:58.546 --> 00:25:59.446
screenshots I exported.

00:26:00.066 --> 00:26:01.276
We made it easier for you to

00:26:01.276 --> 00:26:03.126
specify which test targets,

00:26:03.336 --> 00:26:05.676
devices and languages I exported

00:26:05.886 --> 00:26:06.856
to Localization Catalog.

00:26:10.136 --> 00:26:11.396
But that might be a lot of

00:26:11.396 --> 00:26:13.056
screenshots for your localizers

00:26:13.056 --> 00:26:14.986
to come through to see exactly

00:26:14.986 --> 00:26:16.466
what Strings shows on the UI.

00:26:17.696 --> 00:26:20.186
So, alongside every Localized

00:26:20.186 --> 00:26:21.976
Screenshot that we generate, we

00:26:21.976 --> 00:26:23.466
also generate a metadata.plist,

00:26:23.836 --> 00:26:25.626
mapping the strings to the exact

00:26:25.626 --> 00:26:26.976
location on the screenshots.

00:26:29.656 --> 00:26:31.166
This plist include the strings

00:26:31.166 --> 00:26:32.996
IDs, the ones that you can find

00:26:32.996 --> 00:26:35.196
in the Eclipse but also the

00:26:35.196 --> 00:26:37.286
framing formation, which is the

00:26:37.286 --> 00:26:39.256
exact location of the Strings on

00:26:39.256 --> 00:26:39.726
the screenshots.

00:26:41.276 --> 00:26:42.836
This makes it really easy for

00:26:42.836 --> 00:26:44.276
localization tools to map the

00:26:44.276 --> 00:26:46.336
Strings to the Eclipse and

00:26:46.336 --> 00:26:48.186
highlight them directly on the

00:26:48.836 --> 00:26:49.116
screenshots.

00:26:50.196 --> 00:26:51.506
And once you export your

00:26:51.506 --> 00:26:53.576
localization catalog, this new

00:26:53.576 --> 00:26:55.256
content is neatly organized in

00:26:55.256 --> 00:26:57.036
the Notes directory and the

00:26:57.036 --> 00:26:59.006
metadata.plist consolidated into

00:26:59.006 --> 00:27:01.026
one for test targets and device.

00:27:02.346 --> 00:27:04.536
And this is how easy it is to

00:27:04.536 --> 00:27:05.776
direct Localized Screenshots

00:27:05.996 --> 00:27:07.896
with Xcode 11 and test plans.

00:27:08.516 --> 00:27:11.566
[ Applause ]

00:27:12.066 --> 00:27:13.616
And with this, I'd like to call

00:27:13.616 --> 00:27:15.036
Vivian back on stage to show you

00:27:15.036 --> 00:27:15.766
all of it in action.

00:27:16.516 --> 00:27:20.256
[ Applause ]

00:27:20.756 --> 00:27:22.176
>> Thanks Arthur.

00:27:22.586 --> 00:27:25.156
So, now that we've localized our

00:27:25.156 --> 00:27:26.826
app, we want to test those

00:27:26.826 --> 00:27:27.806
Localizations.

00:27:33.136 --> 00:27:33.906
All right.

00:27:34.706 --> 00:27:36.856
So, I've already created some UI

00:27:36.856 --> 00:27:38.606
tests for my project here.

00:27:39.136 --> 00:27:41.576
I have some here that will

00:27:41.576 --> 00:27:44.576
capture all of my screens, which

00:27:44.716 --> 00:27:46.206
I think would be really helpful

00:27:46.206 --> 00:27:48.226
for giving to my localizers for

00:27:48.226 --> 00:27:48.686
context.

00:27:48.686 --> 00:27:51.556
And I have another test that

00:27:51.556 --> 00:27:53.216
just zips in there and gets a

00:27:53.256 --> 00:27:55.286
picture of those nice vacation

00:27:55.286 --> 00:27:56.676
package images, which I think

00:27:56.676 --> 00:27:57.806
would be good for marketing.

00:27:58.746 --> 00:28:00.556
But I want to run all of these

00:28:00.556 --> 00:28:03.246
test in all the localizations I

00:28:03.306 --> 00:28:03.816
support.

00:28:03.816 --> 00:28:05.756
And that could take some time

00:28:06.036 --> 00:28:07.496
which is where test plans comes

00:28:07.496 --> 00:28:07.976
in handy.

00:28:07.976 --> 00:28:09.466
So you can add a test plan to

00:28:09.466 --> 00:28:10.816
your project like any other

00:28:10.816 --> 00:28:11.196
file.

00:28:11.786 --> 00:28:14.306
File, New, File, and there's a

00:28:14.306 --> 00:28:15.776
template for it, so I can just

00:28:15.776 --> 00:28:17.066
search for plan.

00:28:17.066 --> 00:28:17.476
There it is.

00:28:18.146 --> 00:28:19.636
You can also, migrate your

00:28:19.636 --> 00:28:21.816
existing test to test plans.

00:28:22.446 --> 00:28:23.136
Let's save time.

00:28:23.636 --> 00:28:24.446
I've already made one.

00:28:25.306 --> 00:28:27.906
So, let's take a look.

00:28:27.906 --> 00:28:30.516
OK. So I have two test targets

00:28:30.516 --> 00:28:30.806
here.

00:28:30.806 --> 00:28:33.396
I have one that will run all of

00:28:33.396 --> 00:28:36.786
my screens tests and another

00:28:36.866 --> 00:28:37.996
that's just going to capture

00:28:37.996 --> 00:28:39.766
that marketing image.

00:28:40.816 --> 00:28:42.276
I also have some configuration

00:28:42.336 --> 00:28:42.706
setup.

00:28:43.206 --> 00:28:44.956
The important thing here is in

00:28:44.956 --> 00:28:46.226
the shared Settings.

00:28:47.616 --> 00:28:49.466
Localization Screenshots is

00:28:49.466 --> 00:28:50.386
turned on.

00:28:52.066 --> 00:28:53.756
So, I've got one configuration

00:28:53.756 --> 00:28:55.586
for English, United States and

00:28:56.526 --> 00:28:58.736
another for Swedish, Sweden.

00:28:58.816 --> 00:29:00.496
So, since I've just got those

00:29:00.496 --> 00:29:02.046
images in French, I'm going to

00:29:02.046 --> 00:29:03.336
add one for French.

00:29:03.796 --> 00:29:04.806
Just click Plus.

00:29:05.616 --> 00:29:07.966
Let's call this one French,

00:29:08.516 --> 00:29:08.706
France.

00:29:09.226 --> 00:29:14.266
OK. And we will set the

00:29:14.446 --> 00:29:17.586
application language to French

00:29:18.206 --> 00:29:20.806
and the application region to

00:29:21.446 --> 00:29:21.756
France.

00:29:23.246 --> 00:29:25.506
OK. It's now-- I think, I'll

00:29:25.506 --> 00:29:27.506
rerun just the test to get that

00:29:27.506 --> 00:29:28.336
marketing image.

00:29:28.336 --> 00:29:29.846
So, I can get a picture of those

00:29:29.846 --> 00:29:31.836
newly localized French images.

00:29:32.486 --> 00:29:35.556
So, I go back to my UI test in

00:29:35.556 --> 00:29:36.146
order to run it.

00:29:36.616 --> 00:29:37.816
And now, when I click the test

00:29:37.856 --> 00:29:40.346
diamond, instead of running my

00:29:40.346 --> 00:29:42.436
test once, it's going to run it

00:29:42.806 --> 00:29:44.426
with all of my configurations

00:29:44.466 --> 00:29:45.666
and we can actually watch as it

00:29:45.666 --> 00:29:46.606
goes through all of this.

00:29:47.576 --> 00:29:49.196
So, it's going to run three

00:29:49.196 --> 00:29:53.696
times, English and then Swedish

00:29:54.196 --> 00:29:55.696
except my localizers aren't

00:29:55.696 --> 00:29:55.936
done.

00:29:55.936 --> 00:29:56.996
So, we'll probably going to see

00:29:57.056 --> 00:29:58.756
some English strings again and

00:29:58.756 --> 00:30:00.556
then one last time in French.

00:30:02.066 --> 00:30:03.436
And I know that this will work

00:30:03.436 --> 00:30:05.436
because I use accessibility

00:30:05.436 --> 00:30:07.056
identifiers like Arthur said.

00:30:07.166 --> 00:30:08.896
So my test will work with all

00:30:09.006 --> 00:30:10.526
three language configurations.

00:30:11.756 --> 00:30:12.686
All right.

00:30:12.686 --> 00:30:16.626
Here we go again.

00:30:16.626 --> 00:30:18.876
French, OK, great.

00:30:20.296 --> 00:30:21.586
So let's see what we got here.

00:30:21.586 --> 00:30:24.516
OK. If I look at the test that I

00:30:24.516 --> 00:30:25.106
just ran.

00:30:25.106 --> 00:30:28.236
OK. I can see it run, it's on my

00:30:28.236 --> 00:30:30.026
configurations and if I check

00:30:30.026 --> 00:30:32.296
out French and look at my

00:30:32.296 --> 00:30:32.956
attachment.

00:30:34.216 --> 00:30:34.866
Beautiful.

00:30:34.976 --> 00:30:36.206
So, I can use this one for

00:30:36.206 --> 00:30:36.766
marketing.

00:30:37.606 --> 00:30:39.756
But my localizers are waiting

00:30:39.756 --> 00:30:41.266
for an update on Swedish that

00:30:41.266 --> 00:30:42.386
they can finish that.

00:30:42.856 --> 00:30:45.206
So I need to send them a fresh

00:30:45.256 --> 00:30:48.096
Xcode Localization Catalog and I

00:30:48.096 --> 00:30:49.556
want to make sure that they get

00:30:49.556 --> 00:30:51.636
that really tricky start string,

00:30:51.636 --> 00:30:51.956
right.

00:30:52.146 --> 00:30:53.706
So, let's make sure they get a

00:30:53.706 --> 00:30:54.246
screenshot.

00:30:54.776 --> 00:30:57.576
I ran my test earlier for it to

00:30:57.576 --> 00:30:58.906
capture all of my screens.

00:31:00.126 --> 00:31:01.376
So, if I look at the Swedish

00:31:01.376 --> 00:31:05.236
one-- let's see if we can find

00:31:05.236 --> 00:31:07.086
that tricky start string.

00:31:07.086 --> 00:31:09.366
I think it's down here.

00:31:10.336 --> 00:31:11.006
Yeah. There we go.

00:31:11.006 --> 00:31:12.216
OK. So they haven't translated

00:31:12.216 --> 00:31:14.396
Start yet or End and they got

00:31:14.806 --> 00:31:15.276
Travelers.

00:31:16.136 --> 00:31:19.936
And also in here I have that

00:31:20.086 --> 00:31:22.836
plist with the frame information

00:31:23.266 --> 00:31:24.336
which should be useful.

00:31:25.806 --> 00:31:28.366
So, I'm now ready to export an

00:31:28.366 --> 00:31:29.626
Xcode Localization Catalog.

00:31:30.406 --> 00:31:32.066
Select the project, go to

00:31:32.066 --> 00:31:34.566
Editor, export localization.

00:31:34.566 --> 00:31:37.596
And this time, I'm going to do

00:31:37.756 --> 00:31:41.226
Swedish and importantly I'm

00:31:41.226 --> 00:31:42.946
going to click Include

00:31:42.986 --> 00:31:43.696
screenshots.

00:31:44.496 --> 00:31:45.346
All right.

00:31:45.346 --> 00:31:46.996
Xcode has found I have 19

00:31:46.996 --> 00:31:47.986
screenshots available.

00:31:47.986 --> 00:31:49.226
Let's see exactly what I have

00:31:49.226 --> 00:31:49.526
here.

00:31:49.526 --> 00:31:51.796
If I click customize, I can see

00:31:52.476 --> 00:31:54.776
I ran my test with iPhone 8

00:31:54.886 --> 00:31:56.966
Plus, 10R and 10S.

00:31:56.966 --> 00:31:59.176
So, if there's any layout issues

00:31:59.256 --> 00:32:01.576
that might catch some of those.

00:32:01.576 --> 00:32:02.466
OK. I'm definitely going to keep

00:32:02.466 --> 00:32:03.196
all of those.

00:32:04.776 --> 00:32:08.616
And, now, I'm ready to export.

00:32:09.316 --> 00:32:16.276
OK. So, now, if I look at my new

00:32:16.276 --> 00:32:20.316
Localization Catalog, now in the

00:32:20.316 --> 00:32:22.176
Notes directory I have

00:32:22.586 --> 00:32:23.286
screenshots.

00:32:24.396 --> 00:32:26.106
And here I can see I have all of

00:32:26.106 --> 00:32:28.546
my screenshots organized by test

00:32:28.806 --> 00:32:30.206
target and device.

00:32:30.936 --> 00:32:31.916
So, actually, I'm going to pull

00:32:31.916 --> 00:32:33.866
the marketing ones out for later

00:32:34.576 --> 00:32:36.606
and just send the rest to my

00:32:36.606 --> 00:32:37.316
Localizers.

00:32:38.046 --> 00:32:41.626
So we look in here, we can see I

00:32:41.626 --> 00:32:44.506
have all of my screenshots.

00:32:45.236 --> 00:32:48.976
OK. There's that tricky start

00:32:48.976 --> 00:32:50.746
string and actually worst than

00:32:50.866 --> 00:32:53.146
Start, you can see in this one

00:32:53.146 --> 00:32:54.416
screenshot, we have the string

00:32:54.416 --> 00:32:58.346
Book, one, two, three times.

00:32:59.166 --> 00:33:03.896
So that plist with the frame

00:33:03.896 --> 00:33:05.036
informations can be really

00:33:05.036 --> 00:33:05.526
useful.

00:33:05.856 --> 00:33:07.566
And this is the consolidated

00:33:07.566 --> 00:33:09.116
plist, so it has the frame

00:33:09.116 --> 00:33:10.916
information for all of the

00:33:10.916 --> 00:33:13.256
strings captured in this entire

00:33:13.256 --> 00:33:15.076
set of screenshots.

00:33:15.856 --> 00:33:18.056
So, they're really handy because

00:33:18.456 --> 00:33:20.356
now when I'm on localizer I can

00:33:20.356 --> 00:33:22.246
open the catalog in my favorite

00:33:22.246 --> 00:33:23.326
Localization Tool.

00:33:23.326 --> 00:33:29.386
And now, I can preview where

00:33:29.386 --> 00:33:30.406
string shows up.

00:33:31.516 --> 00:33:35.216
[ Applause ]

00:33:35.716 --> 00:33:38.066
And not only can I see one place

00:33:38.276 --> 00:33:40.296
where a string shows, it will

00:33:40.296 --> 00:33:42.586
show me all of the screenshots

00:33:42.586 --> 00:33:43.846
that capture the given string.

00:33:46.576 --> 00:33:48.006
So, my localizers are going to

00:33:48.006 --> 00:33:48.716
be thrilled.

00:33:52.036 --> 00:33:53.506
All right, let's wrap things up.

00:33:55.736 --> 00:33:59.386
So, today, we saw how users can

00:33:59.386 --> 00:34:01.146
run your app in a different

00:34:01.146 --> 00:34:02.666
language to their system

00:34:02.666 --> 00:34:03.236
language.

00:34:04.156 --> 00:34:05.856
We saw a bunch of improvements

00:34:06.536 --> 00:34:08.186
to the localization tooling in

00:34:08.186 --> 00:34:11.596
Xcode, including faster export

00:34:11.596 --> 00:34:13.376
of interface Builder files, a

00:34:13.376 --> 00:34:15.676
new stringsdict rule, how easy

00:34:15.676 --> 00:34:17.206
it is to localize your settings

00:34:17.246 --> 00:34:18.716
bundle, and of course how you

00:34:19.346 --> 00:34:21.456
can now localize images right in

00:34:21.456 --> 00:34:22.466
your Asset Catalog.

00:34:23.366 --> 00:34:26.446
We also saw how you can generate

00:34:26.446 --> 00:34:28.846
Localized screenshots with your

00:34:28.846 --> 00:34:31.746
Tests and some of the uses for

00:34:31.916 --> 00:34:33.456
those screenshots.

00:34:35.346 --> 00:34:36.766
For more information, please

00:34:36.766 --> 00:34:37.806
visit our page on

00:34:37.806 --> 00:34:39.356
developer.apple.com.

00:34:39.806 --> 00:34:40.866
And if you have any questions,

00:34:41.076 --> 00:34:42.306
come see us later in the labs.

00:34:44.096 --> 00:34:44.456
Thank you.

00:34:44.646 --> 00:34:45.326
Enjoy the rest of the

00:34:45.326 --> 00:34:45.815
conference.

00:34:46.516 --> 00:34:49.500
[ Applause ]