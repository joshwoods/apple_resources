WEBVTT

00:00:12.929 --> 00:00:16.789
>> My name is Mark Whittemore and I manage
the Apple Remote Desktop Engineering Team.

00:00:16.789 --> 00:00:22.799
I am very happy to be here today to share with
you the work that my team has been up to recently.

00:00:26.530 --> 00:00:33.380
So I would like to start things off by spending a few
minutes reviewing what it is that Apple Remote Desktop does,

00:00:33.380 --> 00:00:39.020
and then in order to give you as good
an experience with Remote Desktop as possible,

00:00:39.020 --> 00:00:43.290
we would like to cover three very important topics
that are going to give you the knowledge you need

00:00:43.289 --> 00:00:47.049
to deploy this very important application
in your organization.

00:00:47.049 --> 00:00:52.599
And lastly, in order to maximize your day-to-day user Remote
Desktop, we are going to show you some great techniques

00:00:52.600 --> 00:00:58.010
that are going to allow you to
automate the management of your Macs.

00:00:58.009 --> 00:01:09.159
[ Silence ]

00:01:09.159 --> 00:01:16.789
[Applause] OK, Apple Remote Desktop is a full desktop
management suite that gives any administrator responsible

00:01:16.790 --> 00:01:24.520
for managing a network of Macs the ability to distribute
software, create software and hardware reports,

00:01:24.519 --> 00:01:31.719
provide online real time support to your end users,
as well as automate routine management tasks.

00:01:34.569 --> 00:01:41.059
As a system administrator, you need to
be able to make sure that all of the Macs

00:01:41.060 --> 00:01:45.620
in your organization are running the correct
version of the software you have installed on them,

00:01:45.620 --> 00:01:50.730
as well as making sure that you have the operating
system and security updates installed on them.

00:01:50.730 --> 00:01:57.090
In addition, you need to install configuration
files or basically any type of file at all.

00:01:57.090 --> 00:01:59.790
And Remote Desktop gives you the
ability to do this by allowing you

00:01:59.790 --> 00:02:04.790
to install packages and copy files and delete files.

00:02:04.790 --> 00:02:10.740
Now you also likely have the need to be able to
queue up the installation of software on machines

00:02:10.740 --> 00:02:16.150
that are not currently online, and Remote Desktop gives
you the ability to do this as well by allowing you

00:02:16.150 --> 00:02:21.629
to configure another machine that you have Remote
Desktop installed on to act as a Task Server.

00:02:21.629 --> 00:02:27.599
And a Task Server allows your administrator console to
delegate the responsibility of installing the software

00:02:27.599 --> 00:02:30.169
to that other machine, which will
then install it on the machines

00:02:30.169 --> 00:02:34.049
that are both currently online and
on machines that come online later.

00:02:34.050 --> 00:02:36.210
So let's take a closer look at how this works.

00:02:36.210 --> 00:02:41.000
So I as the system administrator have
a package that I want to install.

00:02:41.000 --> 00:02:46.849
I set up another machine, I install Remote
Desktop on it and configure it as a Task Server,

00:02:46.849 --> 00:02:49.879
then I configure my administrator to use that machine.

00:02:49.879 --> 00:02:56.990
So now when I start my install package task, that package
is then delegated to that Task Server and it will go ahead

00:02:56.990 --> 00:03:00.090
and install it on all the machines
that are currently online.

00:03:00.090 --> 00:03:05.050
Then when my machines that are offline, such as my
laptop, come online, they contact the Task Server,

00:03:05.050 --> 00:03:15.490
and the Task Server will go ahead and
install the package on that machine as well.

00:03:15.490 --> 00:03:21.710
Another area of desktop management is
making sure that you have up-to-date

00:03:21.710 --> 00:03:25.750
and accurate information about
all the Macs in your organization.

00:03:25.750 --> 00:03:33.620
Whether this is-- so you also need to
know what software is installed as well.

00:03:33.620 --> 00:03:41.310
For instance, let's say you want to install the next version
of an Adobe created suite or Snow Leopard when it comes

00:03:41.310 --> 00:03:43.969
out in a few months, you want to make sure that the Macs

00:03:43.969 --> 00:03:51.289
in your organization meet the correct minimum system
requirements, such as make sure you have enough RAM in them

00:03:51.289 --> 00:03:56.789
and making sure there is enough free hard disc space, and
Remote Desktop gives you the ability to do this as well.

00:03:56.789 --> 00:04:03.590
You can create software reports that let you know what
versions of software are installed on your machines,

00:04:03.590 --> 00:04:09.060
hardware reports that for instance can tell you how
much RAM they have, how much free hard disc space.

00:04:09.060 --> 00:04:14.310
You can also export this data if you
want to use it in other applications.

00:04:14.310 --> 00:04:20.160
And if you want to do real time online searching of
all the file systems in the Macintosh organization,

00:04:20.160 --> 00:04:21.930
you can use the remote Spotlight search feature.

00:04:21.930 --> 00:04:32.160
So let's take another thing, just like the installation
of software on machines that are not online,

00:04:32.160 --> 00:04:37.300
you may also have the need to get the same reporting
information when your machine is not online,

00:04:37.300 --> 00:04:39.939
and Remote Desktop allows you to do this as well.

00:04:39.939 --> 00:04:45.509
And just as with the installation of software for
offline machines, the Task Server plays as essential role

00:04:45.509 --> 00:04:48.230
for getting report information from
your machines that are offline.

00:04:48.230 --> 00:04:50.620
So let's take a closer look at how this works.

00:04:50.620 --> 00:05:00.519
So as before, I set up another machine to act as my remote
Task Server, and then I configure with my admin console

00:05:00.519 --> 00:05:07.359
to have all my client machines build their report
cache data on a regular basis and have this uploaded

00:05:07.360 --> 00:05:09.710
to the Task Server, because this machine is always running.

00:05:09.709 --> 00:05:11.549
My administrator may not always be running.

00:05:11.550 --> 00:05:15.949
I may not have it on a Mac Pro, I
may have it on a laptop machine.

00:05:15.949 --> 00:05:22.009
So now when I want to request a report,
such as a system information report,

00:05:22.009 --> 00:05:28.329
my administrator contacts the Task Server, which generates
those report results and sends it back to my admin machine.

00:05:28.329 --> 00:05:34.019
So even if one of my machines, such as this laptop, is
offline at the time, I can still get the information I need,

00:05:34.019 --> 00:05:43.349
and I can continue to do the planning that I have to do.

00:05:43.350 --> 00:05:50.620
When you have as many Macs as you all do, those
machines can be spread across a floor or a building,

00:05:50.620 --> 00:05:58.129
across town or even across the country, and it isn't
really practical to get up and walk over to these machines,

00:05:58.129 --> 00:06:04.149
touch each one of them when you have to restart them
or set the start-up disc, so you can do a net install.

00:06:04.149 --> 00:06:09.609
You need to be able to perform these operations
remotely and often times against a set-up Macs

00:06:09.610 --> 00:06:15.060
and Remote Desktop gives you the ability to do this as
well by allowing you to remotely start the start-up disc,

00:06:15.060 --> 00:06:22.030
being able to restart or shut down, asleep/awake
machines or be able to power on Intel X serves

00:06:22.029 --> 00:06:23.649
that configure with lights-out management.

00:06:23.649 --> 00:06:28.699
Now one of the most of the most powerful features, one
of the most powerful remote administration features

00:06:28.699 --> 00:06:31.729
on the Remote Desktop is the Sun UNIX command.

00:06:31.730 --> 00:06:37.900
This gives you access to a wealth of command line utilities
for which there is no graphical user interface equivalent,

00:06:37.899 --> 00:06:45.129
and Remote Desktop has over 40 presets
for these types of command line utilities

00:06:45.129 --> 00:06:47.969
that are very useful for remote administration

00:06:53.110 --> 00:07:03.670
So far, we talked about the tasks you perform on
the computers that you have in your organization,

00:07:03.670 --> 00:07:09.870
but in most organizations, computers have
users, and users need assistance as well.

00:07:09.870 --> 00:07:14.730
And it is very convenient to be
able to take a look at the screen--

00:07:14.730 --> 00:07:19.590
a user screen when you are helping them resolve a
problem, because it significantly cuts down on the amount

00:07:19.589 --> 00:07:22.069
of time you need to spend resolving that problem.

00:07:22.069 --> 00:07:25.379
And Remote Desktop also has capabilities
to let you do this as well,

00:07:25.379 --> 00:07:32.379
by letting you remotely control another user's screen
or just observe it, or observe many screens at once.

00:07:32.379 --> 00:07:37.899
Now you can also drag and drop
files between your desktop machine

00:07:37.899 --> 00:07:41.659
and the Remote Desktop-- the remote computer screen as well.

00:07:41.660 --> 00:07:47.270
For instance, if you have a log file from console that you
want to bring back to your machine in order to analyze later

00:07:47.269 --> 00:07:48.959
on when that person's machine is not around.

00:07:48.959 --> 00:07:59.389
So as any good system administrator knows, the key to
their success is the ability to automate and write scripts

00:07:59.389 --> 00:08:02.169
for tasks that they perform on a routine basis.

00:08:02.170 --> 00:08:09.090
That is why Remote Desktop has a rich AppleScript
dictionary and over 30 automated actions,

00:08:09.089 --> 00:08:13.539
as well as you can also create your own automated
actions to increase your productivity even further.

00:08:13.540 --> 00:08:21.720
So far, I have talked about how powerful a Remote Desktop
is, but we have also worked very hard to make it easy to set

00:08:21.720 --> 00:08:25.440
up and configure a Mac, so you can begin managing them.

00:08:25.439 --> 00:08:31.420
Remote Desktop has the ability to let you find the
computers in your organization very quickly and add them

00:08:31.420 --> 00:08:34.399
into the administration console
so you can start managing them.

00:08:34.399 --> 00:08:36.279
You can start organizing them into lists.

00:08:36.279 --> 00:08:39.689
You can even create smart lists, so
you can filter what machines show

00:08:39.690 --> 00:08:42.670
up on those lists based on criteria that you specify.

00:08:42.669 --> 00:08:47.620
You can create save tasks for routines that
you perform regularly on a set of machines.

00:08:47.620 --> 00:08:51.269
You can organize these lists and
these save tasks as different groups.

00:08:51.269 --> 00:08:56.259
And you can also centralize the administration
of the usernames and passwords that you use

00:08:56.259 --> 00:09:00.039
for managing this system by using
directory based authentication.

00:09:00.039 --> 00:09:03.779
So now I would like to spend a few minutes giving you a demo

00:09:03.779 --> 00:09:07.220
of how you can use Remote Desktop
in a couple different scenarios.

00:09:07.220 --> 00:09:15.389
And my first scenario is going to be sort of a teacher
scenario in which I am going to distribute a file

00:09:15.389 --> 00:09:23.009
out to a set of machines, have my students work on
those files, get that file back and then clear it out,

00:09:23.009 --> 00:09:27.139
and get the machines set up for the next class.

00:09:27.139 --> 00:09:33.610
So I have gone ahead and set up a group called member
class tasks here, which has a set of tasks that I am going

00:09:33.610 --> 00:09:37.340
to be performing on a regular basis
whenever I teach this class.

00:09:37.340 --> 00:09:40.560
And here is sort of the set of machines that I have got.

00:09:40.559 --> 00:09:43.839
I have created this list with all the
machines that are going to be in this class.

00:09:43.840 --> 00:09:46.810
One of the first things I do when my students
come in is, I want to lock all of the screens,

00:09:46.809 --> 00:09:48.449
because I don't want them fussing around with them.

00:09:48.450 --> 00:09:51.390
I just want them focused on what I am talking about.

00:09:51.389 --> 00:09:58.100
So I go ahead and do this, and for those of you who can
see the machines up here, you can see that they are locked.

00:09:58.100 --> 00:10:03.019
Now the next thing I want to do, I am going to be teaching
a class in numbers, so I have got an example spreadsheet

00:10:03.019 --> 00:10:07.889
that I am going to be sending out to those machines,
and I have set a task up here that is going to--

00:10:07.889 --> 00:10:09.960
I will go ahead and show you the task up here.

00:10:09.960 --> 00:10:16.500
It has got this copy of the personal budget example, and it
is going to copy it to the desktop of all of these machines,

00:10:16.500 --> 00:10:19.570
and then I set it to automatically open as well.

00:10:19.570 --> 00:10:27.220
So I am going to go ahead and execute that command, and
now I want to make sure that is actually getting opened

00:10:27.220 --> 00:10:34.019
up on those machines, so there I can see that
the example is open up on all the machines.

00:10:34.019 --> 00:10:35.679
So that looks good.

00:10:35.679 --> 00:10:40.089
So now I have talked a little bit about what I
want the class to do, and I am going to go ahead

00:10:40.090 --> 00:10:49.009
and unlock the screens and now they all have access to
that stuff, so once the class is over, I want to go ahead

00:10:49.009 --> 00:10:52.629
and collect all of the work that everyone has been doing.

00:10:52.629 --> 00:10:57.629
So once again, I am going to go ahead-- well I would at
this point probably log off the screen in order to keep them

00:10:57.629 --> 00:11:01.850
from continuing to do stuff, and then I would
quit the application, which I am going to do here.

00:11:01.850 --> 00:11:07.139
I have created a UNIX command to go ahead and
quit it, and I am going to just show you here

00:11:07.139 --> 00:11:10.620
so you can see how this is going to work.

00:11:10.620 --> 00:11:14.279
Now that, boom!

00:11:14.279 --> 00:11:19.220
all the applications quit, now I am going to grab
that file that they have been working on each

00:11:19.220 --> 00:11:21.470
of their desktops and bring it back to my machine.

00:11:21.470 --> 00:11:31.850
The easiest way for me to do this is just to find them
all with the Spotlight, push budget example, boom!

00:11:31.850 --> 00:11:39.940
give it a second to find them, OK, select
them all, and say Copy to this computer.

00:11:39.940 --> 00:11:47.020
And I am going to go ahead and
specify attach here on my desktop.

00:11:47.019 --> 00:11:56.000
I have got a members class student folder here
and what I want to do is rename each of the items

00:11:56.000 --> 00:11:57.960
as they come in so they have all got unique names.

00:11:57.960 --> 00:12:06.560
So that happened very quickly, but here
you can see all these items were copied,

00:12:06.559 --> 00:12:11.329
and if I go check out on my desktop
here, I have got all those files.

00:12:11.330 --> 00:12:16.030
Now that we are done with that stuff, I am
going to select them all and delete them, boom!

00:12:16.029 --> 00:12:20.110
like that they are gone, Spotlight
updates, you can even see--

00:12:20.110 --> 00:12:23.539
take a closer look at one of the machines
here, you can see it is off the desktop.

00:12:23.539 --> 00:12:30.469
So that is what I would do in order to get my files out
to the classroom, keep people from using the machines

00:12:30.470 --> 00:12:37.769
when I want their attention focused on me, and then get
the results of their work back onto my computer station.

00:12:37.769 --> 00:12:47.539
So my next scenario is more of a system administrator
scenario, and I have got a user who said they had a problem

00:12:47.539 --> 00:12:53.849
with one of their-- with being able to open a
document that someone gave to me and they said,

00:12:53.850 --> 00:12:57.810
Oh I can't open a numbers document someone gave to
me, I don't have the correct version, can you help?

00:12:57.809 --> 00:13:09.349
OK, so one of the first things that I am going to do
is, let's see here, I think it was this machine here,

00:13:09.350 --> 00:13:17.610
is go ahead and run a software difference report-- or sorry,
a separate version report on this system and then compare it

00:13:17.610 --> 00:13:27.779
to the copy of numbers that I have got
on my machine, and I see, Yes indeed,

00:13:27.779 --> 00:13:34.360
his remote version is 1.01 and my version is 2.0.2.

00:13:34.360 --> 00:13:42.009
So to resolve that, I am going to do
an install package on that machine.

00:13:42.009 --> 00:13:50.379
[ Installing computer package ]

00:13:50.379 --> 00:13:55.919
And I have got a folder with my current
installers and I have my iWork installer here.

00:13:55.919 --> 00:14:00.620
In this case, I am going to select running
this operation from my Task Server.

00:14:00.620 --> 00:14:06.639
In this case, my Task Server happens to be the same as my
administrator computer, but I could also have a remote one.

00:14:06.639 --> 00:14:11.360
the reason that I want to use my Task Server
for my install is because for one thing,

00:14:11.360 --> 00:14:14.759
my administrator machine may be off, in which
case I would definitely use the remote one,

00:14:14.759 --> 00:14:16.830
but also in case Tim's machine goes off.

00:14:16.830 --> 00:14:18.840
He may have a laptop, he may close it and go away.

00:14:18.840 --> 00:14:24.889
I want to make sure that this installation eventually
succeeds, and the Task Server is going to keep trying to do

00:14:24.889 --> 00:14:30.850
that install until it finally succeeds, so I
am going to go ahead and get this going here.

00:14:30.850 --> 00:14:38.810
So in the background here, you see that
my machine is, as the progress indicates,

00:14:38.809 --> 00:14:41.869
is sending the package over to the Task Server.

00:14:41.870 --> 00:14:47.029
After it gets over the Task Server, it is going to contact
Tim's machine, and it is going to go ahead and update it.

00:14:47.029 --> 00:14:50.740
So I am not going to sit here and
wait while that is happening,

00:14:50.740 --> 00:14:53.080
we are going to move on and take a look at something else.

00:14:53.080 --> 00:14:59.100
So one of the other things I may do as a systems
administrator on a semi-regular basis is take a look

00:14:59.100 --> 00:15:02.220
at the software that is installed
in the machines in my organization

00:15:02.220 --> 00:15:06.889
to make sure there isn't anything installed
out there that we are not licensed for.

00:15:06.889 --> 00:15:13.059
So I am going to go ahead and select
all of these machines, and this time,

00:15:13.059 --> 00:15:15.769
I am going to run a software difference report.

00:15:15.769 --> 00:15:21.100
I have got in my applications folder the
software that I know we are licensed for.

00:15:21.100 --> 00:15:31.710
So by comparing their machines to mine, I am
going to be able to pretty quickly determine

00:15:31.710 --> 00:15:36.889
if someone has got something installed in their applications
folder that doesn't belong there, because I want-

00:15:36.889 --> 00:15:43.600
I am going to go ahead and sort this stuff by path
and then by the difference, which is going to tell me

00:15:43.600 --> 00:15:48.409
in this case extra, extra means things that are installed
on someone else's machine that aren't installed on mine.

00:15:48.409 --> 00:15:50.679
Now in my case, I happen to have a Snow
Leopard machine and these are Leopard machines,

00:15:50.679 --> 00:15:56.039
so there are going to be some differences.

00:15:56.039 --> 00:15:59.759
And in this case, I know this is quite a few applications.

00:15:59.759 --> 00:16:02.750
Actually, it is all the machines
that are not installed on mine,

00:16:02.750 --> 00:16:07.289
and there was one thing in particular
that I knew was out there.

00:16:07.289 --> 00:16:12.000
I guess I must have picked some machines
that have more stuff than I was expecting.

00:16:12.000 --> 00:16:17.519
But in this case, let's say you know this
ODC app isn't supposed to be out there.

00:16:17.519 --> 00:16:25.110
I can go ahead and select it here, and I can say
delete selected like that, and then we would go ahead

00:16:25.110 --> 00:16:31.320
and come back here, and we can see on these machines,
on Tim's Mac for instance, those items were deleted

00:16:31.320 --> 00:16:34.860
on the other machines, they weren't there.

00:16:34.860 --> 00:16:47.269
So as a demo, how you can use this thing in both kinds of
a teacher situation and as a system administrator example.

00:16:47.269 --> 00:16:54.649
So the current version that we have right now is Apple
Remote Desktop 3.2, and it came out October of 2007.

00:16:54.649 --> 00:17:02.090
It included Leopard compatibility, some more improvements
for screen sharing performance, also a lot more--

00:17:02.090 --> 00:17:06.059
better keyboard support and improved file copy reliability.

00:17:06.059 --> 00:17:10.769
So what we have been working on recently is
an update to Remote Desktop, version 3.3,

00:17:10.769 --> 00:17:13.869
and it has actually got quite a
number of enhancements in them.

00:17:13.869 --> 00:17:18.659
We changed how or we added managed client
settings, which I am going to bring someone

00:17:18.660 --> 00:17:20.800
up here very shortly that is going to talk about that stuff.

00:17:20.799 --> 00:17:27.519
We have added support for NAT networks, quite a bit of
support for that, also support of wide area Bonjour support.

00:17:27.519 --> 00:17:29.160
We will go into that some more.

00:17:29.160 --> 00:17:36.070
We have added new Task Server-- new scanner types,
both Task Server ones where all of your administrators

00:17:36.069 --> 00:17:40.240
that share your single Task Server will see all of
the machines that other administrators have adds.

00:17:40.240 --> 00:17:43.259
So it can act sort of as sort of a
central pool, [applause] so you don't have

00:17:43.259 --> 00:17:47.069
to have everyone go out and find these machines, OK.

00:17:47.069 --> 00:17:51.819
The other thing we added was this DirectoryService
scanner, which is kind of a filtering mechanism

00:17:51.819 --> 00:17:57.289
on your Task Server scanner wherein if your administrator
is bound to a directory server, all those computer groups

00:17:57.289 --> 00:18:01.399
that you have set up with Workgroup Manager, and you have
organized your computers in them that can act as filters

00:18:01.400 --> 00:18:04.190
and you will be able to see each
of your computer groups as they pop

00:18:04.190 --> 00:18:07.029
up in the scanner, so you can create these scanners and...

00:18:07.029 --> 00:18:08.180
[ Applause ]

00:18:08.180 --> 00:18:11.390
...make it very easy for people who
only need to see a filtered set.

00:18:11.390 --> 00:18:18.200
And when you combine that with some of the stuff we have
done with managed settings, you are going to be able

00:18:18.200 --> 00:18:23.710
to deploy-- it is much easier to deploy Remote Desktop
across your organization and give people just the kind

00:18:23.710 --> 00:18:26.450
of access that they need once you get 3.3.

00:18:26.450 --> 00:18:30.970
We have also added some enhancements
on how our reporting works.

00:18:30.970 --> 00:18:37.450
Now we just have a single cache policy on a client, rather
than each administrator creating their own cache policies,

00:18:37.450 --> 00:18:43.049
and you end up with like 5 of these things, every time
someone adds a machine, they end up with another cache.

00:18:43.049 --> 00:18:47.059
We have a single one that all administrators
see, all of them can edit it,

00:18:47.059 --> 00:18:53.169
and no longer when an administrator adds a machine do they
force their default cache report if one is already set.

00:18:53.170 --> 00:18:57.539
So it is only if a machine doesn't have one that
your default one applies, so this is really going

00:18:57.539 --> 00:19:03.579
to improve your ability to manage how report caches
are built on your clients and being able to reset

00:19:03.579 --> 00:19:06.819
if they are not in the state you want them to be in.

00:19:06.819 --> 00:19:10.049
We have added some additional Automator workflows.

00:19:10.049 --> 00:19:15.200
We have added services support, Snow Leopard
Services support to the Remote Desktop,

00:19:15.200 --> 00:19:19.610
a very cool addition of which we are going
to see a demo of later and as with 3.2,

00:19:19.609 --> 00:19:23.519
shipping with Leopard 3.3 is going
to ship with Snow Leopard.

00:19:23.519 --> 00:19:31.509
So I would like to hand things over to Brian Ganninger for
a little bit, who is going to talk about things you want

00:19:31.509 --> 00:19:35.589
to consider in configuring both your
administrator and your client when you are going

00:19:35.589 --> 00:19:37.970
to be deploying them in your organization.

00:19:37.970 --> 00:19:43.130
>> Thanks Mark, as an administrator it pays to plan
ahead when you are making configuration changes.

00:19:43.130 --> 00:19:48.550
That way you can centralize as much information
as possible to simplify future maintenance.

00:19:48.549 --> 00:19:52.019
When you are deploying your Remote Desktop, there
are three components you will want to keep in mind.

00:19:52.019 --> 00:19:58.019
As your administrator console, which is your primary
workstation, the clients you will be managing,

00:19:58.019 --> 00:20:03.930
and your Task Server, which is the designated
intermediary for delegated tasks and reporting info.

00:20:03.930 --> 00:20:08.680
As you are preparing your deployment checklist,
here are some questions you will want to consider.

00:20:08.680 --> 00:20:12.070
Do you want to use a common Task Server?

00:20:12.069 --> 00:20:17.169
That way all of your administrator consoles share
the same reporting data and client information.

00:20:17.170 --> 00:20:23.840
Do you want to use a common default
reporting policy for your admin consoles?

00:20:23.839 --> 00:20:27.209
Or is it OK if they all have their own custom ones?

00:20:27.210 --> 00:20:31.299
Would you like to force a common
reporting policy for all your clients?

00:20:31.299 --> 00:20:36.319
And once you have done that, Would it
be beneficial to go ahead and restrict

00:20:36.319 --> 00:20:41.069
where that reporting data is actually being
sent back by setting a Task Server white list?

00:20:41.069 --> 00:20:46.730
If your administrator consoles are used in pre-configured
environments where scanners aren't really necessary,

00:20:46.730 --> 00:20:51.390
you can go ahead and disable these
by limiting the scanner types.

00:20:51.390 --> 00:20:56.970
And you also want to ask, Do I want
to use additional security settings

00:20:56.970 --> 00:21:00.220
when I am performing tasks with a Remote Desktop?

00:21:00.220 --> 00:21:05.519
You could go out and configure each of your
administrator consoles and client computers individually,

00:21:05.519 --> 00:21:10.650
but this can be tedious and error prone, and
as you can imagine doesn't scale very well.

00:21:10.650 --> 00:21:14.350
To make this easier, you can go
ahead and use managed preferences.

00:21:14.349 --> 00:21:19.829
For those who aren't necessarily familiar with this
technology, I will go ahead and provide a brief overview.

00:21:21.109 --> 00:21:25.719
Typically, your clients are all individually
configured, each with their own preferences,

00:21:25.720 --> 00:21:32.269
but instead with managed preferences, we will go ahead
and use your administrator console and Workgroup Manager

00:21:32.269 --> 00:21:36.369
to configure your preferences, which
are then saved to your directory server.

00:21:36.369 --> 00:21:42.649
Once your clients bind to the directory
server, the next time they log in,

00:21:42.650 --> 00:21:45.930
they will go ahead and pick up their new preferences.

00:21:45.930 --> 00:21:50.529
In addition, once you make changes
and the next time they log on,

00:21:50.529 --> 00:21:52.889
they will go ahead and pick up your edited preferences.

00:21:52.890 --> 00:21:56.600
You no longer have to go to each of these clients by hand.

00:21:56.599 --> 00:22:02.250
In addition, users can't inadvertently make
changes and neither can other administrators.

00:22:02.250 --> 00:22:05.480
It only can be edited in your directory server.

00:22:07.230 --> 00:22:13.259
The utility you will be using is Workgroup Manager, which
makes it much easier to edit these preferences instead

00:22:13.259 --> 00:22:15.450
of going into the raw directory server itself,

00:22:15.450 --> 00:22:21.610
but now you are probably wondering what preferences
can I actually manage for a Remote Desktop though?

00:22:21.609 --> 00:22:26.619
So I will go ahead and show you.

00:22:26.619 --> 00:22:31.289
Essentially, what I am trying to say is, all of
your administrative preferences are manageable.

00:22:31.289 --> 00:22:32.670
[ Applause ]

00:22:32.670 --> 00:22:34.680
Thank you.

00:22:36.329 --> 00:22:41.689
The only exceptions to this are your serial
number and your Remote Desktop password.

00:22:41.690 --> 00:22:47.440
For clients, you are able to manage their reporting
policy, which is responsible for the categories

00:22:47.440 --> 00:22:53.140
that generate those caches, as well as the
schedule when these are actually collected.

00:22:53.140 --> 00:22:55.340
In addition, you can also set the Task Server white list,

00:22:55.339 --> 00:23:00.720
and then the reports will only be sent
back to the Task Servers that are allowed.

00:23:03.269 --> 00:23:07.009
The report categories are responsible for the report caches.

00:23:07.009 --> 00:23:10.640
There are four of these that are
responsible for the 12 reports you will find

00:23:10.640 --> 00:23:14.220
in Remote Desktop, and they break down like this.

00:23:14.220 --> 00:23:18.730
The first is the system profile, which
provides data for the reports you see listed.

00:23:18.730 --> 00:23:26.190
There is also the file system cache, the
application usage cache and user history.

00:23:26.190 --> 00:23:29.799
You will want to keep in mind that whenever
you want to run one of these reports,

00:23:29.799 --> 00:23:36.779
you will need to have a report cache there, so you must make
sure that you configured your reporting policy to generate

00:23:36.779 --> 00:23:43.559
that cache in particular, and that you have set a day or
days of the week, as well as the time to generate that.

00:23:43.559 --> 00:23:48.720
Once you have a complete reporting policy-and that is
going to apply to your clients, you are good to go.

00:23:48.720 --> 00:23:52.700
Now let's go ahead and take a look at how this
all works by restricting our administrator console

00:23:52.700 --> 00:23:58.630
so we are not using some of our more network
intensive scanners at the WWDC, also go ahead,

00:23:58.630 --> 00:24:03.020
and set up a reporting policy for our clients in the rack.

00:24:06.650 --> 00:24:08.800
I will go ahead and enter Workgroup Manager.

00:24:08.799 --> 00:24:13.419
As you can see I have a computer group already set up.

00:24:13.420 --> 00:24:19.690
I will go ahead and go to the managed preferences,
and this contains my administrator computer.

00:24:19.690 --> 00:24:27.700
I will add Remote Desktop, and you can
see now we have our preference manifests,

00:24:27.700 --> 00:24:30.840
which contain the individual preferences.

00:24:30.839 --> 00:24:34.929
Since the restricted features are
applied to the entire machine,

00:24:34.930 --> 00:24:39.830
I want to edit the com.apple.RemoteDesktop preferences.

00:24:39.829 --> 00:24:45.500
I will go here and since I always want that
to be present, I will go ahead and add those,

00:24:45.500 --> 00:24:47.829
and we will just add the restricted features.

00:24:47.829 --> 00:24:56.949
You will see these aren't necessarily the most intuitive
in the list [laughter], so you will want to refer

00:24:56.950 --> 00:25:00.370
to the description down here to make life a little simpler.

00:25:00.369 --> 00:25:05.909
We will go ahead and disable the Bonjour
scanner and the local network scanner

00:25:05.910 --> 00:25:08.150
and the Task Server scanner is also disabled.

00:25:08.150 --> 00:25:11.360
We will go ahead and apply that.

00:25:11.359 --> 00:25:15.759
Normally restricted features are only applied
to non-administrators, but I want to make sure

00:25:15.759 --> 00:25:19.819
that no scanners are present causing
too much chatter on my network.

00:25:19.819 --> 00:25:23.689
I will do this by editing a user
group for my administrators,

00:25:23.690 --> 00:25:28.529
and I will go ahead and set the key there to restrict that.

00:25:28.529 --> 00:25:30.869
There we go.

00:25:30.869 --> 00:25:39.489
I will go ahead and make sure this all worked
by logging in as one of our directory users.

00:25:45.250 --> 00:25:54.819
We will launch Remote Desktop, and as you can see in the
security settings, we have disabled the appropriate scanners

00:25:54.819 --> 00:26:02.009
and when we are in the scanner, only
the ones that are supported show up.

00:26:02.009 --> 00:26:05.990
[ Applause ]

00:26:05.990 --> 00:26:11.009
We will go ahead and switch back, and now
we'll set a reporting policy for our clients.

00:26:11.009 --> 00:26:19.000
[ Silence ]

00:26:19.000 --> 00:26:25.710
I will launch Workgroup Manager again, and
this time I want to set a reporting policy

00:26:25.710 --> 00:26:27.420
for the computers that are in my legal group.

00:26:27.420 --> 00:26:31.560
We want to make sure they all have this
reporting data on them, just so we can keep tabs.

00:26:33.089 --> 00:26:38.579
I have already got our preference manifests, and
since the reporting policy is part of the agent,

00:26:38.579 --> 00:26:40.529
we will go ahead and edit those preferences.

00:26:40.529 --> 00:26:53.629
I will add the reporting policy, and then inside of this, we
need to make sure we have the report types, so we set those,

00:26:53.630 --> 00:26:56.450
again the description field is our friend.

00:26:56.450 --> 00:27:00.059
We will go ahead and add the report
type, the first one, system info,

00:27:00.059 --> 00:27:04.809
and then just for fun, we will also add the software info.

00:27:06.150 --> 00:27:09.850
Actually, I don't need any more report cache types.

00:27:09.849 --> 00:27:16.439
Now we will go ahead and set our days of the week,
let's just go ahead and set this to run tomorrow,

00:27:16.440 --> 00:27:19.750
and I will just go with the default time of 12 a.m.,

00:27:19.750 --> 00:27:23.799
because I am pretty sure no one will
be using these computers at that point.

00:27:23.799 --> 00:27:31.329
Let's see, there we go, now I have a valid
reporting policy, and all of the computers that are

00:27:31.329 --> 00:27:38.109
in my legal group will go ahead and
pick that up the next time they log in.

00:27:38.109 --> 00:27:39.389
There we go.

00:27:39.390 --> 00:27:46.330
We have looked at how you can go ahead and configure these
in a central location, but really, you can also manage these

00:27:46.329 --> 00:27:51.379
by hand or actually not manage, you will
edit them by hand, so now we will take a look

00:27:51.380 --> 00:27:54.270
at how you can configure these
client settings in Remote Desktop.

00:27:54.269 --> 00:28:02.829
You will want to come back and review, as you can tell,
the reporting policy, because it is incredibly important

00:28:02.829 --> 00:28:05.319
to make sure we are receiving up to date data.

00:28:05.319 --> 00:28:11.189
You will want to see who set that policy and when
did they last set it, and once you know that

00:28:11.190 --> 00:28:14.779
you may want to know which administrators
are actually receiving that reporting data.

00:28:14.779 --> 00:28:17.740
That way you can remove anyone who
shouldn't, or computers that are out of date.

00:28:17.740 --> 00:28:23.599
When you hit Command-i, you will go ahead and
be created by a rather familiar looking window.

00:28:23.599 --> 00:28:30.559
It starts with the attributes tab, which shows connection
details including the address that you know the computer by

00:28:30.559 --> 00:28:34.109
and the ports that you connect to it, and
this is how you configure port forwarding.

00:28:34.109 --> 00:28:41.139
There is the authentication section where you enter
your credentials that you use to connect to that machine

00:28:41.140 --> 00:28:47.420
and for machines unsupported, such as X serves, you can
edit the lights out management configuration here as well.

00:28:47.420 --> 00:28:51.140
On the reporting tab, we can see the
reporting policy that we have set,

00:28:51.140 --> 00:28:53.850
as well as who modified it and when they did so.

00:28:53.849 --> 00:29:00.699
On the administrators tab, we see the administrator
consoles that are receiving our reporting data,

00:29:00.700 --> 00:29:04.250
we can tell whether they are online
or not right now and we can see

00:29:04.250 --> 00:29:08.829
which Task Server they are associated
with to receive their reporting data.

00:29:08.829 --> 00:29:14.750
The reporting policy you are viewing for that
client is, as we have been stressing, singular,

00:29:14.750 --> 00:29:17.119
there is only one policy for that client.

00:29:17.119 --> 00:29:19.829
All administrators are viewing and editing the same policy.

00:29:19.829 --> 00:29:24.879
Again it controls the reporting
policies that are responsible

00:29:24.880 --> 00:29:29.860
for those support caches, and then
there is also the schedule.

00:29:29.859 --> 00:29:36.719
If you set a blank policy, this will disable reporting on
that client, and if you remove all of the administrators

00:29:36.720 --> 00:29:42.009
so that no one is interested anymore, it is
not going to generate reports anymore either.

00:29:42.009 --> 00:29:47.480
If you have more than one computer selected,
you will see this also familiar window,

00:29:47.480 --> 00:29:50.079
which again starts with the attributes tab.

00:29:50.079 --> 00:29:55.349
You can edit the authentication information,
this time for all of the selected clients,

00:29:55.349 --> 00:30:00.230
and for machines that support it, again you can
edit the lights out management configuration.

00:30:00.230 --> 00:30:08.370
On the reporting tab, you will see that
we have a union of the reporting policies.

00:30:08.369 --> 00:30:13.519
In this particular case, each of the clients that
I had selected had different reporting policies.

00:30:13.519 --> 00:30:19.529
And in this case all of the fields were used,
so we actually see a mixed state for all

00:30:19.529 --> 00:30:22.869
of the checked boxes and then multiple values for the time.

00:30:22.869 --> 00:30:28.089
On the administrators tab, we see a
union of the administrator consoles,

00:30:28.089 --> 00:30:32.740
so that we see all of the administrators
responsible for all the clients that we had selected.

00:30:32.740 --> 00:30:37.920
If you are unsure which clients are actually
sending reporting data to a given administrator,

00:30:37.920 --> 00:30:45.279
you can click the details button and see which
of those clients are sending data right there.

00:30:45.279 --> 00:30:49.829
If someone doesn't belong, you can go ahead and hit the
minus button and move them from the list, no problem.

00:30:49.829 --> 00:30:53.089
They won't receive reporting data until the
next time they check in with that client.

00:30:53.089 --> 00:30:58.029
Now let's go ahead and take a look
at how this works by reviewing some

00:30:58.029 --> 00:30:59.940
of our reporting settings that we set earlier.

00:30:59.940 --> 00:31:08.250
I will go ahead and launch Remote Desktop, and
here pretty sure Matlock is in our Legal Group,

00:31:08.250 --> 00:31:13.630
so I am going to go ahead and take a look
at his reporting data, and as you can see,

00:31:13.630 --> 00:31:17.820
it indicates that it is a managed
setting, set by management administrator.

00:31:17.819 --> 00:31:20.899
It is set to report on Friday at 12 a.m., and it is going

00:31:20.900 --> 00:31:25.860
to be generating my system profile and
file system caches, like I expected.

00:31:25.859 --> 00:31:28.949
Since it is from the directory server
and it is a managed preference,

00:31:28.950 --> 00:31:33.750
I can't edit this here, it can only be done on the server.

00:31:33.750 --> 00:31:38.769
And now I want to make sure that finance has
an appropriate policy, but I don't want to set

00:31:38.769 --> 00:31:42.420
that in the directory server, so I will
just select my three computers here,

00:31:42.420 --> 00:31:45.900
get my access on those, and I will check it out.

00:31:45.900 --> 00:31:50.810
They don't have the proper reporting policy,
so I will just go ahead and edit them.

00:31:50.809 --> 00:31:53.159
We will select the right ones.

00:31:53.160 --> 00:31:58.580
As you can see, it warned me that I don't have the right
policy set yet, so I want to go ahead and correct that,

00:31:58.579 --> 00:32:01.639
so I am all set Friday and we are good to go.

00:32:01.640 --> 00:32:08.150
Just out of curiosity, what administrators are going
to see this, hmmm, my laptop shouldn't be here.

00:32:08.150 --> 00:32:12.019
I will go ahead and take him out
of the list, and we are done.

00:32:12.019 --> 00:32:19.099
And that is how you can review client settings in Remote
Desktop and keep tabs on what is going on with your clients.

00:32:19.099 --> 00:32:22.009
Now I am going to go ahead and hand you over
to Doug Richardson, who is going to talk to you

00:32:22.009 --> 00:32:29.220
about discovering those clients and how you can add them.

00:32:29.220 --> 00:32:30.039
[ Applause ]

00:32:30.039 --> 00:32:35.259
>> Thanks Brian, as a systems administrator running Remote
Desktop, one of the first things you are going to want

00:32:35.259 --> 00:32:39.279
to do is find and add clients to your
computer library so you can manage them.

00:32:39.279 --> 00:32:44.049
And Apple Remote Desktop has various scanners
that can help you accomplish this task.

00:32:44.049 --> 00:32:47.359
I am going to talk about which scanner
is best in different situations,

00:32:47.359 --> 00:32:52.049
so that you can figure out the most
efficient way to find your computers.

00:32:52.049 --> 00:32:57.450
Which scanner you use depends on the following
factors, one is your network topology, that is,

00:32:57.450 --> 00:33:03.690
are you scanning computers in a single sub-net, in multiple
sub-nets, or even multiple sub-nets with NAT routers?

00:33:03.690 --> 00:33:09.830
Another thing you can take advantage of in Apple
Remote Desktop 3.3 is the Task Server scanner,

00:33:09.829 --> 00:33:15.259
so if you have multiple administrators, and
remote Task Server, you can use that scanner.

00:33:15.259 --> 00:33:19.660
If you define computer groups in a directory server,
you can take advantage of the directory server scanner

00:33:19.660 --> 00:33:22.490
to filter the results from the Task Server scanner.

00:33:22.490 --> 00:33:25.380
First let's look at the single subnet case.

00:33:25.380 --> 00:33:30.210
In this example, we have four network
devices connected to a common switch.

00:33:30.210 --> 00:33:36.120
Normally what you want to find are NAT clients running
remote management or remote management enabled.

00:33:36.119 --> 00:33:41.129
The easiest way to do that is to use the Bonjour
scanner; however, if you want to find other computers

00:33:41.130 --> 00:33:45.740
that are running for instance, a PC
running a third party DNC server,

00:33:45.740 --> 00:33:48.960
then you can expand your search
using the local network scanner.

00:33:48.960 --> 00:33:57.079
The local network scanner also returns other
network devices, anything that responds to a ping.

00:33:57.079 --> 00:34:01.199
If you want to target a range of IP addresses,
then you can use the network range scanner.

00:34:01.200 --> 00:34:06.990
Again, this one will return a result for any device
that responds to ping in this given address range.

00:34:06.990 --> 00:34:10.400
If you want to create an ad hoc list of
addresses that aren't necessarily in a range,

00:34:10.400 --> 00:34:14.059
then you can use the network address
scanner to add them one at a time.

00:34:14.059 --> 00:34:21.289
If you have them filed as a list of IP addresses, then
you can use the file import scanner to import those.

00:34:21.289 --> 00:34:28.550
And the file format for the file scanner is a list
of IP addresses one line at a time, or one at a time,

00:34:28.550 --> 00:34:31.840
or IP address ranges, or fully qualified domain names.

00:34:31.840 --> 00:34:35.420
And in this example, I have also
included an IP address of the device

00:34:35.420 --> 00:34:38.940
that is not currently connected to the network at 10.01.10.

00:34:38.940 --> 00:34:43.380
And you can add addresses that are not currently connected
to the network with the network address scanner as well.

00:34:43.380 --> 00:34:49.990
Now let's look at multiple subnets,
again the Bonjour scanner finds clients

00:34:49.989 --> 00:34:53.250
that are remote management enabled
in the remote subnet only.

00:34:53.250 --> 00:34:58.070
And the local network scanner finds all
devices, but still only in your local subnet.

00:34:58.070 --> 00:35:02.380
If you want to find computers that are
in other networks or in other subnets,

00:35:02.380 --> 00:35:07.130
you need to use one of the other three scanners, so
here is an example of using the network range scanner

00:35:07.130 --> 00:35:14.829
to find any device in your entire
network that responds to a ping.

00:35:14.829 --> 00:35:19.340
Here is an example of using a network
address scanner to enter in an IP address

00:35:19.340 --> 00:35:22.539
of a computer outside of your local subnet.

00:35:22.539 --> 00:35:27.519
And likewise you can use the file import
scanner to accomplish the same thing.

00:35:27.519 --> 00:35:30.750
Now let's look at multiple subnets with NAT routers.

00:35:30.750 --> 00:35:35.260
The main thing to keep in mind here is, you
are not going to be able to see the clients

00:35:35.260 --> 00:35:40.570
in the NAT routers private network until you
have configured port for it in the NAT router.

00:35:40.570 --> 00:35:45.519
So there are two ports to keep in mind with Remote
Desktop, there is the remote management port,

00:35:45.519 --> 00:35:52.980
which runs on UDP port 3283, and there
is the screen port that runs on TCP 5900.

00:35:52.980 --> 00:35:57.230
So to keep it simple, I am only going to
show you mapping the remote management port.

00:35:57.230 --> 00:36:08.219
And what I have done is mapped port 13283 to
client 192.1.1.20 and 13284 to client 192.1.1.21.

00:36:08.219 --> 00:36:11.899
Now when you want to add these clients to your
Remote Desktop so you can start managing them,

00:36:11.900 --> 00:36:15.490
you can't use any of the scanners,
instead you have to use addByAddress.

00:36:15.489 --> 00:36:21.379
addByAddress takes the IP address, the remote
management port and the screen string report.

00:36:21.380 --> 00:36:26.570
And then the IP address that you want to use
is the IP address of the NAT route'rs LAN port.

00:36:26.570 --> 00:36:35.990
In this case, 10.11.200, so to add client
192.1.1.20, we are going to add address 10.11.200

00:36:35.989 --> 00:36:40.529
and port 13283, which is the one I mapped to it.

00:36:40.530 --> 00:36:46.440
Likewise, if you want to add 192.1.1.21, you
would use the same address, but port 13284.

00:36:46.440 --> 00:36:53.480
Now let's talk about the two new scanners in NAT Remote
Desktop 3.3, the Task Server and directory server scanner.

00:36:53.480 --> 00:37:00.679
So in this example, we have three computers that I
have divided into two groups, finance, and legal.

00:37:00.679 --> 00:37:03.069
Those groups are defined in a directory server.

00:37:03.070 --> 00:37:07.070
We also have two administrators, and they
are both sharing a common Task Server.

00:37:07.070 --> 00:37:12.840
Now let's suppose that administrator one adds all the
computers to its own computer list, entries are also created

00:37:12.840 --> 00:37:17.309
in the Task Server, so that now when
administrator two goes to the Task Server scanner,

00:37:17.309 --> 00:37:19.949
they will also see all of those computers.

00:37:19.949 --> 00:37:25.569
In addition, if administrator two goes to the Task
Server scanner, they will see a list of the two groups.

00:37:25.570 --> 00:37:30.140
If they select finance, what they are going to see
is all the computers in the Task Server scanner

00:37:30.139 --> 00:37:33.650
that also appear in the directory server's finance group.

00:37:33.650 --> 00:37:36.789
If they select legal, they will see
all the computers in the Task Server

00:37:36.789 --> 00:37:39.179
that also appear on the directory server legal group.

00:37:39.179 --> 00:37:42.559
And that wraps up finding and adding clients.

00:37:42.559 --> 00:37:45.989
Mark is going to come back up and tell
you how to stay connected to them now.

00:37:45.989 --> 00:37:49.699
>> OK, so we have seen, how do you want to--

00:37:49.699 --> 00:37:54.529
or things you want to consider when you are configuring
your administrator console, and your client machines

00:37:54.530 --> 00:37:56.070
and you are employing them in your organization.

00:37:56.070 --> 00:37:59.920
And Doug was just showing you how you
can find these machines and add them

00:37:59.920 --> 00:38:04.139
into your Remote Desktop administrator console,
and I am going to talk a little bit about how it is

00:38:04.139 --> 00:38:08.509
on an ongoing basis to make sure you
stay connected to these machines.

00:38:08.510 --> 00:38:13.790
One of the issues that you face trying to
stay connected to any machine is making sure

00:38:13.789 --> 00:38:18.650
that you always know what IP address it is, especially if
it is a laptop and it is moving from one place to another,

00:38:18.650 --> 00:38:22.000
you have a DHCP server and it is always giving you
a different address, so just real quick I am going

00:38:22.000 --> 00:38:26.530
to review how it is that machines end
up changing their client addresses.

00:38:26.530 --> 00:38:34.990
So in this example here, I have one machine down here at
the bottom is 10.0.0.20, when that ma chine goes to sleep,

00:38:34.989 --> 00:38:39.279
its address goes back into the pool of
addresses available in the DHCP server.

00:38:39.280 --> 00:38:45.060
Now I bring my middle machine back online ,and it ends
up getting the address that my previous machine had.

00:38:45.059 --> 00:38:49.079
I bring my last machine online and it gets
an address, a completely different address.

00:38:49.079 --> 00:38:53.349
Now my machines, if I knew them by those other
addresses before, I can't find them right now.

00:38:53.349 --> 00:38:56.719
I am not going to be able to reach them, because
I don't know what their new addresses are.

00:38:56.719 --> 00:39:01.579
Similar situation and maybe a more common one is
when people move around from one building to another

00:39:01.579 --> 00:39:06.219
and you have different access points and both
of these access points serve different networks,

00:39:06.219 --> 00:39:11.099
so I have got a machine here that moves over to another
building, when it comes online, it gets a different address.

00:39:11.099 --> 00:39:15.309
If I was expecting to find its old address,
I am not going to be able to find it now.

00:39:15.309 --> 00:39:19.489
So let's take a look at how it is that
Remote Desktop handles this situation.

00:39:19.489 --> 00:39:27.119
So in the simplest of all cases, everyone is on the
same network, we are all sharing the same switch there.

00:39:27.119 --> 00:39:31.869
When I go ahead and put my machines to sleep--
or put my Remote Desktop administrator to sleep,

00:39:31.869 --> 00:39:35.579
in that case my clients change addresses.

00:39:35.579 --> 00:39:37.519
I have to find their new addresses again, OK.

00:39:37.519 --> 00:39:43.320
So we will go ahead and put those asleep, we will
bring them back online, this time in iMac Two,

00:39:43.320 --> 00:39:49.260
its address changed from 10.0.0.20 to 10.0.0.40.

00:39:49.260 --> 00:39:55.020
iMac Three changes from 10.0.0.30 to 10.0.0.50.

00:39:55.019 --> 00:39:59.250
Now when I bring my Remote Desktop administrator
online, the first thing it is going to do is,

00:39:59.250 --> 00:40:02.920
it is going to start trying to find all of
the machines that are currently in its list.

00:40:02.920 --> 00:40:05.980
So the current status goes to dash dash, which means
it is out searching for these machines on the network.

00:40:05.980 --> 00:40:11.929
Now because all of these machines are on the same
switch, one of the new things we are doing in 3.3 is

00:40:11.929 --> 00:40:15.289
that if Remote Desktop can't find
it by its last known IP address,

00:40:15.289 --> 00:40:18.659
it starts the Bonjour service resolve of the computer name.

00:40:18.659 --> 00:40:23.559
So in this case, because we are all on the same
network, I can find these machines by Bonjour,

00:40:23.559 --> 00:40:26.619
and it updates the addresses and we
get connected, so it is no problem.

00:40:26.619 --> 00:40:29.460
If you are all on the same switch,
most desktops are almost guaranteed

00:40:29.460 --> 00:40:32.730
to find these machines again, even if it changes addresses.

00:40:32.730 --> 00:40:34.820
So a slightly more complicated situation here.

00:40:34.820 --> 00:40:38.390
Now our Remote Desktop administrator
is actually on a different network,

00:40:38.389 --> 00:40:47.839
so once again we put our Remote Desktop administrator to
sleep, put our clients to sleep, bring them back online,

00:40:47.840 --> 00:40:54.350
different IP addresses, admin comes online.It
is not going to know where they were,

00:40:54.349 --> 00:40:57.440
based on those old addresses, they are not there anymore.

00:40:57.440 --> 00:41:02.869
It starts to search for them, but
because Bonjour is not going to go travel

00:41:02.869 --> 00:41:06.509
across a different network, those
two machines are going offline.

00:41:06.510 --> 00:41:09.280
So the question is, How do we make
sure we stay connected to them?

00:41:09.280 --> 00:41:14.380
How do we get informed of those IP
address changes on an ongoing basis?

00:41:14.380 --> 00:41:18.140
So one solution is once again a remote Task Server.

00:41:18.139 --> 00:41:25.379
In addition to being able to use it for delegated package
installs, as well as collecting your report caches,

00:41:25.380 --> 00:41:30.140
the Task Server will also keep track of the IP addresses.

00:41:30.139 --> 00:41:36.239
One of the first things that your clients do when they
wake up or have any type of network state change is

00:41:36.239 --> 00:41:41.539
to contact their Task Server and
essentially inform it of its new address.

00:41:41.539 --> 00:41:46.599
One of the first things the administrator does when it
gets online, before it tries to find these machines is,

00:41:46.599 --> 00:41:51.159
it synchronizes with the Task Server
to get these new addresses.

00:41:51.159 --> 00:41:58.449
So now, I have got the new addresses at .40
and .50, and I am able to find these machines.

00:41:58.449 --> 00:42:01.419
So let's reset things again.

00:42:01.420 --> 00:42:10.139
There is another way we can do this now too, because
we have added support into 3.3 for wide area Bonjour.

00:42:10.139 --> 00:42:16.619
So if you bind your administrator and your
clients all to the same wide area Bonjour server,

00:42:16.619 --> 00:42:21.049
which means that you are registering your addresses in
these machines, the first thing that your clients are going

00:42:21.050 --> 00:42:24.990
to do when they wake up is to align a slide?

00:42:24.989 --> 00:42:25.479
[ Laughter ]

00:42:25.480 --> 00:42:35.650
It is to send a packet to the wide area Bonjour
server and register these new addresses.

00:42:35.650 --> 00:42:40.320
Then your administrator comes online and
the first thing, well it is going to try

00:42:40.320 --> 00:42:43.230
to contact them once again by the last known address.

00:42:43.230 --> 00:42:48.750
It is not going to be able to find it, so it is going to
go ahead and do a resolve again on those computer names.

00:42:48.750 --> 00:42:55.400
It is going to search the local domain name and-- basically
it's default domain, which happens to be in its list,

00:42:55.400 --> 00:42:58.250
because it is also registered with
the wide area Bonjour server.

00:42:58.250 --> 00:43:05.260
In this case it goes and contacts the wide area
Bonjour server, it gets the new updated addresses,

00:43:05.260 --> 00:43:08.470
and then it can find the machines no problem.

00:43:08.469 --> 00:43:17.489
So let's talk a little bit about where you can place
your Task Server, and what kind of implications it has,

00:43:17.489 --> 00:43:21.779
where things can always work and where
things might be a little bit sketchy.

00:43:21.780 --> 00:43:34.410
So in this example, we are all in the same network, and when
my iMac contacts the Task Server to say 17.0.0.30, 3283,

00:43:34.409 --> 00:43:40.139
that is no problem, because the administrator can read the
iMac at that address, the Task Server can reach the iMac

00:43:40.139 --> 00:43:44.339
at that address and port, so we are all good.

00:43:44.340 --> 00:43:50.210
Make it a little more complicated,
Task Server and administrator are

00:43:50.210 --> 00:43:53.929
on the same network, but a different network from your iMac.

00:43:53.929 --> 00:44:10.919
In this case, our iMac is behind a NAT router, so the
first thing, well these slides are not in the right order.

00:44:10.920 --> 00:44:11.180
[ Laughter ]

00:44:11.179 --> 00:44:12.679
Let's see actually, OK.

00:44:12.679 --> 00:44:24.009
So when I added this client to the Task Server, one of the
things I had to do of course is set up a net port mapping

00:44:24.010 --> 00:44:29.850
on my NAT router from the wide area
address to the one behind the network.

00:44:29.849 --> 00:44:37.429
And I add that machine to the task or to the administrator
console using that wide area-- sorry the LAN address.

00:44:37.429 --> 00:44:45.159
When the client connects to the Task Server, it
is going to come across with a different address

00:44:45.159 --> 00:44:49.199
and an ephemeral [phonetic] port mapping essentially,
but the Task Server is smart enough to know

00:44:49.199 --> 00:44:53.869
that is not the port mapping that my administrator console
told me, so I am going to go ahead and ignore that.

00:44:53.869 --> 00:44:57.750
So in this case, even when your machine
is behind a NAT, still no problem,

00:44:57.750 --> 00:45:01.260
the mystery console is going to
be able to contact that machine.

00:45:01.260 --> 00:45:01.820
Yes.

00:45:01.820 --> 00:45:04.260
[ Laughter ]

00:45:04.260 --> 00:45:09.830
Now we are going to see basically
everything I just talked about.

00:45:09.829 --> 00:45:23.319
So yes, I added that machine to the Task Server, I
set up my port mapping from this case 53283 to 3283,

00:45:23.320 --> 00:45:27.050
client comes online, Task Server ignores
that port mapping, because it knows the one

00:45:27.050 --> 00:45:31.010
that the administrator told it is the true one.

00:45:31.010 --> 00:45:39.480
[ Silence ]

00:45:39.480 --> 00:45:42.940
OK, let's hope this one goes a little bit more smoothly.

00:45:42.940 --> 00:45:48.220
As before, I reset things a little bit and I
have the same port mapping as I had before.

00:45:48.219 --> 00:45:55.250
I have this port mapping from 17.0.0.1, which
is the WAN side of my NAT router from 53283

00:45:55.250 --> 00:46:03.309
to the 192.168.1.30 address, 3283 for my client then.

00:46:03.309 --> 00:46:05.820
Now I moved, this time I moved
the Task Server behind the NAT,

00:46:05.820 --> 00:46:10.400
and in order to for the administrator console
to use the Task Server behind the NAT.

00:46:10.400 --> 00:46:14.800
This is the one case where you have to
set up a very specific port mapping.

00:46:14.800 --> 00:46:20.530
The Task Server has to get the
port mapping from 3283 to 3283,

00:46:20.530 --> 00:46:27.360
because we don't support those dynamic ports
when you are contacting the Task Server.

00:46:27.360 --> 00:46:35.260
So in this case, now my administrator has added this
machine that is behind the NAT and it has this address.

00:46:35.260 --> 00:46:40.580
And as well, I go ahead and I add the
iMac using the wide area address as well.

00:46:40.579 --> 00:46:46.190
When I do that the administrator informs the Task
Server of the fact that it has added this machine,

00:46:46.190 --> 00:46:50.460
and it tells the Task Server, this is
the address by which I know this machine.

00:46:50.460 --> 00:46:52.960
This is the address by which you should
know this machine, and this is fine,

00:46:52.960 --> 00:46:59.510
the Task Server can contact the other machines behind
the NAT through the wide area address, no problem.

00:46:59.510 --> 00:47:05.010
So now, I am going to go ahead
and set my administrator offline.

00:47:05.010 --> 00:47:09.630
I am going to bring another administrator
online, but this time behind the NAT router,

00:47:09.630 --> 00:47:12.990
and this is where things go a little bit tricky.

00:47:12.989 --> 00:47:18.789
So in this case, my administrator used a Bonjour
scanner, and because he used a Bonjour scanner,

00:47:18.789 --> 00:47:26.369
he found the address of the iMac-- of
iMac one with its local area address,

00:47:26.369 --> 00:47:33.219
which is the 192.1.1.30 address of port 3283.

00:47:33.219 --> 00:47:37.789
Well just like in the case of my administrator, that
is on a completely other network outside the NAT,

00:47:37.789 --> 00:47:43.210
this administrator is also going to inform the Task
Server, Hey, I found this machine with this particular ID

00:47:43.210 --> 00:47:46.179
at this IP address, I want you to store that.

00:47:46.179 --> 00:47:50.449
So it ends up happening is that the address
for iMac one gets updated to an address

00:47:50.449 --> 00:47:54.039
that my administrator that is outside the NAT can't use.

00:47:54.039 --> 00:48:01.170
So when that guy comes online, he ends up synchronizing with
the Task Server and getting this essentially bogus address.

00:48:01.170 --> 00:48:06.380
It is fine for the administrator behind the
NAT, it is no good for the one that is outside.

00:48:06.380 --> 00:48:12.829
If he tries to contact it, you know, the router in
network A isn't going to be able to reach that machine.

00:48:12.829 --> 00:48:19.960
So you can have a Task Server behind the NAT, but be
careful about putting administrators behind that NAT.

00:48:19.960 --> 00:48:24.699
They are going to be adding those machines by
local addresses, because they are going to end

00:48:24.699 --> 00:48:27.069
up storing addresses in the Task Server

00:48:27.070 --> 00:48:34.360
that other administrators outside your NAT
are not going to be able to reach it by.

00:48:34.360 --> 00:48:42.539
OK, so another situation, besides just IP address
changes and keeping track of those that has to do

00:48:42.539 --> 00:48:45.050
with being able to stay connected to your clients.

00:48:45.050 --> 00:48:51.280
This is the ability to wake them up when they have
gone to sleep, and in the situation where machines are

00:48:51.280 --> 00:48:53.890
on another network from the one that you are on.

00:48:53.889 --> 00:48:55.889
Generally speaking you cannot wake them up.

00:48:55.889 --> 00:49:02.489
The wake up packets don't cross routers,
so in this case my administrator--

00:49:02.489 --> 00:49:06.879
my clients go to sleep, and my
administrator sends a wake up packet.

00:49:06.880 --> 00:49:11.160
The router is like, I don't know those IP addresses
for those machines anymore, they are not assigned.

00:49:11.159 --> 00:49:19.839
They are outside of my arb cache,
so to solve this in Snow Leopard,

00:49:19.840 --> 00:49:22.450
we are using something called the Bonjour sleep proxy.

00:49:22.449 --> 00:49:28.309
There was another section that was talking about this,
and hopefully some of you were able to see that as well.

00:49:28.309 --> 00:49:35.159
What this does is when your machines go
to sleep, they register what services,

00:49:35.159 --> 00:49:41.079
what network services they have available including
Remote Desktop with that Bonjour sleep proxy machine.

00:49:41.079 --> 00:49:45.869
That sleep proxy machine then acts like
those other machines are still online,

00:49:45.869 --> 00:49:49.029
and it advertises via Bonjour those services.

00:49:49.030 --> 00:49:54.670
So with Remote Desktop, those machines
can still appear to be online.

00:49:54.670 --> 00:50:02.430
When Remote Desktop sends wake packages over to the Bonjour
or over to those particular addresses to those clients,

00:50:02.429 --> 00:50:07.329
the Bonjour sleep proxy will then wake up
those machines and forward those packets on.

00:50:07.329 --> 00:50:13.509
So this is the first time, we have ever had any support
for being able to wake machines up across networks before,

00:50:13.510 --> 00:50:15.520
so I think this is a really cool technology.

00:50:15.519 --> 00:50:16.369
I am pretty excited about it.

00:50:16.369 --> 00:50:16.559
[ Applause ]

00:50:16.559 --> 00:50:27.570
So if you want to find out a little bit more about wide area
Bonjour, because we have been talking about it a little bit,

00:50:27.570 --> 00:50:39.620
here is a couple articles at AFP548.com, part 1
the Practical Bits and Part 2, Bring the Pain.

00:50:39.619 --> 00:50:47.989
I am going to hand things over to Steve Hayman, who is going
to show you how to do more automation stuff with your Mac

00:50:47.989 --> 00:50:54.399
so that you can manage them in even a more
efficient manner, as well as having a bit of fun.

00:50:54.400 --> 00:50:55.420
[ Applause ]

00:50:55.420 --> 00:51:02.680
>> I had a whole demo worked out based on
launching ODBC administrator on all the machines.

00:51:02.679 --> 00:51:02.899
[ Laughter ]

00:51:02.900 --> 00:51:08.269
And you know we were going to launch it, we were going
to look at the help, try to figure out what it was for.

00:51:08.269 --> 00:51:08.329
[ Laughter ]

00:51:08.329 --> 00:51:11.659
I think it is something different now, thanks a lot.

00:51:11.659 --> 00:51:18.599
So, I've got to tell you that my two favorite programs on
the Mac have got to be Apple Remote Desktop and Automator.

00:51:18.599 --> 00:51:25.699
And that's partly because I'm learning MacOS X in
alphabetical order, [laughter] I someday I'm going to figure

00:51:25.699 --> 00:51:29.559
out what Xsan is, I hear it's good but that's-- I've got
a couple of other things I've got to work through first.

00:51:29.559 --> 00:51:35.429
But I want to show you a few ideas of ways
that a combination of these two things

00:51:35.429 --> 00:51:40.069
and this new services feature in
MacOS X can improve your lives.

00:51:40.070 --> 00:51:44.539
Finally, with services we have a way to alter the
behavior of products like Apple Remote Desktop,

00:51:44.539 --> 00:51:48.389
to make them do what we want, without
having to ask these guys.

00:51:48.389 --> 00:51:53.869
So finally, we have a way to attach hotkeys to
arbitrary scripts, anywhere in the computer.

00:51:53.869 --> 00:51:59.150
[applause] So if you can build a workflow that does
something useful, you can make it you know, command,

00:51:59.150 --> 00:52:05.750
control, options, shift, clutch, reverse, p to
do some marvelous thing to your entire network.

00:52:05.750 --> 00:52:09.090
So I want to show you a couple of
simple examples of this sort of thing.

00:52:09.090 --> 00:52:10.960
Here's Apple Remote Desktop.

00:52:10.960 --> 00:52:18.349
Here's our whole rack full, chock full of machines here,
and let me pop up a little multi-observe window here

00:52:18.349 --> 00:52:20.170
on the side so that you can see what's going on.

00:52:20.170 --> 00:52:22.340
Hopefully this matches what we're seeing over there.

00:52:22.340 --> 00:52:23.870
But I don't know what some of these are.

00:52:23.869 --> 00:52:27.980
I might like to have a handy way to identify
which one of those computers is which.

00:52:27.980 --> 00:52:30.630
So let me try and build a really,
really simple workflow from scratch.

00:52:30.630 --> 00:52:33.599
I'm going to fire up Automator
here, my other favorite program

00:52:33.599 --> 00:52:38.079
The way that you build a service
to operate with a selected item

00:52:38.079 --> 00:52:43.369
in Remote Desktop is the same way you build a service now
to work on the selected file in the Finder or the work

00:52:43.369 --> 00:52:46.319
on text that's selected in any application.

00:52:46.320 --> 00:52:53.750
Up at the top of your new service, is a menu here where
you get to declare, what is this service operating on.

00:52:53.750 --> 00:52:55.150
Is it operating on text?

00:52:55.150 --> 00:52:56.200
Is it operating on files?

00:52:56.199 --> 00:52:59.279
Well this one is actually going to
operate on Remote Desktop computers.

00:52:59.280 --> 00:53:03.420
That's pretty sweet to see that in there
as a starting point for a workflow.

00:53:03.420 --> 00:53:07.920
So I'm going to have a workflow that's going to somehow
on these computers, cause them to display their name

00:53:07.920 --> 00:53:10.070
in some way so that I can see what's going on.

00:53:10.070 --> 00:53:13.380
Now Automator has you know, 200 kabillion actions in here.

00:53:13.380 --> 00:53:17.570
I have made-- by the way here's a tip for you,
make a smart group of all the actions related

00:53:17.570 --> 00:53:20.400
to Remote Desktop, then it's a little easier to find them.

00:53:20.400 --> 00:53:24.420
I have a smart group here of all the
ones related to Apple Remote Desktop.

00:53:24.420 --> 00:53:26.200
One of them is Execute New Unix Task.

00:53:26.199 --> 00:53:30.379
So here's something that will run a
Unix command on the remote machine.

00:53:30.380 --> 00:53:33.099
I'm going to select the list of computers,
then I'm going to run this service,

00:53:33.099 --> 00:53:37.190
and it runs this here Unix task on those computers.

00:53:37.190 --> 00:53:42.590
I would like to show the host name.

00:53:42.590 --> 00:53:48.059
So one way to get the computer name is
scutil getcomputername right?

00:53:48.059 --> 00:53:51.179
But that's going to vanish into
the ether where nobody can see it.

00:53:51.179 --> 00:53:56.129
But I want to pipe it into this little thing I got kicking
around called Big Honking Text, [laughter] which is--

00:53:57.539 --> 00:54:01.489
and we'll run this as root, just because
we like to live dangerously here.

00:54:01.489 --> 00:54:04.679
So let's, so we'll save this service.

00:54:04.679 --> 00:54:07.679
This actually is something that's going
to go into the Library Services folder.

00:54:07.679 --> 00:54:09.849
It's going to be associated with Apple Remote Desktop,

00:54:09.849 --> 00:54:13.500
because of that very first part that
says, This is for Remote Desktop.

00:54:13.500 --> 00:54:18.829
And I got to call this one ARDWhatComputerAreYouExactly.

00:54:18.829 --> 00:54:24.509
So having done that, I've now got
a service, previously installed.

00:54:24.510 --> 00:54:31.060
When I'm over here in the Remote Desktop, you have
access to a list of services that are associated

00:54:31.059 --> 00:54:33.090
with Remote Desktop, they will pop up in a menu.

00:54:33.090 --> 00:54:38.960
You Control-click on one or more selected
computers or computer lists and this thing pops up.

00:54:38.960 --> 00:54:43.750
If you like, you can go way up here to the Service menu,
but I don't know about you, but that's getting farther

00:54:43.750 --> 00:54:46.340
and farther away on larger monitors
from what I'm looking at.

00:54:46.340 --> 00:54:52.210
So with Services here, you're actually looking at
something, and then you're operating on it right there.

00:54:52.210 --> 00:54:58.070
So I don't know which one of these is, let's say Warren's
Mac and Judy's Mac, let's run the service on those two.

00:54:58.070 --> 00:55:00.450
Services, What computer are you exactly?

00:55:00.449 --> 00:55:03.419
And then hopefully the two of them will
display their name in large letters.

00:55:03.420 --> 00:55:07.460
Did you notice that, by the way, that they're
popping up the name there in large letters.

00:55:07.460 --> 00:55:10.599
Well, well that's our show.

00:55:10.599 --> 00:55:11.230
[laughter] Thank you for coming.

00:55:11.230 --> 00:55:17.170
So there are a few other things I'd like to show
you that have been, that I've previously built.

00:55:17.170 --> 00:55:18.250
Here's an example.

00:55:18.250 --> 00:55:26.130
Here's a workflow that I already did that launches a
new terminal session to SSH to the selected computer.

00:55:26.130 --> 00:55:27.340
This is something I'm doing all the time.

00:55:27.340 --> 00:55:30.090
I've got a big list of 45,000 computers
and for whatever reason,

00:55:30.090 --> 00:55:33.579
I want to log in on the command line and mess around.

00:55:33.579 --> 00:55:39.239
Rather than cutting and pasting IP addresses, it would
be handy to have something that asked Remote Desktop

00:55:39.239 --> 00:55:45.799
for the IP address of whichever computer I'm looking at now,
and then told terminal to go and make a new window, open,

00:55:45.800 --> 00:55:50.390
that would be running SSHApple@thatIPaddress.

00:55:50.389 --> 00:55:51.719
And that's exactly what this does here.

00:55:51.719 --> 00:55:57.269
This is a simple AppleScript that is
being passed from the starting point

00:55:57.269 --> 00:55:59.090
of the action, which is the selected computers.

00:55:59.090 --> 00:56:04.039
It's being passed a list of selected computers,
and then it's telling terminal to activate,

00:56:04.039 --> 00:56:07.070
which pops up to the front, and then
it's going to run the script SSH,

00:56:07.070 --> 00:56:11.170
and then it's going to extract the
Internet address of the selected computer.

00:56:11.170 --> 00:56:13.190
This is a simple local AppleScript in this case.

00:56:13.190 --> 00:56:17.159
There's another action that runs an
AppleScript remotely on the remote computer.

00:56:17.159 --> 00:56:19.789
I'm using the one here that runs
it locally on this computer.

00:56:19.789 --> 00:56:28.579
So with something like this in place, I can choose
several of these machines here, and services ARD SSH here,

00:56:28.579 --> 00:56:34.529
that's going to launch terminal and create a
bunch of SSH sessions connected to each one.

00:56:34.530 --> 00:56:38.300
I must set up my public and private keys one of
these days so that I can get it without a password.

00:56:38.300 --> 00:56:43.539
But you'll notice that each of these windows is actually
starting a new SSH command, off the associated computers.

00:56:43.539 --> 00:56:45.460
That's the kind of thing I do all the time.

00:56:45.460 --> 00:56:50.349
So oh, please, no, come on, this is like two lines, don't
clap for this, this is something you're supposed to do.

00:56:50.349 --> 00:56:53.549
You're supposed to go home and write
this, write this kind of thing yourself.

00:56:53.550 --> 00:56:55.090
We're giving you some ideas here.

00:56:55.090 --> 00:56:58.010
Maybe we want to do something a little more elaborate.

00:56:58.010 --> 00:57:01.320
Maybe we have some sort of lab setup process we want to do.

00:57:01.320 --> 00:57:05.410
We want a service here that operates
on whatever computers are selected.

00:57:05.409 --> 00:57:07.429
This is sort of your reflexive starting point.

00:57:07.429 --> 00:57:11.889
You're always going to choose remote computers
at the top here, and then there might be a bunch

00:57:11.889 --> 00:57:15.549
of interesting ARG related actions you'd like to toss in.

00:57:15.550 --> 00:57:17.730
Maybe you want to lock all the screens, or maybe you want

00:57:17.730 --> 00:57:23.000
to force quit all the applications and
maybe you want to disable Dashboard.

00:57:23.000 --> 00:57:27.460
Maybe you want to start an application, maybe it's time
for, I don't know, it's time for the Chess Club meeting,

00:57:27.460 --> 00:57:32.010
so we're going to launch the Chess program on all the
computers, and then we're going to unlock the screen.

00:57:32.010 --> 00:57:34.340
So of course you can customize this, you can you know,

00:57:34.340 --> 00:57:40.250
come in here and change the message that's
going to be typed, hands off, you doughboy.

00:57:40.250 --> 00:57:42.920
Give people, keep people informed.

00:57:42.920 --> 00:57:48.710
And then we'll save this as manipulateLab.

00:57:48.710 --> 00:57:53.769
So I will select some computers now, and
it will run these six actions in order.

00:57:53.769 --> 00:57:57.050
They are not really going to do anything that
exciting, but they're going to lock the screen,

00:57:57.050 --> 00:58:00.780
which you only see over there, then they're going
to launch some programs and then unlock the screen.

00:58:00.780 --> 00:58:03.810
So let's see if there's any chance
that that might actually work here.

00:58:03.809 --> 00:58:07.509
I supposed there's a chance, there's always a chance.

00:58:07.510 --> 00:58:13.800
So we'll click Services manipulateLab, and so it's going
to lock the screens, and it's going to kill everything

00:58:13.800 --> 00:58:17.820
and delete the DOC or something, and launch
Chess, and unlock the screens and away we go.

00:58:17.820 --> 00:58:21.600
So I've launched Chess for the Chess Club
on a few of those computers over there.

00:58:21.599 --> 00:58:25.779
I'm sure you can come up with a more
exciting workflow than this one.

00:58:25.780 --> 00:58:29.820
But ODBC administrator isn't here,
so I mean, What can you do?

00:58:29.820 --> 00:58:33.400
You're kind of hamstrung when you're
going at the end of the session.

00:58:33.400 --> 00:58:37.090
So let me get, let me get Chess off the screen.

00:58:37.090 --> 00:58:42.380
Incidentally, you can choose these old work-- you can see
that what happened here is that ARD executed a sequence

00:58:42.380 --> 00:58:45.309
of tasks in order, associated with this workflow.

00:58:45.309 --> 00:58:47.130
I just want to quit everything again.

00:58:47.130 --> 00:58:49.559
Let's kill Chess over there, so hey, Chess is gone.

00:58:49.559 --> 00:58:56.110
So this is using ARD to manage the
remote computers in an effective way,

00:58:56.110 --> 00:59:00.140
but there are a few things I found I
wanted to do locally with ARD itself.

00:59:00.139 --> 00:59:05.829
I'm forever choosing computers and hitting this send
Unix command button, which is my favorite command button

00:59:05.829 --> 00:59:09.650
in the entire computing universe, and
typing some task that I want to run.

00:59:09.650 --> 00:59:10.559
How full is the boot disk?

00:59:10.559 --> 00:59:13.679
Df/. And I want to run this as the user root.

00:59:13.679 --> 00:59:15.389
And then I want to hit Send.

00:59:15.389 --> 00:59:18.750
And that runs that command, and here's all the
output over here, and I think OK that's great.

00:59:18.750 --> 00:59:27.289
My disk is full so I want to do something else, rm-rmark and
then we want to copy ODBC administrator from somewhere else.

00:59:27.289 --> 00:59:30.960
But you've got to go clickity, clickity,
click here and several times through.

00:59:30.960 --> 00:59:33.920
I found myself doing this so often that it would be great

00:59:33.920 --> 00:59:37.800
if we could simplify this and do
like a one key hotkey sequence.

00:59:37.800 --> 00:59:43.060
So I've got another workflow kicking around here called
RunCommandAsRoot, and this is a fairly simple one.

00:59:43.059 --> 00:59:51.529
This just asking ARD to take-- to create a new--
actually to ask me for what command I want to type.

00:59:51.530 --> 00:59:55.640
In here, it says, Display dialog,
What command do you want to run?

00:59:55.639 --> 00:59:59.389
And then we're going to save that in
default so that it remembers it next time,

00:59:59.389 --> 01:00:02.650
and then we're going to close all the old
output windows so that we only see one,

01:00:02.650 --> 01:00:06.250
and then we're going to make a new
send Unix command that runs this thing.

01:00:06.250 --> 01:00:11.010
This is in AppleScript, how you create
a new send Unix command task in ARD,

01:00:11.010 --> 01:00:14.090
and then we're going to execute that on the input.

01:00:14.090 --> 01:00:16.750
The input is the list of computers that we've selected.

01:00:16.750 --> 01:00:23.190
So with something like that, step one,
and step two, attaching a hotkey to it

01:00:23.190 --> 01:00:28.349
over in the keyboard preferences pane, over
here you have the opportunity to attach hotkeys

01:00:28.349 --> 01:00:29.929
of your choice to any of these workflows.

01:00:29.929 --> 01:00:36.109
So I've picked this one here, and I've previously set
command, control, option, shift, something, escape, meta,

01:00:36.110 --> 01:00:39.800
r, it will be my run command as root thing.

01:00:39.800 --> 01:00:44.280
Now while I'm sitting over here in ARD, I can just choose
a list of computers and I can go to my hotkey, bang!

01:00:44.280 --> 01:00:46.380
like that, What command do you want to run?

01:00:46.380 --> 01:00:48.420
Date. What time is it in all of those computers?

01:00:48.420 --> 01:00:49.780
Oh yeah, now What command do you want to run?

01:00:49.780 --> 01:00:52.110
I'll hit the hotkey again, I want to run ds/.

01:00:52.110 --> 01:00:53.110
Oh, there's the results of that.

01:00:53.110 --> 01:00:54.260
Then I want to run something else.

01:00:54.260 --> 01:01:02.150
I want to run Who, and now I want to run [applause]
find/desksize+with, I don't know, you could go over

01:01:02.150 --> 01:01:03.210
and over again with something like this,

01:01:03.210 --> 01:01:06.530
but this is a workflow that I personally
found myself doing over and over again.

01:01:06.530 --> 01:01:09.860
And now thank goodness for these
hotkeys, I can just extend ARD

01:01:09.860 --> 01:01:15.450
with little pointy-clicky thing there
to make my life that much better.

01:01:15.449 --> 01:01:19.929
So there are many more possibilities that you could do here.

01:01:19.929 --> 01:01:23.679
I got a little carried away with one,
and it's not the one you're thinking.

01:01:23.679 --> 01:01:25.529
It's not the one, it's a different one.

01:01:25.530 --> 01:01:30.030
Here is a fairly elaborate one
here, that actually uses Keynote.

01:01:30.030 --> 01:01:36.220
I'm going to start out by making a new Keynote-- blank
Keynote presentation and keeping it over here at the side.

01:01:36.219 --> 01:01:38.789
So here's a-- let me just try and
push this out of the way a little bit.

01:01:38.789 --> 01:01:43.570
Here's a Keynote presentation ready to go
and I don't need that, I don't want that.

01:01:43.570 --> 01:01:44.860
So what's this workflow going to do?

01:01:44.860 --> 01:01:49.769
This is again taking these selected computers, and
it's going to set the title on the first slide,

01:01:49.769 --> 01:01:52.110
and then it's going to run this AppleScript.

01:01:52.110 --> 01:01:57.730
We're going to run a Unix command on the remote
computers and take the output of that command,

01:01:57.730 --> 01:02:00.530
and then pipe it into a chart in Keynote.

01:02:00.530 --> 01:02:03.600
We're going to add a new slide, and we're
going to add a chart with the numbers

01:02:03.599 --> 01:02:06.019
that we just got back from the results of that command.

01:02:06.019 --> 01:02:09.500
So we're running something on six computers, the
numbers are coming back, we're drawing a chart.

01:02:09.500 --> 01:02:13.119
So I got this one set up to actually create three charts.

01:02:13.119 --> 01:02:17.299
Oh you're laughing, like you haven't written
really complicated scripts that look horrible.

01:02:17.300 --> 01:02:20.800
So let's, let's see here.

01:02:20.800 --> 01:02:22.630
Let me pick, let me pick all of them here.

01:02:22.630 --> 01:02:27.030
I'll go to the rack, I'm going crazy here,
I'll pick all 8, services, Keynote report.

01:02:27.030 --> 01:02:32.310
Here it is, it's Monday morning, I need to prepare
a report for the CIO on the state of our network.

01:02:32.309 --> 01:02:38.320
So we're going to launch this and it will,
through a combination of Unix tasks on--

01:02:38.320 --> 01:02:44.090
in Apple Remote Desktop and Keynote actions, it will
add a series of graphs over to this Keynote workflow,

01:02:44.090 --> 01:02:48.670
and I've now got this gorgeous Keynote
presentation that's just been created here.

01:02:48.670 --> 01:02:52.480
Here's the first slide, here's the second slide,
I do need to move the grass around a little bit.

01:02:52.480 --> 01:02:55.090
This is how full is the boot disk
on all the different computers.

01:02:55.090 --> 01:02:59.070
We ran df and picked out the percentage on the first line.

01:02:59.070 --> 01:03:00.680
Here's one that's kind of boring.

01:03:00.679 --> 01:03:02.849
How many people are logged in as a pie chart.

01:03:02.849 --> 01:03:05.980
Well there's one person logged
in on each of those computers.

01:03:05.980 --> 01:03:09.570
[laughter] But here's one that's
actually a little bit practical.

01:03:09.570 --> 01:03:11.860
What version of Keynote is everybody running?

01:03:11.860 --> 01:03:16.269
I ran a command over there to poke around and
determine what version of Keynote was in use,

01:03:16.269 --> 01:03:20.670
and what we got out of this was that, I guess, six
out of eight were running one version of Keynote

01:03:20.670 --> 01:03:22.590
and two out of eight were running
a different version of Keynote.

01:03:22.590 --> 01:03:29.829
I think you could imagine a variety of elaborate, custom,
time-saving, beautiful workflows that you can build

01:03:29.829 --> 01:03:31.299
like this to show off to your colleagues.

01:03:31.300 --> 01:03:33.970
They're going to be so completely impressed.

01:03:33.969 --> 01:03:44.039
However, having said that [applause]--
we did, we did do one the other day

01:03:44.039 --> 01:03:48.869
in here that caused a great frenzy of activity.

01:03:48.869 --> 01:03:51.079
I've been getting emails from the
International Olympic Committee,

01:03:51.079 --> 01:03:55.750
wanting to add ARD Whack-A-Mole as a new Olympic event.

01:03:55.750 --> 01:03:59.039
[laughter] Not only that but some of the ARD
engineers are-- they're very competitive.

01:03:59.039 --> 01:04:01.599
They must be gamers in their spare time.

01:04:01.599 --> 01:04:05.920
And Doug broke the previous record on ARD
Whack-A-Mole in public that was I think set

01:04:05.920 --> 01:04:09.409
by Sal who got maybe one, two, two out of ten.

01:04:09.409 --> 01:04:14.710
I bet Doug that he couldn't get-- I bet him 5 bucks that he
couldn't get five out of ten, and he got five out of ten.

01:04:14.710 --> 01:04:22.789
Doug, I have 20 Canadian dollars for you [laughter],
if you can get eight out of ten in ARD Whack-A-Mole.

01:04:22.789 --> 01:04:25.420
I want to show people the workflow,
just so you know what's going on here.

01:04:25.420 --> 01:04:27.220
This is a workflow here.

01:04:27.219 --> 01:04:32.039
This is-- actually I'm surprised
how simple this turned out to be.

01:04:32.039 --> 01:04:35.929
We're getting a list of computers and then
this thing asks them all to say, Get ready,

01:04:35.929 --> 01:04:39.079
get set, go, and then this one does one turn.

01:04:39.079 --> 01:04:43.860
It uses a big honking text to put up a giant Apple
logo, and then it waits to see if you click on it.

01:04:43.860 --> 01:04:45.550
If you click on it you get one point.

01:04:45.550 --> 01:04:50.750
If it disappears in 2 seconds you get 0 points, and
then we run a little AppleScript up at the scoreboard.

01:04:50.750 --> 01:04:55.699
Then we use the Automator loop facility to loop ten times,
and then we run another one down here to announce the score.

01:04:55.699 --> 01:04:57.710
So are you ready?

01:04:57.710 --> 01:05:01.280
Here we go, so here's the eight machines over here.

01:05:01.280 --> 01:05:09.420
I'm going to select them all over in ARD, and we're
going to go Services, Whack-A-Mole, are you ready?

01:05:09.420 --> 01:05:09.909
>> Yep.

01:05:09.909 --> 01:05:11.839
>> Here we go.

01:05:11.840 --> 01:05:12.730
>> [computer speaks] Get ready.

01:05:12.730 --> 01:05:14.360
Get set. Go.

01:05:14.360 --> 01:05:16.200
Go. Click me.

01:05:16.199 --> 01:05:18.639
Up here. Click me.

01:05:18.639 --> 01:05:20.559
Hey, click me.

01:05:20.559 --> 01:05:22.289
That's one.

01:05:22.289 --> 01:05:26.210
Click me. This one, this one.

01:05:26.210 --> 01:05:27.510
Click me.

01:05:27.510 --> 01:05:34.060
>> Oh. [laughter] Oh you know what,
here's what we're going to do.

01:05:34.059 --> 01:05:37.730
We're going to make a slight-- we're
going to make a slight modification

01:05:37.730 --> 01:05:39.420
to this one here, we're just going to pick that computer.

01:05:39.420 --> 01:05:42.690
OK. Want to try it again?

01:05:42.690 --> 01:05:43.269
>> [computer speaks] Get ready.

01:05:43.269 --> 01:05:44.699
Get set. Go.

01:05:44.699 --> 01:05:47.019
Up here. Up here.

01:05:47.019 --> 01:05:48.849
This one. Up here.

01:05:48.849 --> 01:05:50.769
Click me. This one.

01:05:50.769 --> 01:05:52.590
Hey, this one.

01:05:52.590 --> 01:05:53.690
Over here.

01:05:53.690 --> 01:05:54.380
Hey.

01:05:54.380 --> 01:05:57.430
>> Hey there you go, yeah.

01:05:57.429 --> 01:05:58.259
[applause] Doug, Doug, Doug.

01:05:58.260 --> 01:06:00.900
Here you go, come on, I'm a man of my word, come on.

01:06:00.900 --> 01:06:01.550
Here you go, very good.

01:06:01.550 --> 01:06:03.840
New world record, nine out of ten on the beginning level.

01:06:03.840 --> 01:06:04.150
Here you go.

01:06:04.150 --> 01:06:08.750
Very good.

01:06:08.750 --> 01:06:14.030
But I really hope you will all take an opportunity to look
at Automator and this amazing collection of workflows,

01:06:14.030 --> 01:06:19.040
in particular to exploit this new services feature, which
I think, is going to allow us all to reshape this product

01:06:19.039 --> 01:06:21.670
into something that matches the way we work.

01:06:21.670 --> 01:06:26.289
And with that I'd like to invite the ARD team up here
on the stage, and we will see if you have any questions.

01:06:26.289 --> 01:06:27.960
Or did you have another slide?

01:06:27.960 --> 01:06:29.050
Oh, Mark's got another slide.

01:06:29.050 --> 01:06:30.030
All right.

01:06:30.030 --> 01:06:31.040
There you go.

01:06:31.039 --> 01:06:32.400
>> [applause]Thank you.

01:06:33.590 --> 01:06:46.980
OK so if you're interested in testing some of the stuff you
just saw here today, you can download the seed from ADC.

01:06:46.980 --> 01:06:55.900
If you're not a member of ADC, you can see Andre in
the lab, or send an email to remotedesktop@Apple.com.

01:06:55.900 --> 01:07:00.900
So in summary, 3.2 is available right now,
3.3 update is going to come with Snow Leopard.

01:07:00.900 --> 01:07:05.889
You can get more resources available at the
web address or URL you see posted there,

01:07:05.889 --> 01:07:10.949
and we're going to be in the IT lab right after this
at 5 o'clock, so we can answer more questions for you.