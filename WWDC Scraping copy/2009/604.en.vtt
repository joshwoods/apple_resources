WEBVTT

00:00:12.740 --> 00:00:14.380
>> Hello.

00:00:14.380 --> 00:00:17.699
I'm the engineering manager
for Client Management and System Imaging

00:00:17.699 --> 00:00:20.119
and Address Book server in Mac OS X server.

00:00:20.120 --> 00:00:25.010
Let me invite Tony Graham to talk to
you about managing home directories.

00:00:25.010 --> 00:00:30.690
[ Applause ]

00:00:30.690 --> 00:00:32.060
>> Thank you, Yusip.

00:00:32.060 --> 00:00:38.130
My name is Tony Graham, I'm a systems engineer in
the education group, and I'm hoping to talk to you

00:00:38.130 --> 00:00:41.910
about home directory, it's a very exciting topic, I know.

00:00:41.909 --> 00:00:45.250
Some of you are probably experienced system administrators.

00:00:45.250 --> 00:00:48.509
How many here spend a lot of time
in Mac OS X server home directories?

00:00:48.509 --> 00:00:50.000
[ Laughter ]

00:00:50.000 --> 00:00:53.020
>> It's home directories people, it's not that funny.

00:00:53.020 --> 00:00:57.010
OK, good. So we want to get in and talk
about the various options for setting up.

00:00:57.009 --> 00:01:00.509
[ Phone ringing ]

00:01:00.509 --> 00:01:01.530
[ Laughter ]

00:01:01.530 --> 00:01:03.550
[ Phone ringing ]

00:01:03.549 --> 00:01:05.609
>> Oh boy.

00:01:05.609 --> 00:01:06.540
Hello?

00:01:06.540 --> 00:01:06.600
>> [ Little girl ]

00:01:06.599 --> 00:01:09.349
Daddy, I can't find my dolphin report.

00:01:09.349 --> 00:01:10.129
>> [ Presenter ]

00:01:10.129 --> 00:01:12.349
Your dolphin report is your Documents folder, sweetheart.

00:01:12.349 --> 00:01:12.409
>> [ Little girl ]

00:01:12.409 --> 00:01:14.310
Where is my Documents folder?

00:01:14.310 --> 00:01:14.579
>> [ Presenter ]

00:01:14.579 --> 00:01:15.849
In your home directory.

00:01:15.849 --> 00:01:16.289
>> [ Little girl ]

00:01:16.290 --> 00:01:17.850
Oh, thanks.

00:01:17.849 --> 00:01:18.459
Daddy?

00:01:18.459 --> 00:01:18.519
>> [ Presenter ]

00:01:18.519 --> 00:01:18.829
Yeah, sweetie.

00:01:18.829 --> 00:01:19.219
>> [ Little girl ]

00:01:19.219 --> 00:01:24.980
Where do home directories come from?

00:01:24.980 --> 00:01:27.480
[ Laughter ]

00:01:27.480 --> 00:01:30.480
[ Applause ]

00:01:30.480 --> 00:01:31.310
>> [ Presenter ]

00:01:31.310 --> 00:01:34.439
Babe, I've got a bunch of people in the room
here, they're waiting for me talk to them

00:01:34.439 --> 00:01:35.909
about something important, I really don't have

00:01:35.909 --> 00:01:35.969
>> [ Little girl ]

00:01:35.969 --> 00:01:37.469
Please.

00:01:37.469 --> 00:01:38.469
[ Laughter ]

00:01:38.469 --> 00:01:38.689
>> [ Presenter ]

00:01:38.689 --> 00:01:40.009
OK, but I've got to make this quick.

00:01:40.010 --> 00:01:43.250
You remember the story I told you about the
little girl who found the house in the woods?

00:01:43.250 --> 00:01:43.310
>> [ Little girl ]

00:01:43.310 --> 00:01:43.900
Goldilocks?

00:01:43.900 --> 00:01:44.150
>> [ Presenter ]

00:01:44.150 --> 00:01:45.730
No, no, no, it's Goldidots.

00:01:45.730 --> 00:01:46.350
>> [ Little girl ]

00:01:46.349 --> 00:01:48.000
Why Goldidots?

00:01:48.000 --> 00:01:48.799
>> [ Presenter ]

00:01:48.799 --> 00:01:50.869
Because daddy can't draw, sweetheart.

00:01:50.870 --> 00:01:57.650
Anyway, Goldidots had this wonderful home,
it had all of her favorite stuff in it.

00:01:57.650 --> 00:02:00.790
And she loved her home, it was made just for her.

00:02:00.790 --> 00:02:00.850
>> [ Little girl ]

00:02:00.849 --> 00:02:03.949
Oh boy, I sure love my new home.

00:02:03.950 --> 00:02:06.450
[ Laughter ]

00:02:06.450 --> 00:02:06.769
>> [ Presenter ]

00:02:06.769 --> 00:02:08.460
And it was the greatest home ever.

00:02:08.460 --> 00:02:10.610
The problem is something terrible happened.

00:02:10.610 --> 00:02:10.670
>> [ Little girl ]

00:02:10.669 --> 00:02:12.939
The bank foreclosed on her loan?

00:02:12.939 --> 00:02:15.439
[ Laughter ]

00:02:15.439 --> 00:02:16.250
>> [ Presenter ]

00:02:16.250 --> 00:02:18.610
No, it was even worse.

00:02:20.939 --> 00:02:23.439
[ Thunder ]

00:02:23.439 --> 00:02:23.759
>> [ Little girl ]

00:02:23.759 --> 00:02:24.579
Oh no.

00:02:24.580 --> 00:02:26.010
>> [ Presenter ]

00:02:26.009 --> 00:02:27.069
Yeah, it was terrible.

00:02:27.069 --> 00:02:27.689
>> [ Little girl ]

00:02:27.689 --> 00:02:28.500
So what did she do?

00:02:28.500 --> 00:02:28.580
>> [ Presenter ]

00:02:28.580 --> 00:02:33.940
Well luckily she had a time machine, so she
went back in time and got all her stuff back.

00:02:33.939 --> 00:02:36.439
[Thunder. Laughter ]

00:02:36.439 --> 00:02:42.469
[ Applause ]

00:02:42.469 --> 00:02:43.939
>> Problem was, it was bound to happen again.

00:02:43.939 --> 00:02:47.710
[ Thunder ]

00:02:47.710 --> 00:02:50.439
>> [Little girl] Oh no, not again.

00:02:50.439 --> 00:02:51.439
[ Laughter ]

00:02:51.439 --> 00:02:51.500
>> [ Presenter ]

00:02:51.500 --> 00:02:56.400
So she realized she needed some time to think and plan
for the future, she checked herself into a local motel.

00:02:56.400 --> 00:03:03.780
And the neat thing about the motel is it had everything
she needed for a brief stay: a place to sleep,

00:03:03.780 --> 00:03:05.849
place to rest, place to think things through.

00:03:05.849 --> 00:03:08.269
[ Laughter ]

00:03:08.270 --> 00:03:11.990
>> So she made a few phone calls, got
things rolling, and then checked out.

00:03:11.990 --> 00:03:16.930
Downside of course being as soon she
left, they threw all of her stuff away.

00:03:16.930 --> 00:03:20.469
[ Laughter ]

00:03:20.469 --> 00:03:25.870
>> But her new home was built in a safe place free
of disaster, and she thought that was wonderful.

00:03:25.870 --> 00:03:29.870
Problem was, it's still kind of hard
to get to, it's kind of far away.

00:03:29.870 --> 00:03:36.080
>> [Little girl] Now my home is safe over on Server
Valley, but it sure takes a while to get there.

00:03:36.080 --> 00:03:36.140
>> [ Presenter ]

00:03:36.139 --> 00:03:41.459
So she realized it would take her a long time to get there
through the mountain, she had a tunnel dug just for her.

00:03:41.460 --> 00:03:44.409
And this was great because any
time she wanted to get anything

00:03:44.409 --> 00:03:46.780
from her home, she could just go through the tunnel.

00:03:46.780 --> 00:03:53.270
So if she was hungry, she could go through
the tunnel and get something to eat.

00:03:55.919 --> 00:03:58.569
[ Laughter ]

00:03:58.569 --> 00:04:03.120
>> And if she was thirsty, she could go
through the tunnel and get something to drink.

00:04:03.120 --> 00:04:08.430
No matter what she needed, all she had to do...

00:04:08.430 --> 00:04:10.439
[ Laughter ]

00:04:10.439 --> 00:04:13.199
>> ...was go through the tunnel
and she could get what she needed.

00:04:13.199 --> 00:04:19.289
So that would have worked out really well for most people,
I mean, most dots, except then she Twittered about it

00:04:19.290 --> 00:04:21.640
or Tweeted about it, and as soon as her friends found out...

00:04:21.639 --> 00:04:30.389
>> [Little girl] Oh, I want one of those.

00:04:30.389 --> 00:04:30.860
>> [Other children] Me too.

00:04:30.860 --> 00:04:31.050
>> Me too.

00:04:31.050 --> 00:04:31.400
>> Me too.

00:04:31.399 --> 00:04:31.789
>> Me too.

00:04:31.790 --> 00:04:32.100
>> Me too.

00:04:32.100 --> 00:04:32.370
>> Me too.

00:04:32.370 --> 00:04:32.430
>> [ Presenter ]

00:04:32.430 --> 00:04:37.990
So now she had a new problem because it wasn't so
much like a truck, it was more like a series of tubes.

00:04:37.990 --> 00:04:43.710
And as soon as all of her friends wanted to use it
too, it got kind of crowded and slowed things down.

00:04:43.709 --> 00:04:45.899
So she realized she needed something
maybe a little bit more mobile.

00:04:45.899 --> 00:04:49.399
[ Music ]

00:04:49.399 --> 00:04:49.459
>> [ Presenter ]

00:04:49.459 --> 00:04:52.899
This seemed like it wasn't solve her problem because
she could keep the stuff that she used all the time

00:04:52.899 --> 00:04:58.169
with her no matter where she went and then still
keep her awesome house in the safe mountains.

00:04:58.170 --> 00:05:01.870
Problem was, she needed help filling it with all her stuff.

00:05:01.870 --> 00:05:03.990
So she went and asked her best friend, HomeSync.

00:05:03.990 --> 00:05:06.389
>> [Little girl] Hey HomeSync,
what are you doing this weekend?

00:05:06.389 --> 00:05:07.389
[ Laughter ]

00:05:07.389 --> 00:05:07.750
>>[ Presenter ]

00:05:07.750 --> 00:05:12.750
HomeSync didn't have a very good answer so he was stuck
helping her load all of her stuff into this new mobile home.

00:05:12.750 --> 00:05:15.110
[ Laughter ]

00:05:15.110 --> 00:05:20.830
>> And in fact, probably stuff for life helping her
unload it any time she came up with anything new.

00:05:20.829 --> 00:05:30.889
But once all her stuff was put in her new mobile home,
Goldidots hopped in and lived happily ever after.

00:05:30.889 --> 00:05:39.419
[ Music ]

00:05:39.420 --> 00:05:42.180
>> [Little girl] So is that where
home directories come from?

00:05:42.180 --> 00:05:42.240
>> [ Presenter ]

00:05:42.240 --> 00:05:43.319
Yes, sweetheart, that's where.

00:05:43.319 --> 00:05:51.879
>> [Little girl] Oh, I thought it was built from
the user template folder in /System/Library.

00:05:51.879 --> 00:05:57.379
[ Laughter and applause ]

00:05:57.379 --> 00:05:57.920
>> [ Presenter ]

00:05:57.920 --> 00:06:02.379
It is sweetheart, unless you have a network home, and then
it's built from the user template folder on the server.

00:06:02.379 --> 00:06:04.019
>> [Little girl] And if the server is not a Mac?

00:06:04.019 --> 00:06:04.589
>> [ Presenter ]

00:06:04.589 --> 00:06:09.409
Well if the server is not a Mac then you get a
basic Home folder, just a desktop, a library,

00:06:09.410 --> 00:06:12.920
and then if you download stuff with
Safari it'll make you a downloads folder.

00:06:12.920 --> 00:06:16.580
>> [Little girl] Oh OK, thanks Dad.

00:06:16.579 --> 00:06:17.279
Dad?

00:06:17.279 --> 00:06:17.339
>> [ Presenter ]

00:06:17.339 --> 00:06:18.500
Yes, sweetheart.

00:06:18.500 --> 00:06:19.370
>> [Little girl] Where do babies come from?

00:06:19.370 --> 00:06:21.370
[ Laughter ]

00:06:21.370 --> 00:06:21.470
>> [ Presenter ]

00:06:21.470 --> 00:06:22.370
Go ask mommy, sweetheart.

00:06:22.370 --> 00:06:23.550
[ Laughter ]

00:06:23.550 --> 00:06:26.800
>> [Little girl] OK, thanks Dad.

00:06:27.870 --> 00:06:34.370
[ Cheers and applause ]

00:06:34.370 --> 00:06:35.100
>> [ Presenter ]

00:06:35.100 --> 00:06:37.470
So I apologize for that interruption,
I'd kind of hoped to walk you

00:06:37.470 --> 00:06:40.050
through the various options that
you'd have for Home folders.

00:06:40.050 --> 00:06:45.220
I do have some slides, maybe I can work
through them quickly and get us caught up.

00:06:45.220 --> 00:06:50.230
Many of you said that you have Mac OS X installed on
your computers, how many of you Mac OS X users out here?

00:06:50.230 --> 00:06:52.200
Many, OK, very many.

00:06:52.199 --> 00:06:56.139
Most of you probably have seen then a local home that
gets created for you when you create your first account.

00:06:56.139 --> 00:07:01.250
And that goes into the /Users folder, and
it's a wonderful way to use your computer

00:07:01.250 --> 00:07:05.600
because it's the easy way a folder is created for
you automatically when you create your first account,

00:07:05.600 --> 00:07:08.650
you create new accounts, new folders are created for them.

00:07:08.649 --> 00:07:09.609
It's very well tested.

00:07:09.610 --> 00:07:14.639
So your application developers are probably first
going to test their applications against this scenario,

00:07:14.639 --> 00:07:17.769
and anything else would be further on down the list.

00:07:17.769 --> 00:07:22.299
And it's very uniform, so if somebody
comes in from another organization,

00:07:22.300 --> 00:07:27.069
they're likely to have their Home
folder in their /Users folder as well.

00:07:27.069 --> 00:07:31.250
Downside to this being that there's no separation
necessarily between the operating system

00:07:31.250 --> 00:07:33.860
and the user data, and that can be a real advantage.

00:07:33.860 --> 00:07:37.620
And the other downside being that everything
is located on that one hard disc mechanism,

00:07:37.620 --> 00:07:41.709
so if something terrible happens,
you could potentially lose it all.

00:07:41.709 --> 00:07:44.539
But backups are very easy, you can use Time Machine,

00:07:44.540 --> 00:07:52.150
you can use any number of backup applications
to protect your or your users' files.

00:07:52.149 --> 00:07:55.949
There's a variation since Leopard on
the local home called a guest home,

00:07:55.949 --> 00:08:01.180
and it's sort of the same thing except
there's no password, no admin privileges,

00:08:01.180 --> 00:08:09.540
and it makes a new Home folder from
that system library user template.

00:08:09.540 --> 00:08:13.220
If you want to customize the user
experience for the guest user,

00:08:13.220 --> 00:08:18.100
you can modify that folder carefully,
modify that folder as well.

00:08:18.100 --> 00:08:23.520
But the better way to manage that experience is using
Workgroup Manager in conjunction with directory services,

00:08:23.519 --> 00:08:28.689
so you don't have to touch every machine, and so that
you don't have to build those changes into an image.

00:08:28.689 --> 00:08:32.820
Nice thing about the guest account is as soon as
they log out, that Home folder is thrown away.

00:08:32.820 --> 00:08:39.000
Up to Leopard, probably a lot of you had
developed custom solutions for doing this,

00:08:39.000 --> 00:08:41.019
now it's baked into the operating system.

00:08:41.019 --> 00:08:46.230
So if we take that local home and we
stick it on a file server somewhere

00:08:46.230 --> 00:08:49.950
and manage the directory service records a little
bit differently so your Mac knows where to look

00:08:49.950 --> 00:08:53.360
for them, you can host that home on a server.

00:08:53.360 --> 00:08:58.539
And there are a number of protocols you can use to get to
it, and you use that Home folder live over the internet.

00:08:58.539 --> 00:09:05.329
So where your applications would write things to
Preferences or Application Support or your Documents folder,

00:09:05.330 --> 00:09:09.850
it's still doing exactly that, but
that folder is on a network share now.

00:09:09.850 --> 00:09:16.480
The advantage to that being you can use any Mac connected to
your organization, login, you have the same user experience.

00:09:16.480 --> 00:09:21.850
There are some disadvantages, your performance is going to
be affected by the speed and reliability of your network.

00:09:21.850 --> 00:09:26.409
And for some of you, that's great; and
for others, may not solve your problem.

00:09:26.409 --> 00:09:28.730
And of course it does require a
network with supportable machines

00:09:28.730 --> 00:09:33.310
that leaves your organization aren't
going to be able to easily participate.

00:09:33.309 --> 00:09:37.289
Backup though is really easy, you get an
enterprise backup solution on a server.

00:09:37.289 --> 00:09:43.750
You've got a single place, single source for all
of your user's data, and you back that stuff up.

00:09:43.750 --> 00:09:48.590
So I mentioned there are a number of protocols for
getting to your Home folder on the server, AFP, SMB,

00:09:48.590 --> 00:09:51.580
and NFS being the ones that you're likely to use.

00:09:51.580 --> 00:09:55.070
We tend to recommend AFP if your client
is a Mac and your server is a Mac.

00:09:55.070 --> 00:09:58.900
We recommend often SMB if the server is a Windows server,

00:09:58.899 --> 00:10:02.169
it sometimes gives you better performance,
or often gives you better performance.

00:10:02.169 --> 00:10:07.579
NFS is used probably by some of you if you're in
scientific computing environment or using clusters.

00:10:07.580 --> 00:10:12.070
Because there's no user name and
password exchanged ordinarily,

00:10:12.070 --> 00:10:16.629
with NFS there are some security
ramifications to using that.

00:10:16.629 --> 00:10:22.169
And what's nice about Snow Leopard, slight change
in Snow Leopard, maybe not such slight changes,

00:10:22.169 --> 00:10:29.620
dramatic improvements in the performance of these
network file systems, especially SMB and NFS.

00:10:32.129 --> 00:10:37.189
So a mobile account is sort of a
hybrid between the two, not quite.

00:10:37.190 --> 00:10:43.740
You imagine the directory records that you have in your
server that take care of identity and password information

00:10:43.740 --> 00:10:50.879
that get synced down to your portable machine so that you
can use it offline, you can still manage the experience

00:10:50.879 --> 00:10:54.799
from a central location, but the
home directory is on that computer.

00:10:54.799 --> 00:10:59.099
You get the performance, the compatibility
of having a local home.

00:10:59.100 --> 00:11:06.460
We synchronize the user records so password changes can be
managed centrally and preferences can be managed centrally.

00:11:06.460 --> 00:11:12.590
But if we take that one step further, your option is
a portable home, that's essentially the same thing

00:11:12.590 --> 00:11:17.790
where the directory record is synchronized, but we
also synchronize the files in the home directory.

00:11:17.789 --> 00:11:20.389
And the advantage to this is it can be used offline.

00:11:20.389 --> 00:11:24.029
So synchronization happens when you're
connected, when you're disconnected,

00:11:24.029 --> 00:11:28.819
new files created in that mobile account
are synchronized back to the network home

00:11:28.820 --> 00:11:32.390
when you reconnect, and it works both ways.

00:11:32.389 --> 00:11:38.330
The disadvantage, or a potential disadvantage to this is
that there's sometimes issues with conflict resolution.

00:11:38.330 --> 00:11:42.340
So a file gets changed on the server
and on the portable machine.

00:11:42.340 --> 00:11:49.649
You're probably going to end up presenting the UI to the
user that says, Which of these files do you want to keep?

00:11:49.649 --> 00:11:55.539
And for some of you that is not a big deal, and
for others that presents training opportunities.

00:11:55.539 --> 00:11:57.709
[ Laughter ]

00:11:57.710 --> 00:12:04.700
>> Now backup is actually pretty nice here too
because you can do both, backup a network Home folder

00:12:04.700 --> 00:12:09.500
with an enterprise server-based
backup solution, and have your users,

00:12:09.500 --> 00:12:12.470
your customers backup their own
machines using local backup software,

00:12:12.470 --> 00:12:15.029
use Time Machine, use an external drive, or whatever.

00:12:15.029 --> 00:12:19.269
You could even issue them a drive to take with them if
they don't spend a lot of time in your organization.

00:12:19.269 --> 00:12:24.240
And I think you'll sense a theme as we talk through these
various options today that for many of our customers,

00:12:24.240 --> 00:12:29.180
we think this is the best possible approach because
you've got the speed and compatibility of that local home,

00:12:29.179 --> 00:12:34.669
but you've got the central management and
occasional or often access to a network home.

00:12:34.669 --> 00:12:39.500
And in fact, we have some customers
that do both, they have a network home

00:12:39.500 --> 00:12:42.360
and a portable so they could do the portable HomeSync.

00:12:42.360 --> 00:12:49.039
And this is great for people who primarily use desktop
machines but will occasionally checkout a laptop

00:12:49.039 --> 00:12:51.789
or portable computer from you to leave with.

00:12:51.789 --> 00:12:54.120
You can synchronize that network home to that portable.

00:12:54.120 --> 00:12:57.529
They leave, they come back, the reverse
happens, and then they go back to living

00:12:57.529 --> 00:13:00.679
on their network-attached desktop machine.

00:13:00.679 --> 00:13:06.750
And the reverse is actually kind of a nice use scenario
too, we've got folks that live on a portable computer

00:13:06.750 --> 00:13:11.429
with a portable home and it's synchronized to their network
home, but there may be use scenarios where they want

00:13:11.429 --> 00:13:16.549
to be able to walk in and use another machine in your
organization, in a lab, in a presentation experience

00:13:16.549 --> 00:13:22.629
like this, and they don't necessarily want to take their
portable plug-in audio and video and power and network,

00:13:22.629 --> 00:13:25.360
but they want to have access to all their files.

00:13:25.360 --> 00:13:31.090
And so they can use a network account from that machine, and
you have control, you have the option as an administrator

00:13:31.090 --> 00:13:35.460
to decide which of these options
you present to your customers.

00:13:35.460 --> 00:13:42.350
So there is a variation or enhancement to the
portable home option called an external account,

00:13:42.350 --> 00:13:47.720
and what's nice about this is you use it in conjunction
with an external drive, it's going to be a FireWire drive

00:13:47.720 --> 00:13:50.860
or a USB drive or maybe even a flash drive.

00:13:50.860 --> 00:13:54.279
It also works with MacBook Pros in Target Disk Mode.

00:13:54.279 --> 00:14:00.129
So if you have a student who lives on their MacBook Pro,
they can put that in Target Disk Mode when they connect

00:14:00.129 --> 00:14:05.909
to one of your desktop machines, and continue to
use that user account on your desktop machine

00:14:05.909 --> 00:14:08.850
but when they leave they take all their stuff with them.

00:14:08.850 --> 00:14:14.590
The nice thing about this is it reduces login sync because
their home is pretty much with them on their drive,

00:14:14.590 --> 00:14:20.110
so when they log in they don't have to wait for
their home to be synchronized down to a new machine.

00:14:20.110 --> 00:14:27.159
And they can take that disk to another Mac that's off of
your network that they also use, maybe a machine at home,

00:14:27.159 --> 00:14:32.089
and use that external account with the machine at home.

00:14:32.090 --> 00:14:38.050
With portable homes and external accounts, FileVault is an
option for you, and if you're going to be taking your home

00:14:38.049 --> 00:14:45.029
with you on an external drive file, might be something you
would want to encourage or require depending on your use.

00:14:45.029 --> 00:14:52.699
And again, like portable homes and mobile accounts, you
can manage the user experience through Managed Preferences.

00:14:52.700 --> 00:14:55.610
So this can be an external drive used for your FireWire.

00:14:55.610 --> 00:15:03.879
New in fact in Snow Leopard is
FAT formatted external drives.

00:15:03.879 --> 00:15:09.340
So if you buy a disk from Office Depot or a flash
drive or whatever, you don't necessarily have

00:15:09.340 --> 00:15:14.620
to reformat that in HFS+ before you can use it.

00:15:14.620 --> 00:15:20.139
So we've got a demonstration lined up
for you next, and I guess that is me,

00:15:20.139 --> 00:15:23.149
so I'm going to switch over to a demo machine over here.

00:15:23.149 --> 00:15:34.000
What we wanted to show is a variation on the
external account which is pretty straightforward.

00:15:34.000 --> 00:15:36.110
How many of you have seen demonstrations
of external accounts?

00:15:36.110 --> 00:15:37.629
Set previous, developer conferences?

00:15:37.629 --> 00:15:39.029
Yes, so probably half of you.

00:15:39.029 --> 00:15:44.360
We didn't want to show you exactly the same demo,
so we decided to show you exactly the same demo.

00:15:44.360 --> 00:15:47.930
But we have a little twist, and
that is that this user account

00:15:47.929 --> 00:15:50.919
on my flash drive is actually an administrator account.

00:15:50.919 --> 00:15:54.159
The machine I'm going to connect it to does
not have an administrator account on it.

00:15:54.159 --> 00:16:00.019
So you can imagine this use scenario where you allow
guest users to your user machines and they get erased

00:16:00.019 --> 00:16:05.549
when they log out, but when you have to work on
the machine, install software and configure it,

00:16:05.549 --> 00:16:10.669
you attach your external account to it, and
your administrator account becomes available.

00:16:10.669 --> 00:16:17.620
This is also handy if for whatever reason your network
isn't available, so your network admin accounts won't work.

00:16:21.279 --> 00:16:27.250
So I'm logging in as an administrator on this
machine, this is bound to my directory system

00:16:27.250 --> 00:16:31.049
but it doesn't necessarily require
that the network be attached.

00:16:31.049 --> 00:16:32.639
And I wanted to show you a couple of things.

00:16:32.639 --> 00:16:38.949
The first thing I wanted to show you is the
command that you need to use to make this happen.

00:16:38.950 --> 00:16:41.770
What I didn't show you was the
creation of the external account.

00:16:41.769 --> 00:16:43.949
For those of you who haven't seen this done before,

00:16:43.950 --> 00:16:50.370
you essentially login to a machine that's had their user
account enabled for external accounts using mobility.

00:16:50.370 --> 00:16:53.409
And it asks you where you want that
portable home to be, you just say,

00:16:53.409 --> 00:16:56.079
I want it on the external drive, and it creates it there.

00:16:56.080 --> 00:17:03.160
But that's not going to be an administrator account,
and administrators are by design required to be members

00:17:03.159 --> 00:17:07.730
of the admin group on each desktop machine,
especially if they're not network connected.

00:17:07.730 --> 00:17:15.120
So the command that you're going to use to take an arbitrary
local or networked account and add to the admin group

00:17:15.119 --> 00:17:22.689
for your workstation is fairly simple, and I've
got a fancy Steve Hamon-like service written here

00:17:22.690 --> 00:17:25.500
to type this in so you can see it.

00:17:25.500 --> 00:17:28.230
It's the DS edit group command.

00:17:28.230 --> 00:17:31.079
You're going to use the -O flag followed by edit.

00:17:31.079 --> 00:17:33.259
You're going to edit this group
record, you're going to add a user,

00:17:33.259 --> 00:17:38.200
in this case the user's name is Tony,
and he's being added to the admin group.

00:17:38.200 --> 00:17:40.200
This is by the way, the same command that you would use

00:17:40.200 --> 00:17:45.519
if you have network users that
want sudo access their own machine.

00:17:45.519 --> 00:17:49.369
You'd want to add them to the local
admin group on their own machine.

00:17:49.369 --> 00:17:56.709
And once you run this command,
you can check it fairly easily,

00:17:56.710 --> 00:18:02.180
there's a DSCL command that will let
you navigate your directory services.

00:18:02.180 --> 00:18:06.570
We'll go into local default groups.

00:18:06.569 --> 00:18:13.169
And in here the list of the local groups on this
machine, and we'll pop into admin and do a read.

00:18:13.170 --> 00:18:19.039
And as you may notice, my account is a
member of this particular local group.

00:18:19.039 --> 00:18:23.519
So I wanted to show you another
couple of things while we're at it.

00:18:23.519 --> 00:18:32.509
In System Preferences under Accounts - really just two
accounts right now; my external account which goes with me

00:18:32.509 --> 00:18:37.089
when I leave, and the guest account which is
currently disabled but I could enable that for login,

00:18:37.089 --> 00:18:40.329
and then you've got a machine that
basically erases itself when someone leaves,

00:18:40.329 --> 00:18:43.759
and requires you with your external drive to administer.

00:18:43.759 --> 00:18:47.710
You can imagine there's some security
advantages to this too as far as remote access.

00:18:47.710 --> 00:18:51.370
And then one twist on this as well
is if I get info on my flash drive,

00:18:51.369 --> 00:19:01.409
you'll see that it's a FAT32 formatted USB drive,
and there's a user's folder on here with my account

00:19:01.410 --> 00:19:05.769
and it is in fact a FileVault account,
and that has additional advantages.

00:19:05.769 --> 00:19:10.180
In addition to my data being private and the
applications that I have on here being private,

00:19:10.180 --> 00:19:16.840
my keychain has passwords saved for things like
controlling the server, the screen sharing,

00:19:16.839 --> 00:19:19.819
controlling a server password has been saved in my keychain.

00:19:19.819 --> 00:19:23.549
And say if I lose this disk, it is protected.

00:19:23.549 --> 00:19:27.339
So that's it for the demo.

00:19:27.339 --> 00:19:34.539
I think I'll turn the stage over to, I like to
describe him as Germany's answer to David Hasselhoff,

00:19:34.539 --> 00:19:37.359
this is Educational Consulting Engineer, Armin Briegel.

00:19:37.359 --> 00:19:38.939
[ Applause ]

00:19:38.940 --> 00:19:39.860
>> Thank you, Tony.

00:19:39.859 --> 00:19:43.389
[ Applause ]

00:19:43.390 --> 00:19:47.480
>> I am not going to sing and I
guess you will be grateful for that.

00:19:47.480 --> 00:19:49.599
[ Laughter ]

00:19:49.599 --> 00:19:52.119
>> My name is Armin Briegel, I'm Consulting Engineer

00:19:52.119 --> 00:19:57.949
for Apple Education National Resource,
specializing on classroom management.

00:19:57.950 --> 00:20:05.319
And I'm going to take what Tony and Emily introduced to
us and go more into depth, introduce some new features.

00:20:05.319 --> 00:20:06.099
>> [Amrmaiiln B Brirnieggeerl on slide]

00:20:06.099 --> 00:20:10.849
>> I've been anagrammed.

00:20:10.849 --> 00:20:14.389
[ Laughter ]

00:20:14.390 --> 00:20:15.850
>> Don't leave your slides unattended.

00:20:15.849 --> 00:20:18.819
[ Laughter ]

00:20:18.819 --> 00:20:23.689
>> So as Tony mentioned early, network home
directories are a really great feature,

00:20:23.690 --> 00:20:27.000
but we really store everything in that Home folder.

00:20:27.000 --> 00:20:33.119
I checked on my work machine just now, and
I have 260,000 files in my Home folder.

00:20:33.119 --> 00:20:37.219
And I guess you will probably get
pretty close to those numbers.

00:20:37.220 --> 00:20:42.079
And there are things in there that are big, things
that are important, things that are less important.

00:20:42.079 --> 00:20:47.439
But each piece of this goes through the series
of cubes to your network server back and forth.

00:20:47.440 --> 00:20:53.509
And not everything is traffic that you
necessarily want to have on the network,

00:20:53.509 --> 00:20:58.190
essentially the caches, Safari
caches, all of the other caches.

00:20:58.190 --> 00:21:03.980
Other things like movie files, audio files, are
really sensitive towards bandwith and latency.

00:21:03.980 --> 00:21:06.400
You probably want to have them locally.

00:21:06.400 --> 00:21:12.610
iMovie for example, won't let you edit projects
that are on a network home directory, iMovie 09.

00:21:12.609 --> 00:21:19.729
So there used to be some hacks with login scripts where
you'd replace that particular folder with a symbolic link

00:21:19.730 --> 00:21:23.430
and redirect it to a local folder so
you would get the local performance.

00:21:23.430 --> 00:21:29.769
And even since Leopard, we have kind of made that
official and we give you managed preferences settings

00:21:29.769 --> 00:21:34.319
to get these features and redirect particular folders

00:21:34.319 --> 00:21:40.259
to local folders even though the
rest of the folder is on a network.

00:21:40.259 --> 00:21:44.519
The way you can get that is in
Workgroup Manager in the Details tab.

00:21:44.519 --> 00:21:47.259
You first want to add a very special feature.

00:21:47.259 --> 00:21:51.059
You go to System/Library/Core Services.

00:21:51.059 --> 00:21:56.690
There's an application called Manage Client
App, and if you add that in the Details tab,

00:21:56.690 --> 00:21:59.640
it will give you a whole list of
new features that you can manage.

00:21:59.640 --> 00:22:05.130
You can manage them without that, but it's much easier
because you get the descriptions and it looks more clearer.

00:22:05.130 --> 00:22:09.840
One of them is Folder Redirection, and if
we select that, it looks somewhat like this,

00:22:09.839 --> 00:22:13.250
and I can zoom in a little to make that view.

00:22:13.250 --> 00:22:15.549
The default one that gets created when you do

00:22:15.549 --> 00:22:21.849
that for the first time is actually redirecting the
Library/Caches folder to a local folder in your Temp folder.

00:22:21.849 --> 00:22:26.509
We use the Temp folder because that gets cleared at
Restart and it's really not very important.

00:22:26.509 --> 00:22:32.099
You can see there's a percent at
in here, that gets replaced at login

00:22:32.099 --> 00:22:35.139
with the user's name who's currently
logged in, that's a placeholder.

00:22:35.140 --> 00:22:38.840
So each user gets their own folder in the Temp folder

00:22:38.839 --> 00:22:42.990
so they don't overwrite each other's
stuff or see each other's stuff.

00:22:42.990 --> 00:22:46.990
The other redirection info that I
put in here, it's a different action.

00:22:46.990 --> 00:22:53.779
The first one is deleteAndCreateSymLink, because I don't
care about the Caches folder, we can recreate those.

00:22:53.779 --> 00:22:58.369
We may care about the user's Movies
folder or the users may care about that.

00:22:58.369 --> 00:23:00.500
So in this case, we're doing a Rename.

00:23:00.500 --> 00:23:06.769
We're renaming the Movies folder in the network home
directory and replacing it with a symbolic link.

00:23:06.769 --> 00:23:11.470
That points to Users/Shared/Username/Movies.

00:23:11.470 --> 00:23:16.509
So if they want to continue to work on their project, they
need to come back to the same machine over and over again,

00:23:16.509 --> 00:23:20.430
which is one of the advantages of network home directories.

00:23:20.430 --> 00:23:22.620
But I can move from machine to machine.

00:23:22.619 --> 00:23:24.879
We're negating that here.

00:23:24.880 --> 00:23:33.730
But on the other hand, we can edit Movies and
work with them in the network home directory.

00:23:33.730 --> 00:23:38.860
Of course if you use portable home directories, a lot
of those issues go away, so that's another alternative.

00:23:38.859 --> 00:23:41.339
Instead of redirecting, just use portable home directories.

00:23:41.339 --> 00:23:48.240
I'll be working locally all the time, anything I change and
work on will eventually by synchronized up to the server.

00:23:48.240 --> 00:23:52.690
But the synchronization process introduces
another bottleneck and challenge for the network

00:23:52.690 --> 00:23:58.440
because the client has to figure out which files have
changed locally, which files have changed on the server,

00:23:58.440 --> 00:24:04.450
and what do I need to copy back and forth, what do I need
to get from the server, what do I need to move up with.

00:24:04.450 --> 00:24:12.549
And before Leopard what we did was, we remounted the user's
network home directory and we scanned it to see what changed

00:24:12.549 --> 00:24:16.539
since the last synchronization, and that
obviously puts a lot of load on the server,

00:24:16.539 --> 00:24:20.909
all the metadata requests from the HomeSync process.

00:24:20.910 --> 00:24:27.040
So what we introduced in Leopard is called server-side
file tracking, and it uses FSEvents on the server

00:24:27.039 --> 00:24:30.029
to keep a database of files that changed on the server.

00:24:30.029 --> 00:24:36.829
And the client actually uses the same FSEvents on the
client and keeps a list of files that change there.

00:24:36.829 --> 00:24:43.839
And when a client attempts the HomeSync, it will go through
a certain port, 2336, actually it 6uses SSH over that port

00:24:43.839 --> 00:24:46.750
to try to get that file out of
my home directory on the server.

00:24:46.750 --> 00:24:51.019
And if I can get that, it will use that to compare,

00:24:51.019 --> 00:24:55.410
and I can avoid the expensive scanning
of the network home directory.

00:24:55.410 --> 00:24:59.519
It's a setting and server admin that you have to enable.

00:24:59.519 --> 00:25:05.359
And because it uses SSH or SEP to copy that file
downwards, please remember that the user needs

00:25:05.359 --> 00:25:09.659
to have a valid shell assigned,
otherwise this part will fail,

00:25:09.660 --> 00:25:17.050
and the HomeSync process will revert back to the scanning.

00:25:17.049 --> 00:25:17.460
FileVault.

00:25:17.460 --> 00:25:21.829
You're taking data along with you, and depending
on your organization or what kind of data it is,

00:25:21.829 --> 00:25:24.349
you may be required to encrypt that data.

00:25:24.349 --> 00:25:27.819
In general, encrypting data that
you take with you either on laptops

00:25:27.819 --> 00:25:32.569
or on external accounts is a very wise
idea, and FileVault works very well.

00:25:32.569 --> 00:25:37.799
FileVault is an option whether you use mobile
accounts, synchronized mobile accounts,

00:25:37.799 --> 00:25:43.419
or portable report home directories, or external
accounts, we can use it in any of those flavors.

00:25:43.420 --> 00:25:46.600
You can make a master password a requirement.

00:25:46.599 --> 00:25:50.750
A master password gives you a backdoor
password in case the user leaves

00:25:50.750 --> 00:25:56.150
without telling you his or her password, or they forget.

00:25:56.150 --> 00:26:02.269
And obviously you can enforce the usage
of FileVault with Managed Preferences.

00:26:02.269 --> 00:26:07.680
Another thing that we gain when we use FileVault,
because it's an image on the laptop's hard drive

00:26:07.680 --> 00:26:12.920
or usually it's the laptop, it could be
a desktop machine as well, is quotas.

00:26:12.920 --> 00:26:17.400
We can enforce quotas from the server
locally, and there's two options.

00:26:17.400 --> 00:26:23.440
One is you can set arbitrary numbers depending on the
machine or the user that logs in, or you can take the quotas

00:26:23.440 --> 00:26:34.029
out of Workgroup Manager that have been assigned per
user and enforce them locally using the FileVault image.

00:26:34.029 --> 00:26:38.180
Tony mentioned the guest account earlier, we introduced
that in Leopard and that's a really nice feature,

00:26:38.180 --> 00:26:41.640
you just have the generic account, it gets wiped at logout.

00:26:41.640 --> 00:26:47.320
You can mange the guest account using computers
or computer list, Managed Preference settings.

00:26:47.319 --> 00:26:51.309
And you can apply managed settings, you can
do some things with the user template as well.

00:26:51.309 --> 00:26:55.490
But sometimes you may want to have
a more varied user experience

00:26:55.490 --> 00:27:00.170
or a more specific user experience
depending on the task that's at hand.

00:27:00.170 --> 00:27:06.550
Imagine you have a classroom and students come in for one
class, you may want the management settings to be different

00:27:06.549 --> 00:27:11.750
for that class than for another, and then you
won't get very far with the single guest account.

00:27:11.750 --> 00:27:16.960
Using mobile accounts, we can actually
create kind of multiple guest accounts.

00:27:16.960 --> 00:27:22.620
If you use a non-syncing mobile account
that logs in, creates an empty account

00:27:22.619 --> 00:27:25.569
from the user template, and then the user works on that.

00:27:25.569 --> 00:27:31.549
And you can have all users logging in to the same and
you get multiple copies of the same mobile account.

00:27:31.549 --> 00:27:37.930
And then in Workgroup Manager there's a setting that
says expire this account after a certain number of days,

00:27:37.930 --> 00:27:41.370
which means if the user hasn't logged in for certain
number of days, well then delete that account,

00:27:41.369 --> 00:27:44.029
I don't want it messing up all of my Macs.

00:27:44.029 --> 00:27:52.660
If I set that to 0, it means delete this account at
logout, which is basically guest account behavior.

00:27:52.660 --> 00:27:59.230
And I can use the local template to do some management and
MCX, and I can apply individual Managed Preferences settings

00:27:59.230 --> 00:28:05.170
to each of those accounts to basically
gain multiple guest accounts.

00:28:05.170 --> 00:28:13.070
We updated the sync UI, it's not called login and logout
sync and background sync anymore, we changed that name,

00:28:13.069 --> 00:28:16.379
it is now the preference sync and the HomeSync.

00:28:16.380 --> 00:28:21.130
The reason we changed that is because
we gave you more granular control

00:28:21.130 --> 00:28:23.980
and you can now decide when these synchronizations happen.

00:28:23.980 --> 00:28:30.250
So calling it login and logout sync if it may not happen
at login and logout didn't really make sense anymore.

00:28:30.250 --> 00:28:34.460
Nevertheless, we give you two options of
doing this, and they're basically the same,

00:28:34.460 --> 00:28:42.370
but one is intended to for all the files that are probably
open in the background, preferences, files, databases, mail,

00:28:42.369 --> 00:28:46.109
and they can't be synced while the user is working.

00:28:46.109 --> 00:28:51.919
And the other one, the HomeSync, is intended for the
files that can be synced while the user is working.

00:28:51.920 --> 00:28:57.120
And even though the default settings in Snow Leopard
when you open Workgroup Manager has all of these enabled,

00:28:57.119 --> 00:29:03.649
you want to disable background
manually for the preference sync.

00:29:03.650 --> 00:29:06.090
And then for the HomeSync you basically have the control.

00:29:06.089 --> 00:29:10.819
So if your users are complaining that the logout sync is
taking too long and they don't want to sit there waiting

00:29:10.819 --> 00:29:18.069
for the progress bar to proceed, you can disable the logout
sync, and it will take longer at login, or vice versa.

00:29:18.069 --> 00:29:23.679
We updated the conflict resolution dialogue

00:29:23.680 --> 00:29:27.850
and it now actually gives you a QuickLook
preview of the file in question.

00:29:27.849 --> 00:29:33.980
[ Applause ]

00:29:33.980 --> 00:29:41.650
>> We've also kind of clarified the options that you have in
the menu, and we've assigned hot keys so you can quickly go

00:29:41.650 --> 00:29:47.300
through that dialogue if you have a few
dozen files that need synchronization.

00:29:47.299 --> 00:29:51.480
And even from this dialogue we can now
exclude this file from future syncs.

00:29:51.480 --> 00:29:54.529
I don't care about this file, just don't synchronize this,

00:29:54.529 --> 00:29:59.579
that's the exclude from syncing
Command-e at the lower level.

00:29:59.579 --> 00:30:04.990
Still, there will be users that are challenged by this.

00:30:04.990 --> 00:30:08.609
We tried to make it very simple,
but they will be challenged.

00:30:08.609 --> 00:30:14.029
So one of the things you gain when you add the
Manage Client on an app to the Workgroup Manager is

00:30:14.029 --> 00:30:22.230
in the HomeSync category there, you gain
options for controlling this conflict dialogue.

00:30:22.230 --> 00:30:27.259
And you can basically suppress the conflict
dialogue and make the decision for the user.

00:30:27.259 --> 00:30:33.390
You can say the mobile account on the laptop always
wins, or the network account on the server always wins,

00:30:33.390 --> 00:30:37.620
and don't show that dialogue and confuse my users.

00:30:37.619 --> 00:30:43.479
Again, this is a little easier to set up, we
could set that earlier in Tiger and Leopard,

00:30:43.480 --> 00:30:47.380
but the manifest UI makes that a little more controllable.

00:30:47.380 --> 00:30:53.220
We get asked a lot about best practices,
What do I synchronize?

00:30:53.220 --> 00:30:54.400
What don't I synchronize?

00:30:54.400 --> 00:30:55.870
and there's really no generic answer.

00:30:55.869 --> 00:31:00.649
It really depends on how much storage
space you have, how much network bandwidth,

00:31:00.650 --> 00:31:04.040
what your users expect to be synchronized.

00:31:04.039 --> 00:31:09.930
A good rule of thumb, at least for education that we've
sorted out, is to synchronize the document on the desktop

00:31:09.930 --> 00:31:14.930
because those are the files that we care
most about, and that users care actually.

00:31:14.930 --> 00:31:19.480
Especially on the desktop, we tend to
put things we work on, on the desktop.

00:31:19.480 --> 00:31:26.720
And most admins exclude the media folders; Movies,
Pictures, and Music, not because they're not important,

00:31:26.720 --> 00:31:32.319
but they tend to be very big, and we certainly don't
need copies of everybody's iTunes library on our server.

00:31:32.319 --> 00:31:36.519
We'd have to sell you storage for that.

00:31:36.519 --> 00:31:42.190
And the point is no matter what you do and which rules
you set up, you need to inform the users about that,

00:31:42.190 --> 00:31:48.549
the users have to be aware this is a synchronized folder
and things that are in here won't be synchronized.

00:31:48.549 --> 00:31:54.879
There is the possibility in the sync rules to
exclude by wildcards, which gives me the option

00:31:54.880 --> 00:31:57.930
to synchronize by extensions, by file type.

00:31:57.930 --> 00:32:07.000
So the temptation is there to synchronize, not synchronize
.mov files or .wmv files, which seems like a great idea

00:32:07.000 --> 00:32:12.500
until you run into the following problem that
a lot of applications, including Keynote 08,

00:32:12.500 --> 00:32:18.829
store their files in a package which is actually
a folder, and if something drags a movie

00:32:18.829 --> 00:32:23.369
into their Keynote presentation, the movie
will be selectively not synchronized,

00:32:23.369 --> 00:32:26.629
and they will end up with a broken Keynote presentation.

00:32:26.630 --> 00:32:31.130
Keynote 09 and iWork 09 actually changed the file format,

00:32:31.130 --> 00:32:36.220
they now use a big binary file
format because it had other issues.

00:32:36.220 --> 00:32:39.630
But old Keynote documents or third party

00:32:39.630 --> 00:32:43.630
and other applications still use the
package format because it is very flexible.

00:32:43.630 --> 00:32:51.930
And if you synchronize by file format, you will break
those packages or you might break those packages.

00:32:51.930 --> 00:32:57.590
Background synchronization, it can put some load on
your server and you probably want to distribute that.

00:32:57.589 --> 00:33:04.079
What we've found from our experience is that
higher background synchronization frequencies,

00:33:04.079 --> 00:33:10.750
shorter background cycles, actually distribute the
load much better over the server than longer ones.

00:33:10.750 --> 00:33:17.369
Especially in classroom deployments or labs
where you have a certain rhythm anyway,

00:33:17.369 --> 00:33:24.389
like an hourly rhythm when everybody opens their laptops and
closes it again, you want to select background sync cycles

00:33:24.390 --> 00:33:32.050
that are much shorter than the classroom cycle
and the order of a few minutes, 7 to 12 minutes.

00:33:32.049 --> 00:33:37.919
Another option is to switch to manual synchronization
which basically takes the load out of the server

00:33:37.920 --> 00:33:44.039
until the user decides, Well now is a good time to
synchronize my stuff with the server and make sure that it's

00:33:44.039 --> 00:33:47.200
up there, but again, you have to train the users.

00:33:47.200 --> 00:33:52.350
It's a manual process which usually
means it doesn't get done ever, so...

00:33:52.349 --> 00:33:53.619
[ Pause ]

00:33:53.619 --> 00:34:00.869
>> Yeah. The same with the logout/login sync or the
preference sync, certain files can not be synchronized

00:34:00.869 --> 00:34:04.439
when the user is logged in because they will
be open, they will be used all the time.

00:34:04.440 --> 00:34:09.369
So if you want to synchronize, if they're important to
you and you want them on the server an copied from machine

00:34:09.369 --> 00:34:13.449
to machine, you have to train the
users to login and logout occasionally,

00:34:13.449 --> 00:34:16.909
which may be especially hard with laptop users.

00:34:16.909 --> 00:34:22.849
This is my Hasselhoff/Baywatch slide.

00:34:22.849 --> 00:34:25.739
[ Laughter ]

00:34:25.739 --> 00:34:31.449
>> Eventually you may come to the point where you decide if
you've been experimenting with the HomeSync and you decide

00:34:31.449 --> 00:34:34.379
for some reason you want to disable
it, you don't want to use it anymore,

00:34:34.380 --> 00:34:36.840
the mobile account part is good enough for you.

00:34:36.840 --> 00:34:41.710
And a lot of people run into this, when they
disable it, they go into Workgroup Manager

00:34:41.710 --> 00:34:45.139
and switch the management from always to never.

00:34:45.139 --> 00:34:50.819
And then synchronization isn't turned off, because all you
did is you turned off the management of the synchronization

00:34:50.820 --> 00:34:54.620
and the client, since it's now
unmanaged, will keep doing what it did.

00:34:54.619 --> 00:34:59.509
So what you have to do is you go into Workgroup
Manager and disable all the sync options.

00:34:59.510 --> 00:35:03.000
And just to be on the safe side, you
probably want to go into the next tab

00:35:03.000 --> 00:35:06.099
and set the background synchronization to manually.

00:35:06.099 --> 00:35:12.469
And that's the way to completely
turn off the synchronization.

00:35:12.469 --> 00:35:18.079
Some applications, and I really don't want to
dis Firefox here, it's a great application.

00:35:18.079 --> 00:35:23.259
But Firefox doesn't respect our preferences
database, our preferences system,

00:35:23.260 --> 00:35:26.160
they use their own because it's
a cross platform application.

00:35:26.159 --> 00:35:31.179
So I can't manage Firefox using Managed
Preferences in Workgroup Manager.

00:35:31.179 --> 00:35:36.309
The solution to that, obviously if I have a distributed
system with lots of people and different home directories,

00:35:36.309 --> 00:35:42.320
it's to manage the user with the template, so I go
back into the Systems/Library/User template folder

00:35:42.320 --> 00:35:46.580
and put the important folder for
the Firefox preferences in there.

00:35:46.579 --> 00:35:49.119
And there's other applications that do that.

00:35:49.119 --> 00:35:56.679
Another thing that's important for HomeSync is applications
that have large binary files, large binary databases,

00:35:56.679 --> 00:36:00.049
Entourage is one of them, it stores
everything in one big database.

00:36:00.050 --> 00:36:05.140
And if I get one email, it will synchronize
the entire database back up to the server.

00:36:05.139 --> 00:36:09.009
You probably want to exclude those
from your synchronization.

00:36:09.010 --> 00:36:17.740
Email, it's OK to exclude it because IMAP will probably take
care of your email synchronization from client to client,

00:36:17.739 --> 00:36:20.729
but you'll have to find solutions for
that, and they're different depending

00:36:20.730 --> 00:36:23.199
on the application and what you're doing.

00:36:23.199 --> 00:36:32.129
The same for VM solutions, parallels, and VMWare fusion,
they're switching to a file format which is one big,

00:36:32.130 --> 00:36:37.940
huge whopping disk image, but it's drive to disk
image, but even those drives are still big enough

00:36:37.940 --> 00:36:45.200
that they will probably extend your
synchronization process too much.

00:36:45.199 --> 00:36:52.539
And then finally there's the temptation or the
desire to put your home directories on Xsan.

00:36:52.539 --> 00:36:56.429
And this used to be a big no, don't do it, we're working it,

00:36:56.429 --> 00:36:59.409
they're slow improvements, but
we're really improving the system.

00:36:59.409 --> 00:37:06.059
If you're using network home directories,
Xsan works well as a backup medium.

00:37:06.059 --> 00:37:09.309
We've done a lot of optimizations in Xsan 2, 2.1,

00:37:09.309 --> 00:37:15.469
and Xsan 2.2 that will improve the
performance with lots of small files.

00:37:15.469 --> 00:37:18.409
Portable home directories are an extra challenge.

00:37:18.409 --> 00:37:25.159
As I said earlier, when I do the HomeSync for portable home
directories, the client will scan the network home directory

00:37:25.159 --> 00:37:29.809
for the changes, and that puts a
huge load on the metadata controller.

00:37:29.809 --> 00:37:34.469
And if you have multiple users coming in through
multiple file servers connected to the Xsan,

00:37:34.469 --> 00:37:37.259
your metadata controller is going to be the bottleneck.

00:37:37.260 --> 00:37:42.580
Xsan 2.1 in Leopard does not support FSEvents,
so we can't use server-side file tracking.

00:37:42.579 --> 00:37:47.559
Xsan 2.2 will support server-side file
tracking, but each server that's attached

00:37:47.559 --> 00:37:52.449
to the Xsan will only see changes that the server has done.

00:37:52.449 --> 00:37:58.219
So you really want to make sure that one user sticks
to one server even across sessions over multiple days,

00:37:58.219 --> 00:38:01.039
so you could use server-side file tracking.

00:38:01.039 --> 00:38:09.779
And in general, we've seen that the performance with lots of
small files of Xsan is less than in direct attached mode.

00:38:09.780 --> 00:38:16.470
So unless there's a huge requirement for a growable
file system, we tend to recommend direct attach mode

00:38:16.469 --> 00:38:23.949
in carving the storage into luns [phonetic]
rather than Xsan, for home directories.

00:38:26.780 --> 00:38:31.880
Another question I get very often and I actually got it
this morning, or I didn't get it but the people in one

00:38:31.880 --> 00:38:37.869
of the other sessions this morning got it is, Well
this entire synchronization thing sounds really great

00:38:37.869 --> 00:38:46.079
and I'd like to use it, but all of my users
already have a laptop and they have local accounts.

00:38:46.079 --> 00:38:53.759
And I would like to take that data and
move it to be a portable home directory.

00:38:53.760 --> 00:39:02.760
So I'm going to use Tony's admin account that's on an
external drive and show how you can promote a local user

00:39:02.760 --> 00:39:06.110
to a mobile account or even a portable home directory.

00:39:06.110 --> 00:39:09.900
Since we wanted to show you the completely
empty login window earlier in the demo,

00:39:09.900 --> 00:39:14.240
I don't actually have a local account,
so I need to create one

00:39:14.239 --> 00:39:21.039
And as usual, when you quickly need to create a
user, you have to think of a name very quickly.

00:39:21.039 --> 00:39:24.739
Steve Hamon flashed over my slide earlier, so I can use...

00:39:24.739 --> 00:39:25.139
>> [Tony] Do an anagram.

00:39:25.139 --> 00:39:28.730
>> [Armin] You think I should do an anagram of that?

00:39:28.730 --> 00:39:31.980
Let's see, Steve Hamon used an anagram on Sal yesterday.

00:39:31.980 --> 00:39:33.849
Coincidently, I have a file here...

00:39:33.849 --> 00:39:36.349
[ Laughter ]

00:39:36.349 --> 00:39:43.699
[ Applause ]

00:39:43.699 --> 00:39:50.269
>> Honestly, when I look at these, I don't know, it
may be my English, but I don't think we can use these.

00:39:50.269 --> 00:39:53.900
Oh, this one is great, "have amnesty."

00:39:53.900 --> 00:39:55.269
That's fitting.

00:39:55.269 --> 00:39:57.349
So...

00:39:57.349 --> 00:39:59.349
[ Laughter ]

00:39:59.349 --> 00:40:00.849
>> [Tony] [inaudible]

00:40:00.849 --> 00:40:06.440
[ Laughter ]

00:40:06.440 --> 00:40:13.460
>> So I'm creating a local account and now I'm assuming that
this local account will live on this machine for a while

00:40:13.460 --> 00:40:16.289
to create data, put everything in the home directory.

00:40:16.289 --> 00:40:24.559
We'll just work with that for a while, and
I can go in and I can do an ID on that user.

00:40:24.559 --> 00:40:28.610
And it has a UID of 501 because
this was a completely empty machine.

00:40:28.610 --> 00:40:33.930
So it's probably a local user, that's
always a nice way of checking this.

00:40:33.929 --> 00:40:42.549
I can go into the user's account and see that this
is my Home folder obviously as we'd expect it to be.

00:40:42.550 --> 00:40:45.320
So this has worked for a while
and then now I want to change this

00:40:45.320 --> 00:40:49.590
into a network managed mobile or portable home directory.

00:40:49.590 --> 00:40:53.700
And actually the UI helps me with
that, it's really not that difficult.

00:40:53.699 --> 00:40:58.409
When I go in and delete the local account,
because that's obviously the first thing I need

00:40:58.409 --> 00:41:01.690
to do to make room for the network account.

00:41:01.690 --> 00:41:08.530
It will give me the option of what I want to do with
home directory, do I want to archive it in a disk image,

00:41:08.530 --> 00:41:13.960
do I just don't want to change the Home folder,
don't touch it, or do I want to delete the folder?

00:41:13.960 --> 00:41:18.429
In this case I want to select don't
change the Home folder and I say, OK,

00:41:18.429 --> 00:41:27.190
and it will remove the user directory database, but it
will leave the home directory more or less untouched.

00:41:27.190 --> 00:41:33.349
If I go in and do the LS again, I see that it added
the deleted word to the Home folder just to notify me

00:41:33.349 --> 00:41:37.139
that this is an inactive Home folder,
and I don't want to use that.

00:41:37.139 --> 00:41:43.109
So this is the first thing I want to change, I want
to rename the Home folder, well the first thing I want

00:41:43.110 --> 00:41:47.190
to check is I need obviously to
prepare my network home directory.

00:41:47.190 --> 00:41:53.119
So coincidentally if I do an ID on amnesty right
now, I actually have a network user account,

00:41:53.119 --> 00:42:03.630
you can see it's a 1030 ID, this is hosted on my server, and
this is ready to swoop in and be the mobile for this user.

00:42:03.630 --> 00:42:21.269
So I need to adapt the Home folder name - oh wait - to
match the short name of the user, and I need to make sure -

00:42:21.269 --> 00:42:24.800
because I can see up here now that
this Home folder is orphaned.

00:42:24.800 --> 00:42:29.780
The owner is the user ID 501, this is
an orphan folder, nobody really owns it.

00:42:29.780 --> 00:42:37.000
And when the user amnesty logs in, the network user
amnesty now, I want that to take over possession

00:42:37.000 --> 00:42:39.380
of the Home folder, I need to prepare the Home folder.

00:42:39.380 --> 00:42:42.090
And that's it, that's all I have to do.

00:42:42.090 --> 00:42:44.829
I've prepared the Home folder with the existing data.

00:42:44.829 --> 00:42:47.380
And please do a backup of this before you
start messing around with a user's data.

00:42:47.380 --> 00:42:49.410
[ Laughter ]

00:42:49.409 --> 00:42:59.329
>> But I've prepared the Home folder to be converted into
a mobile account, and I if I now logout and log back in,

00:42:59.329 --> 00:43:09.630
the login as amnesty - have amnesty, the system will
detect that there's an existing Home folder and it's primed

00:43:09.630 --> 00:43:13.920
for this user, and it will just take that
and stop the synchronization process.

00:43:13.920 --> 00:43:20.340
Now if you have data - hang on

00:43:24.260 --> 00:43:31.980
If you have data on both the server and the client,
this will generate a ton of synchronization conflicts,

00:43:31.980 --> 00:43:36.820
so you'll probably want to find a solution
around that, and make sure that either the server

00:43:36.820 --> 00:43:39.190
or the client is empty before you attempt that.

00:43:39.190 --> 00:43:44.510
In this case, I'm getting the dialogue, we can suppress the
dialogue with Manage Client, but I'm just going to go ahead

00:43:44.510 --> 00:43:48.450
and say I want to do a mobile account,
and it will now connect to the server

00:43:48.449 --> 00:43:52.849
and start the first synchronization process.

00:43:52.849 --> 00:44:00.529
With that, I'm going to hand it over to Dave Douglas, who
is a systems engineer for Southern California Education,

00:44:00.530 --> 00:44:04.620
and he has a small school district
he wants to talk about with us today.

00:44:04.619 --> 00:44:05.349
>> [Dave] Thanks, Armin.

00:44:05.349 --> 00:44:07.000
[ Applause ]

00:44:07.000 --> 00:44:07.849
>> Great job.

00:44:07.849 --> 00:44:10.819
[ Applause ]

00:44:10.820 --> 00:44:13.660
>> Thanks for not singing, it'll work.

00:44:13.659 --> 00:44:15.969
[ Laughter ]

00:44:15.969 --> 00:44:23.109
>> So we've gotten a great overview about
home directory strategies and theories.

00:44:23.110 --> 00:44:27.559
I'd like to take a minute to try to put
a face to different folks and customers

00:44:27.559 --> 00:44:32.380
that have been leveraging these technologies,
and some of the specific reasons why.

00:44:32.380 --> 00:44:40.640
I do manage this school district in Los Angeles, it's the
second largest in the country, second largest by population,

00:44:40.639 --> 00:44:45.710
largest in geography, we take in
at least 1,000 units every month.

00:44:45.710 --> 00:44:51.530
And as we're seeing all these systems come in the
management style, it's completely up to each school

00:44:51.530 --> 00:44:56.190
to determine how they're going to implement
the technology, how they're going to choose

00:44:56.190 --> 00:44:58.420
which technical coordinator is going to do that.

00:44:58.420 --> 00:45:02.950
Some schools are Active Directory, some schools
are running Open Directory, some are unmanaged.

00:45:02.949 --> 00:45:06.929
And so as we looked at different things
that were going on, we wanted to go ahead

00:45:06.929 --> 00:45:09.329
and profile some of the different environments.

00:45:09.329 --> 00:45:13.699
Now again, these are all different education sites,
but I hope as you look at these different settings

00:45:13.699 --> 00:45:19.419
and the reasonings behind them, you'll see
potential linkings between maybe your organization

00:45:19.420 --> 00:45:23.150
that may not be education, but the
relevancy to how it can help your users

00:45:23.150 --> 00:45:26.780
because ultimately these home directories are here for them.

00:45:26.780 --> 00:45:28.480
So I'll go ahead and go to the next slide.

00:45:28.480 --> 00:45:30.619
[ Laughter ]

00:45:30.619 --> 00:45:31.449
>> Thank you, Steve.

00:45:31.449 --> 00:45:33.419
Tony, you've got to take more care of these slides.

00:45:33.420 --> 00:45:35.510
[ Laughter ]

00:45:35.510 --> 00:45:36.970
>> All right, so guest accounts.

00:45:36.969 --> 00:45:40.539
So you know a lot of different guest accounts,
don't really need to go into much more detail.

00:45:40.539 --> 00:45:45.509
Specifically, the school that we were seeing
a lot of success, one of many different ones,

00:45:45.510 --> 00:45:50.590
is a school called Wilmington Middle School, we've got
2200 students, three XServes running the infrastructure,

00:45:50.590 --> 00:45:55.289
about 400 Macs, and a mix of wired and
wireless network, but that's kind of normal,

00:45:55.289 --> 00:45:58.389
What's special about this particular school?

00:45:58.389 --> 00:46:02.989
At Wilmington we have a huge growing thriving
community both of parents and folks living

00:46:02.989 --> 00:46:05.029
around the school that do not speak English.

00:46:05.030 --> 00:46:08.640
And as they come to drop off their kids and other things,

00:46:08.639 --> 00:46:11.670
they all of a sudden recognize all the
resources and infrastructure that's there.

00:46:11.670 --> 00:46:17.289
And so the school has gone ahead and adopted an
English language learning school that's after hours.

00:46:17.289 --> 00:46:21.449
And so if we have parents or grandparents
or other folks coming in,

00:46:21.449 --> 00:46:24.759
the school has decided to service these
folks and help them learn English.

00:46:24.760 --> 00:46:28.800
Of course when they're doing this work we want
to purge what they've done after the fact,

00:46:28.800 --> 00:46:32.400
and so the guest account is a nice solid fit.

00:46:32.400 --> 00:46:35.740
To manage the experience of course,
we're leveraging Workgroup Manager

00:46:35.739 --> 00:46:38.179
and all the different pieces of Managed Preferences.

00:46:38.179 --> 00:46:42.549
As we were going through different
configurations last year during our config time,

00:46:42.550 --> 00:46:46.890
we didn't know about this guest account feature and
the multiple guest accounts, so what we'll be looking

00:46:46.889 --> 00:46:53.069
at doing this summer as we look at refreshing the rollout
is specifically looking at using the mobile accounts

00:46:53.070 --> 00:46:56.840
with an expiration set of zero so that
we can have different user experiences

00:46:56.840 --> 00:47:03.180
so that we can manage having a different doc
setting, even potentially having different languages

00:47:03.179 --> 00:47:07.849
so that we can have the operating system run in this
language or that language, and be able to manage all of that

00:47:07.849 --> 00:47:14.319
without having to be burdened by the single
computer group and the single guest account.

00:47:14.320 --> 00:47:15.039
Mobile accounts.

00:47:15.039 --> 00:47:17.800
Again, we've had plenty of background on mobile accounts.

00:47:17.800 --> 00:47:20.380
The school I wanted to talk about
in terms of the actual usage

00:47:20.380 --> 00:47:24.730
of mobile accounts is King Middle School,
we've got 2500 students, 750 Macs.

00:47:24.730 --> 00:47:32.460
We have 400 students in a magnet program focusing
on math and science, and they're working on carts.

00:47:32.460 --> 00:47:38.130
The network is wired and wireless, but they only have
two XServes, and the network is fairly slow and limited.

00:47:38.130 --> 00:47:42.470
And as we looked at the different solutions, it ultimately
came to a decision that mobile accounts were going to fit,

00:47:42.469 --> 00:47:46.199
and that was ultimately because of speed.

00:47:46.199 --> 00:47:50.399
I know all of us have been reading, we're
doing our Twitter, our Facebook, and email,

00:47:50.400 --> 00:47:57.760
and our own level of attention deficit disorder is getting
incredibly high, and every second feels like two minutes.

00:47:57.760 --> 00:48:03.460
And this can have a real impact to the learning
environment, and our users have less and less patience.

00:48:03.460 --> 00:48:08.980
So how do we serve users to get them in and learning
or getting them productive as quickly as possible?

00:48:08.980 --> 00:48:12.460
And so the mobile account really ended up being a win here.

00:48:12.460 --> 00:48:19.059
Not only do we of course get that ability to get them in and
learning quickly, but we still get all the directory help.

00:48:19.059 --> 00:48:22.880
We can manage the passwords, we can
even manage acceptable use policies.

00:48:22.880 --> 00:48:27.200
If you're not authorized to use the
machines, you can't use them until then.

00:48:27.199 --> 00:48:29.299
We still have all that flexibility.

00:48:29.300 --> 00:48:34.470
Of course we're not leveraging synchronization, and
so in this case here, our data is somewhat at risk

00:48:34.469 --> 00:48:38.419
because they were just sitting on that machine,
I have to visit that machine each time.

00:48:38.420 --> 00:48:44.519
If I do cross between different systems, I've got to take
advantage of their USB thumb drive or I've got to go ahead

00:48:44.519 --> 00:48:48.509
and use the file servers to move data back and forth.

00:48:48.510 --> 00:48:55.920
The nice part of course is that if the system were
to go offline, we were doing something in the field,

00:48:55.920 --> 00:49:00.030
doing science work, we don't have to
worry about the network going down.

00:49:00.030 --> 00:49:02.210
Redirected accounts.

00:49:02.210 --> 00:49:09.000
Redirected accounts has been very popular for a
major switch for schools, it's a big win for us.

00:49:09.000 --> 00:49:14.769
In 2008 summertime, we ended up going ahead
and it was a full wholesale platform change.

00:49:14.769 --> 00:49:20.809
We ended up getting 550 Macs and all the PCs
went out, and it was time to switch platforms.

00:49:20.809 --> 00:49:23.730
So you can imagine all the different
challenges and concerns about Oh,

00:49:23.730 --> 00:49:25.960
how am I going to do this, what are the different choices?

00:49:25.960 --> 00:49:28.599
We have 2400 students to take care of.

00:49:28.599 --> 00:49:33.400
The implementation is almost all
wired, but some pockets are wireless.

00:49:33.400 --> 00:49:37.769
And we have five XServes to go ahead
and try and power this infrastructure.

00:49:37.769 --> 00:49:41.130
So why did redirected accounts work for them?

00:49:41.130 --> 00:49:49.240
Well they're coming from Windows, and there's a lot of
different challenges in this bit tectonic style of change.

00:49:49.239 --> 00:49:55.339
How do we make this comfortable for them as they're
trying to work through all the different challenges,

00:49:55.340 --> 00:50:00.530
professional development, helping all of the
different people deal with this big change.

00:50:00.530 --> 00:50:05.370
Redirected accounts of course makes it very
comfortable for the Windows admin who had

00:50:05.369 --> 00:50:10.420
to learn a whole new language essentially
in terms of server management.

00:50:10.420 --> 00:50:14.610
When we look at our Windows profile and our Mac home
directory, there are some distinct differences of course.

00:50:14.610 --> 00:50:20.539
Most of us, if we've have any exposure or deal with
actively managing Windows systems, we understand the concept

00:50:20.539 --> 00:50:24.159
of Windows profile, and we have a My Documents folder.

00:50:24.159 --> 00:50:28.349
With the Windows profile of course, I've got
maybe My Desktop folder, preferences and settings

00:50:28.349 --> 00:50:31.349
and quite often in Windows deployments
are disposable, we throw them away.

00:50:31.349 --> 00:50:34.059
If they're local to that system,
then we'll just keep purging those.

00:50:34.059 --> 00:50:38.279
Of course, at the same time we're going to map
that Z drive or R drive and we're going to have

00:50:38.280 --> 00:50:42.120
that My Documents folder mapped so that if I
needing, you know, everything that they're going

00:50:42.119 --> 00:50:43.909
to do, their My Documents folder is there.

00:50:43.909 --> 00:50:49.920
Of course in Mac OS X it's all inclusive in
the giant umbrella of the one home directory.

00:50:49.920 --> 00:50:55.869
With redirected accounts of course, we can provide
that same type of experience where we can move things

00:50:55.869 --> 00:51:01.710
like library Safari caches, put that into a disposable
location while making sure that everything that is supposed

00:51:01.710 --> 00:51:05.380
to be on the server from the Windows admin
perspective is right where it belongs.

00:51:05.380 --> 00:51:10.050
So My Desktop, My Documents folder, those
are on the server as they should be.

00:51:10.050 --> 00:51:12.740
We didn't want to forfeit the ability iLife.

00:51:12.739 --> 00:51:15.259
So as we looked at OK, what are we going to do?

00:51:15.260 --> 00:51:21.730
we went ahead and moved these media folders
to Users/Shared and then the %@ sign.

00:51:21.730 --> 00:51:25.909
That gave us an ability so that if you
did have a desire to do multi-media,

00:51:25.909 --> 00:51:28.399
go back to that system and at least you can do the media.

00:51:28.400 --> 00:51:33.349
You can deal with your video editing projects
and not have to necessarily fill the server up.

00:51:33.349 --> 00:51:38.650
And again, part of the other pieces of why we went ahead
with redirected accounts is also we didn't have to deal

00:51:38.650 --> 00:51:40.960
with the user training of conflict syncs.

00:51:40.960 --> 00:51:45.260
Because one of the things, if you think about, it's very
tempting to go to the Managed Preferences manifest -

00:51:45.260 --> 00:51:50.940
I want to say the local home always wins.

00:51:50.940 --> 00:51:55.490
In practice, I've found that typically
you're wrong about 20 percent of the time.

00:51:55.489 --> 00:51:59.129
And so it's a question of who was wrong at that time,

00:51:59.130 --> 00:52:02.420
what data got stomped on that really
didn't need to be stomped on.

00:52:02.420 --> 00:52:06.450
So something to be weary of if we go
ahead and just answer that question,

00:52:06.449 --> 00:52:11.349
I'm really excited we did not have this luxury at
the Quick Look option during conflict resolution.

00:52:11.349 --> 00:52:16.589
I think that's going to be a major
win to help us more seriously look

00:52:16.590 --> 00:52:19.789
at using the synchronization of portable homes.

00:52:19.789 --> 00:52:22.670
Talking about portable homes, back to Wilmington.

00:52:22.670 --> 00:52:28.430
This time we're talking about the 93 faculty members
here, and this is really because everything that's going

00:52:28.429 --> 00:52:33.049
on with these teachers is, they end up getting
all of the work the students are producing.

00:52:33.050 --> 00:52:38.090
So whether it be podcasts, essays, everything,
it all ends up on that teacher workstation.

00:52:38.090 --> 00:52:41.750
The teacher workstations end up going home,
these little laptops and little MacBooks.

00:52:41.750 --> 00:52:47.719
And then on top of that of course, they may need to
use something in the wired lab and have a resource,

00:52:47.719 --> 00:52:50.489
it's only available there, and they
don't want to have to move that around.

00:52:50.489 --> 00:52:53.769
So a combination of network, portable
homes, but the important thing

00:52:53.769 --> 00:52:55.679
of course is we can have everything backed up.

00:52:55.679 --> 00:52:59.529
And I want to reiterate of course,
portable homes is not a backup solution in

00:52:59.530 --> 00:53:02.530
and of itself, it's a delayed sync mirror.

00:53:02.530 --> 00:53:04.830
I delete something here, it's deleted on the server.

00:53:04.829 --> 00:53:08.400
I sure hope you had an archive, right,
because the idea is when we're dealing

00:53:08.400 --> 00:53:12.300
with backups is I need redundancy combined with an archive.

00:53:12.300 --> 00:53:19.120
So as we're looking at portable homes, it's a part of
the solution, not an exclusive solution in and of itself.

00:53:19.119 --> 00:53:22.609
Finally, I want to talk about external accounts.

00:53:22.610 --> 00:53:27.930
This is a very exciting opportunity that we've
been seeing specifically at Garfield High School.

00:53:27.929 --> 00:53:31.710
If anyone has seen the movie "Stand and
Deliver," this is the high school from that movie.

00:53:31.710 --> 00:53:38.349
We have 4,000 users, 330 Macs, 500
students are actively using USB thumb drives

00:53:38.349 --> 00:53:40.829
as their home directory, and they only have two XServes.

00:53:40.829 --> 00:53:43.519
[ Laughter ]

00:53:43.519 --> 00:53:44.289
>> Well why?

00:53:44.289 --> 00:53:47.699
Well it comes down to, they don't have a lot of resources.

00:53:47.699 --> 00:53:53.909
It's a Legacy network, their wireless network hasn't come
in, they're still waiting for some of their federal funds

00:53:53.909 --> 00:54:01.289
and their rollout of different pieces, and there's
no ability to make - even if they spent 15 grand

00:54:01.289 --> 00:54:06.279
on centralized storage, put 14 terabytes
in a cabinet, nobody can get to it quickly.

00:54:06.280 --> 00:54:10.550
So it ends up being a poor investment
to put the resources there.

00:54:10.550 --> 00:54:15.430
Instead, using the USB thumb drives we can go
ahead and put that storage, those gigabytes,

00:54:15.429 --> 00:54:18.389
in the student's hands and let them login.

00:54:18.389 --> 00:54:22.299
Of course at Garfield today, we've
got a couple teacher's assistants,

00:54:22.300 --> 00:54:26.670
students who are off hours, and
their job is to format thumb drives.

00:54:26.670 --> 00:54:29.010
[ Laughter ]

00:54:29.010 --> 00:54:35.060
>> I got halfway writing a script for it and then it
was like I don't know who's going to put the thumb drive

00:54:35.059 --> 00:54:39.730
in at the wrong time and format their thumb
drive, so we've decided we're just going

00:54:39.730 --> 00:54:42.130
to let the kids learn how to use
disk utility really, really well.

00:54:42.130 --> 00:54:42.820
And so...

00:54:42.820 --> 00:54:45.350
[ Laughter ]

00:54:45.349 --> 00:54:46.549
>> ...they're busily formatting those thumb drives.

00:54:46.550 --> 00:54:49.390
Obviously when we get to Snow Leopard
it's fantastic to hear that we'll be able

00:54:49.389 --> 00:54:52.389
to use FAT32 drives, so that can really help.

00:54:52.389 --> 00:54:56.969
And it really brings me to my last point
about the power of these USB external drives,

00:54:56.969 --> 00:54:59.259
especially in an environment where you're low on resources.

00:54:59.260 --> 00:55:01.700
So that's the demo here.

00:55:01.699 --> 00:55:05.159
I want to go ahead and even though I saw a bunch of hands
who have done this, there were still plenty of hands

00:55:05.159 --> 00:55:07.789
that hadn't seen this, so I think
it's still relevant to show you.

00:55:07.789 --> 00:55:13.039
When one of these students at Garfield goes ahead and
they're done for the day and they take their thumb drive

00:55:13.039 --> 00:55:17.539
with them and go home, What is the experience
of that thumb drive when I get home to my Mac?

00:55:17.539 --> 00:55:21.029
So I have my thumb drive here, I'm
going to go ahead and plug this in.

00:55:21.030 --> 00:55:23.730
Now this Mac has, I could take the time, I'm not going to,

00:55:23.730 --> 00:55:26.990
to show you that directory utility
has no concept over the server.

00:55:26.989 --> 00:55:32.049
This is a system that's out of the domain, it's not
bound, it's not even on the same physical network,

00:55:32.050 --> 00:55:40.880
and it's mimicking what you'd see
out of a system that's at home.

00:55:40.880 --> 00:55:47.360
And so now what we've found is we've found a user by the
name of Ken, he's on this external disk, and it's like,

00:55:47.360 --> 00:55:50.130
Did you want to allow this person to use this system?

00:55:50.130 --> 00:55:55.349
If I click Allow, it's going to ask me for admin
credentials, and admin credentials are the domain.

00:55:55.349 --> 00:56:01.469
The admin credentials of this iMac or MacBook
that's sitting at home in the kitchen.

00:56:01.469 --> 00:56:05.519
And so in this case I'll go ahead and
authenticate with the local admin of this unit.

00:56:05.519 --> 00:56:12.670
And with any luck here I'm going
to go ahead and see - there's Ken.

00:56:12.670 --> 00:56:14.200
And then what's the password for Ken?

00:56:14.199 --> 00:56:19.239
The password is the synchronized
cached password from my domain login.

00:56:19.239 --> 00:56:24.169
So I still have that control, so the password that I
set is still there, the Managed Preference settings

00:56:24.170 --> 00:56:30.360
that I went ahead and said that Ken's doc has to do this or
that, all of that is still intact even though I'm sitting

00:56:30.360 --> 00:56:34.890
on a USB thumb drive on a system
that knows nothing about my domain.

00:56:34.889 --> 00:56:38.460
So let me go ahead and authenticate.

00:56:39.860 --> 00:56:44.059
I've logged in, my doc is over on the
left, and I have my experience the way

00:56:44.059 --> 00:56:47.639
that I want using this USB external account.

00:56:47.639 --> 00:56:48.819
All right.

00:56:48.820 --> 00:56:55.610
[ Applause ]

00:56:55.610 --> 00:56:58.690
>> [Tony] We have Mark Malone to talk to you
on of course the Apple and training URLs.

00:56:58.690 --> 00:56:58.940
28