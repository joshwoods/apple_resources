WEBVTT

00:00:12.550 --> 00:00:16.269
>> Today, we are here to talk about the
Snow Leopard server and the setup process.

00:00:16.269 --> 00:00:18.899
And we're going to try and give you a
little bit of an under-the-hood look.

00:00:18.899 --> 00:00:21.839
To sort of tell you some of the
secret things that we're doing.

00:00:21.839 --> 00:00:26.820
Maybe not too secret, but some of the things you're doing
when you click that button and we go set up 45 processes.

00:00:26.820 --> 00:00:29.560
So just to give you sort of an inside look there.

00:00:29.559 --> 00:00:32.119
I'm Eric Firestone.

00:00:32.119 --> 00:00:34.039
I'm a Software Engineer for the server team.

00:00:34.039 --> 00:00:35.199
And this is Josh Durham.

00:00:35.200 --> 00:00:37.440
He's a QA Engineer.

00:00:37.439 --> 00:00:40.640
And so let's get started.

00:00:41.649 --> 00:00:46.070
So just to introduce you to this little presentation
we're going to explore some of the setup options,

00:00:46.070 --> 00:00:51.719
and just sort of go through some of the new
features and what we've got going there.

00:00:51.719 --> 00:00:58.219
Those new features are stuff that we've added in Snow
Leopard or refined from Leopard in previous installs.

00:00:58.219 --> 00:01:02.359
And again, like I said we're going to try and show you
a little bit of what we do when you check that checkbox

00:01:02.359 --> 00:01:06.370
and sort of give you an idea of what
processes we take advantage of for you.

00:01:06.370 --> 00:01:09.710
So to be specific we're going to go through networking.

00:01:09.709 --> 00:01:11.809
AirPort base station setup.

00:01:11.810 --> 00:01:15.150
DNS. And here they are.

00:01:15.150 --> 00:01:21.880
So one goal of Snow Leopard server is to sort
of be there when you need it to help you along,

00:01:21.879 --> 00:01:24.250
and stay out of your way when you don't want it there.

00:01:24.250 --> 00:01:29.129
So a Snow Leopard server is a great solution
for small business and for larger IT solutions.

00:01:29.129 --> 00:01:33.500
We have three kinds of scenarios that we
look at which are the bigger IT solutions.

00:01:33.500 --> 00:01:37.790
We have multiple X servers in a rack and you're
maybe hooked up to some RAIDs and all that fun stuff.

00:01:37.790 --> 00:01:42.340
And then we have some smaller solutions too such
as a, just a small kind of business solution

00:01:42.340 --> 00:01:46.659
where you're behind an AirPort and you're
in your small office and that's about it.

00:01:46.659 --> 00:01:51.590
Or a workgroup solution which is where you're
a small group inside of a larger organization.

00:01:51.590 --> 00:01:53.850
So you'll see a little bit of that as we go through it.

00:01:53.849 --> 00:01:57.479
And I'll talk a little bit about
how that's changed since Leopard.

00:01:57.480 --> 00:02:02.060
So again, this is all the stuff that you're
going to see if you go down the right path.

00:02:02.060 --> 00:02:04.140
There's about 45 of those.E

00:02:04.140 --> 00:02:05.709
You'll usually only see about 7 of them.

00:02:05.709 --> 00:02:09.400
And again, this is just the idea that you're only going to
see what you need, and we're going to help you along based

00:02:09.400 --> 00:02:12.900
on what your machine configuration
is-- your network configuration is.

00:02:12.900 --> 00:02:18.510
We kind of pick out a lot of things for you
to try and keep that as simple as possible.

00:02:18.509 --> 00:02:23.789
So let's go through some of the
installation and setup options.

00:02:23.789 --> 00:02:26.709
We have moved from Leopard.

00:02:26.710 --> 00:02:31.960
We moved the remote install and
remote setup browsers to Server Admin.

00:02:31.960 --> 00:02:35.969
So most of you guys are using Server Admin to
kind of manage all of your machines anyway.

00:02:35.969 --> 00:02:39.580
So when you want to add a new machine
this is sort of the logical place to go.

00:02:39.580 --> 00:02:44.590
And we have these two new items up at the top
here called Ready For Install and Ready For Setup.

00:02:44.590 --> 00:02:48.960
And so those when you click them are going to be these
browser views of all the things on your local network

00:02:48.960 --> 00:02:51.659
that are either ready to be installed or ready for setup.

00:02:51.659 --> 00:02:55.030
And specifically the ones that are Ready
For Install is anything that are anything

00:02:55.030 --> 00:02:57.550
on that language chooser in the install CD.

00:02:57.550 --> 00:03:02.260
And Ready For Setup is anything that's sitting on the
region chooser, the first panel of Server Assistant.

00:03:02.259 --> 00:03:07.129
So this is what you'd get if you go
ahead and double click one of those guys

00:03:07.129 --> 00:03:09.069
in Server Admin and want to do a remote install.

00:03:09.069 --> 00:03:11.789
And I'm just going to run through
sort of this real quick process.

00:03:11.789 --> 00:03:13.599
It's changed a little bit since Snow Leopard.

00:03:13.599 --> 00:03:14.930
Mostly just cleanup.

00:03:14.930 --> 00:03:16.780
Or since Leopard.

00:03:16.780 --> 00:03:17.689
So you'd go ahead and do this.

00:03:17.689 --> 00:03:20.919
It would fill in the address for you, and
then you're going to add the password in.

00:03:20.919 --> 00:03:25.119
The password's going to be your
hardware serial number from the machine.

00:03:25.120 --> 00:03:26.120
You're going to move forward.

00:03:26.120 --> 00:03:27.509
We got a nice disc picker.

00:03:27.509 --> 00:03:31.189
This is very similar to the local one and easy to use.

00:03:31.189 --> 00:03:35.509
We've added a couple little enhancements
here from the local one.

00:03:35.509 --> 00:03:42.769
So we've heard some complaints from the IT people that
it's too easy to silent the upgrade in the existing system.

00:03:42.770 --> 00:03:45.810
So we try and help you out a little
bit with this remote installer.

00:03:45.810 --> 00:03:49.900
And what's going to happen is you're going to get
a sheet that says, There's already a system there.

00:03:49.900 --> 00:03:51.730
Are you sure you want to upgrade?

00:03:51.729 --> 00:03:55.369
And so if you don't want to upgrade, we
also give you this very handy Erase option.

00:03:55.370 --> 00:04:00.000
Again, this is remote so you can't just run
Disc Utility because that's not a remote app.

00:04:00.000 --> 00:04:01.340
So you would just go ahead and hit Erase.

00:04:01.340 --> 00:04:04.450
You're going to get another sheet that asks
you pretty much the one thing you want to know,

00:04:04.449 --> 00:04:06.489
which is, What do you want to name this thing?

00:04:06.490 --> 00:04:07.400
So you would click that.

00:04:07.400 --> 00:04:08.000
Hit Erase.

00:04:08.000 --> 00:04:12.189
It's going to erase the volume for you, and
then throw you back to that main screen.

00:04:12.189 --> 00:04:13.770
You're going to pick your volume.

00:04:13.770 --> 00:04:15.800
Move forward, and you're off with your install.

00:04:15.800 --> 00:04:19.920
So it's a very simple process and it's
got a couple nice little enhancements.

00:04:19.920 --> 00:04:22.660
One other thing that's very handy on this panel.

00:04:22.660 --> 00:04:27.200
If you right click on any of these volumes, you can
go ahead and bring up that Erase panel immediately.

00:04:30.350 --> 00:04:34.510
So eventually, you'll have it installing
and you're off on your way.

00:04:34.509 --> 00:04:40.389
So the other nice thing here is that if you want to install
the multiple machines you can open up multiple windows.

00:04:40.389 --> 00:04:42.759
So you would just go back to Server
Admin, double click another server.

00:04:42.759 --> 00:04:46.459
It's going to pop up another window for you, and
you can go ahead and start that whole process over.

00:04:46.459 --> 00:04:50.639
So for installs, there's only a couple
steps and none of them are really the same.

00:04:50.639 --> 00:04:55.569
So there's no point in choosing one volume and
say, OK, install that volume on 30 machines0

00:04:55.569 --> 00:04:57.480
because the volumes are all going to be different.

00:04:57.480 --> 00:05:00.879
So for remote installs you're going
to get a whole bunch of windows,

00:05:00.879 --> 00:05:05.019
and you just go through those three steps really
quickly and they can all run simultaneously.

00:05:05.019 --> 00:05:10.299
For remote setups, it is actually useful to say,
I want to configure all these machines the same,

00:05:10.300 --> 00:05:12.670
and we'll go into that a little bit in a second.

00:05:12.670 --> 00:05:17.390
So you can do a whole bunch of these windows
and just let them all install simultaneously.

00:05:17.389 --> 00:05:21.610
Once they're finished you can close down Server
Assistant and all your machines will be great.

00:05:21.610 --> 00:05:24.389
So let's look at that remote setup a little bit.

00:05:24.389 --> 00:05:27.139
You have-- here you can multi-select.

00:05:27.139 --> 00:05:32.579
So like I was saying, it's sometimes useful to install
to multiple machines with the same configuration at once.

00:05:32.579 --> 00:05:36.300
So you can go ahead and multiply
select, you know, 3 or 4 or 7 machines.

00:05:36.300 --> 00:05:38.840
And go ahead and hit that Setup
button down on the bottom there.

00:05:38.839 --> 00:05:44.060
And what that's going to do is throw you into
the setup process for all those machines.

00:05:44.060 --> 00:05:47.009
You can go ahead and add the password
or serial number to all those machines.

00:05:47.009 --> 00:05:51.180
And then as you go through the setup, it's going to
act like you're setting up pretty much one server.

00:05:51.180 --> 00:05:53.540
But in the end, it's actually going
to set all of those up the same.

00:05:53.540 --> 00:05:55.340
So this is great for, you know, clusters.

00:05:55.339 --> 00:05:57.719
We're going to have a whole bunch
of nodes that are all the same.

00:05:57.720 --> 00:06:01.770
Anywhere where you want to install it to a bunch of
machines would basically be the same configuration.

00:06:01.769 --> 00:06:05.959
And again, just like the remote install, if you
want to do completely different setups you can open

00:06:05.959 --> 00:06:10.899
up multiple windows and install kind of one at a time.

00:06:10.899 --> 00:06:16.229
So let's talk about some of the new features that you're
going to see in both the local setup and the remote setup.

00:06:16.230 --> 00:06:23.160
So one nice change from Leopard here is that the
remote case and the local case are almost identical.

00:06:23.160 --> 00:06:25.040
We go through the same pathway.

00:06:25.040 --> 00:06:32.010
Before, we used to use SSH to do the remote setup and just,
you know, kind of local disc stuff for the local installs.

00:06:32.009 --> 00:06:36.420
So here now we go through Server Manager D
for everything, which is the same mechanism

00:06:36.420 --> 00:06:38.460
that Server Preferences and Server Admin uses.

00:06:38.459 --> 00:06:44.089
So it's the same code path, the same everything, and it's
going to be the very same experience, remote or local.

00:06:44.089 --> 00:06:48.959
So we can go ahead and just kind
of go through that setup here.

00:06:48.959 --> 00:06:53.629
And one other thing to point out here is that we've
gone-- we've done away with the configuration silos.

00:06:53.629 --> 00:06:56.149
So I talked about our three scenarios that we have.

00:06:56.149 --> 00:07:00.469
The advanced kind of IT solution, and then
we have the standard small business solution,

00:07:00.470 --> 00:07:04.870
and the workgroup which is, you know,
part of a larger corporation solution.

00:07:04.870 --> 00:07:07.300
And so in Leopard these were very distinct things.

00:07:07.300 --> 00:07:11.750
If you had standard or workgroup kind
of small business configurations,

00:07:11.750 --> 00:07:14.560
you would be using Server Preferences
for most of your stuff.

00:07:14.560 --> 00:07:17.030
And for the larger solutions, you're using Server Admin.

00:07:17.029 --> 00:07:20.309
And it sort of kept you away from switching back and forth.

00:07:20.310 --> 00:07:24.870
So we've done a really-- we've put a lot of
effort into getting rid of that for Snow Leopard.

00:07:24.870 --> 00:07:29.889
We've tried to make it so that you can actually
go ahead and use either of those at any time.

00:07:29.889 --> 00:07:32.329
It's not going to say, you know, You're on a small solution.

00:07:32.329 --> 00:07:34.539
Go stay away from Server Admin.

00:07:34.540 --> 00:07:36.180
Or, Are you really sure you want to use this?

00:07:36.180 --> 00:07:37.790
It's kind of a big, heavy tool.

00:07:37.790 --> 00:07:41.680
And then before, we would completely lock you
out of Server Preferences, which is a great tool.

00:07:41.680 --> 00:07:43.750
It does a lot of stuff for you.

00:07:43.750 --> 00:07:48.350
You know, when you click on in Server Preferences it's
going to make sure everything's set up nicely for you.

00:07:48.350 --> 00:07:51.120
So that's a great tool even for the advanced administrator.

00:07:51.120 --> 00:07:53.899
And they really wanted to use Server
Preferences, so we've kind of done that.

00:07:53.899 --> 00:07:55.889
There's no more silos.

00:07:55.889 --> 00:08:03.039
And-- thank you-- and so of course, the setup
process has to reflect that a little bit,

00:08:03.040 --> 00:08:04.560
and I'll talk about that a little bit more.

00:08:04.560 --> 00:08:09.579
But you won't-- you will no longer get that choice
of are you a standard workgroup or advanced server?

00:08:09.579 --> 00:08:11.789
You're going to just do normal setup.

00:08:11.790 --> 00:08:15.100
And again, we're going to try and help
along based on what your configuration is.

00:08:15.100 --> 00:08:18.170
But it's really sort of one server again.

00:08:18.170 --> 00:08:20.890
It's not two different ones.

00:08:20.889 --> 00:08:24.789
So this is one of our new features, and this is very cool.

00:08:24.790 --> 00:08:27.750
This is migration from an existing volume.

00:08:27.750 --> 00:08:31.120
And so we've always had the upgrade
case but this is actually migration,

00:08:31.120 --> 00:08:34.100
so you're pulling from another volume on the system.

00:08:34.100 --> 00:08:40.100
And we have a couple little things that are
happening behind the scenes here that I can show you.

00:08:40.100 --> 00:08:43.810
So let's get a look under the hood there.

00:08:43.809 --> 00:08:47.199
And so again, I said you can transfer
from an existing server.

00:08:47.200 --> 00:08:50.990
This has one big advantage over Upgrade, and that's
that it's not going to touch that other volume.

00:08:50.990 --> 00:08:52.779
It's a read-only operation.

00:08:52.779 --> 00:08:57.399
And this is great for replacing old servers with new ones.

00:08:57.399 --> 00:09:01.480
So if you have like an old server on the rack and
you want to get, you know, a shiny new Intel one,

00:09:01.480 --> 00:09:03.210
you can go ahead and pull the old one out.

00:09:03.210 --> 00:09:05.129
Plug it in with FireWire disc mode.

00:09:05.129 --> 00:09:11.009
Transfer all those settings, and plug that new one right
into the rack and you're good to go in about 5, 10 minutes.

00:09:11.009 --> 00:09:17.179
So one thing to point out is that unlike in the local
case or in the client case, this is a onetime operation.

00:09:17.179 --> 00:09:22.259
So you're going to get the chance to migrate here, and then
we don't have the migration system like we do in the client.

00:09:22.259 --> 00:09:27.009
It's sort of a one shot thing like I was saying.

00:09:27.009 --> 00:09:31.340
So if you go ahead and say, Yes, I want to migrate,
this is the kind of thing that you're going to see.

00:09:31.340 --> 00:09:35.200
So it'll find all the volumes that
are locally attached to your server.

00:09:35.200 --> 00:09:38.800
And it'll tell you what the versions
are and that kind of stuff.

00:09:38.799 --> 00:09:42.349
If you mouse over these, it'll give
you a full path to what that volume is.

00:09:42.350 --> 00:09:50.220
And you notice a couple of caution icons there and there
are a few restrictions, so I'm going to go into those.

00:09:50.220 --> 00:09:55.410
But first let's talk a little bit about what it's
actually-- what, you know, what we can transfer from.

00:09:55.409 --> 00:09:58.600
So you could do it from any directly attached volume.

00:09:58.600 --> 00:10:00.120
We don't want any new network volumes.

00:10:00.120 --> 00:10:03.629
It's really sort of a find-and-replace
operation, so you want to.

00:10:03.629 --> 00:10:07.960
This is sort of for replacing an existing server that's
on your rack, and you want to put a newer one in there.

00:10:07.960 --> 00:10:10.259
Or something else died and you
want to put a new one in there.

00:10:10.259 --> 00:10:15.879
So you can FireWire disc mode any of those old servers
right into this one and transfer from another machine.

00:10:15.879 --> 00:10:16.909
No problem.

00:10:16.909 --> 00:10:21.329
Or if you have, you know, the drive you can
just slide it into one of the drive bays.

00:10:21.330 --> 00:10:22.770
So it'll do that.

00:10:22.769 --> 00:10:26.449
It'll do anything from X.4, X.5, or X.6, so Tiger upwards.

00:10:26.450 --> 00:10:30.390
And that is X.6, so you can transfer
from one X.6 server to another.

00:10:30.389 --> 00:10:34.110
We can do it from Time Machine backups, which is very cool.

00:10:34.110 --> 00:10:39.090
And that'll do X.5 and X.6 since
Time Machine wasn't there in Tiger.

00:10:39.090 --> 00:10:43.629
And like I said there are a couple restrictions
which are what those caution icons are.

00:10:43.629 --> 00:10:45.710
So it needs to be from the same host name.

00:10:45.710 --> 00:10:49.210
Again, this is a network replacement
as far as your network is concerned.

00:10:49.210 --> 00:10:50.190
You're taking one server out.

00:10:50.190 --> 00:10:50.970
Putting a new one in.

00:10:50.970 --> 00:10:51.950
So you need to replace.

00:10:51.950 --> 00:10:53.129
You need to have a drive that had.

00:10:53.129 --> 00:10:59.649
That was configured with that same host name as your--
as the volume, the server that you want to set up.

00:10:59.649 --> 00:11:02.340
And we don't support dynamic network addresses.

00:11:02.340 --> 00:11:06.340
Because again, once you-- if you have a DHDP
address as soon as you put that new server

00:11:06.340 --> 00:11:09.050
in there you might get a completely
different DHDP address than your old server.

00:11:09.049 --> 00:11:11.189
So we really only support the manual address case.

00:11:11.190 --> 00:11:15.340
But you can go ahead and go reconfigure
your old server to have that manual address.

00:11:15.340 --> 00:11:17.690
Plug it back in and do that very easily.

00:11:17.690 --> 00:11:22.100
And this list does dynamically update, so you can
go ahead and pull the server, plug it in any time.

00:11:22.100 --> 00:11:25.470
You don't have to reboot your machine
that you're setting up.

00:11:25.470 --> 00:11:31.110
And finally, we don't support advanced Time Machine backups
from Leopard, so you have the standard workgroup advanced.

00:11:31.110 --> 00:11:35.100
And we don't support the advance case there,
but you can go ahead and install the server.

00:11:35.100 --> 00:11:37.009
You can connect the server directly.

00:11:37.009 --> 00:11:37.980
No problem.

00:11:37.980 --> 00:11:40.580
It's just the Time Machine backups
that we can't transfer from.

00:11:40.580 --> 00:11:43.780
Standard workgroup worked great.

00:11:43.779 --> 00:11:47.529
So this is another kind of refined feature.

00:11:47.529 --> 00:11:51.289
I just want to point out that we have a
couple of check boxes here on the bottom,

00:11:51.289 --> 00:11:53.469
and I'm going to go into some detail on those.

00:11:53.470 --> 00:11:55.040
So the rest of this is pretty standard.

00:11:55.039 --> 00:11:57.049
You're setting up an admin account.

00:11:57.049 --> 00:12:01.399
One thing that's sort of different from
Leopard here, is the admin is always local.

00:12:01.399 --> 00:12:05.689
So before, depending on which of
these install silos you had chosen,

00:12:05.690 --> 00:12:07.980
your admin might have been in the Open Directory Master.

00:12:07.980 --> 00:12:09.289
It might have been on the local disc.

00:12:09.289 --> 00:12:11.959
We had two other local users that were there.

00:12:11.960 --> 00:12:17.620
So this is sort of a simplification from Leopard
that hopefully makes things easier to understand.

00:12:17.620 --> 00:12:21.330
This admin that you're creating here is
going to always be created in the local node.

00:12:21.330 --> 00:12:22.889
It's a local admin.

00:12:22.889 --> 00:12:25.789
If you create a directory, an Open Directory Master later,

00:12:25.789 --> 00:12:28.899
then you'll get a separate Open Directory
Master and that's sort of an if thing.

00:12:28.899 --> 00:12:33.500
So, you know, if you need OD Master admin
it's there because you have an OD Master.

00:12:33.500 --> 00:12:34.649
So again, always local.

00:12:34.649 --> 00:12:36.419
You still have your root user like you always have.

00:12:36.419 --> 00:12:40.159
There's no more local admin user
with the short name Local Admin.

00:12:40.159 --> 00:12:42.589
So you just have this admin user
that you're creating and the root.

00:12:42.590 --> 00:12:46.500
And then again, if you create an Open Directory
Master you'll get a third admin for that.

00:12:46.500 --> 00:12:47.929
So that's always local.

00:12:47.929 --> 00:12:49.519
Should be a little more consistent.

00:12:49.519 --> 00:12:52.659
We have these two check boxes, like I said.

00:12:52.659 --> 00:12:56.629
So SSH and Remote Desktop are enabled
when you start your setup.

00:12:56.629 --> 00:13:01.840
So at any time during setup you want to SSH in and,
you know, debug a problem or something like that.

00:13:01.840 --> 00:13:06.050
Or you want to go ahead and set up over
screen sharing, you can do that as well.

00:13:06.049 --> 00:13:10.039
One small caveat with the screen sharing setup,
is that if you change your network accounts.

00:13:10.039 --> 00:13:10.409
Oops. Sorry.

00:13:10.409 --> 00:13:14.879
If you change your network setup, it may drop
your connection and you don't have to reconnect.

00:13:14.879 --> 00:13:16.730
Again, we have remote setup, which works great.

00:13:16.730 --> 00:13:21.750
It's pretty much the exact same thing as the local
setup and that will actually accommodate that.

00:13:21.750 --> 00:13:25.629
So if you uncheck these boxes it's going
to turn these services off at the very end

00:13:25.629 --> 00:13:27.850
of setup when it does the rest of your setup.

00:13:27.850 --> 00:13:31.370
And one other small thing to point out.

00:13:31.370 --> 00:13:33.769
We're only enabling this access for the admin groups.

00:13:33.769 --> 00:13:38.539
So we set up service ACLs so that only users
in the admin group can access these services.

00:13:38.539 --> 00:13:39.740
So you're still pretty secure.

00:13:39.740 --> 00:13:42.500
The only person that can really access it is your root user.

00:13:42.500 --> 00:13:48.409
And again, as I said they don't get
turned off until the very end of setup.

00:13:48.409 --> 00:13:53.149
So this is our Gateway panel, and some of
you have seen this, some of you haven't.

00:13:53.149 --> 00:13:54.769
Or seen the Gateway panel in Leopard.

00:13:54.769 --> 00:13:56.980
And we've made it.

00:13:56.980 --> 00:14:00.460
This is a prime example of it only shows up
when you need it and it's there to help you.

00:14:00.460 --> 00:14:03.540
So it's going to do a whole bunch of
things for you if you do enable it.

00:14:03.539 --> 00:14:06.939
But it'll only show up hopefully when you can enable it.

00:14:06.940 --> 00:14:09.510
So this is going to actually appear
before the network setup.

00:14:09.509 --> 00:14:11.819
So what happens is you'll say, Yes, I want a Gateway.

00:14:11.820 --> 00:14:16.220
And then when you get to the network setup it's
going to be preconfigured to sort of a Gateway setup.

00:14:16.220 --> 00:14:20.200
And then you kind of see exactly what settings
you're going to get and that sort of stuff.

00:14:20.200 --> 00:14:24.460
So again, it's going to appear in certain situations only.

00:14:24.460 --> 00:14:27.210
And those include when you have two connected interfaces.

00:14:27.210 --> 00:14:27.920
So you're a Gateway.

00:14:27.919 --> 00:14:31.219
You're connecting a private network
with a public network generally.

00:14:31.220 --> 00:14:33.000
So you need two connected interfaces.

00:14:33.000 --> 00:14:35.240
They both have to be plugged in.

00:14:35.240 --> 00:14:38.680
And at least one of them needs to
not be connected to a DHDP server.

00:14:38.679 --> 00:14:42.239
So when we set up our Gateway server
it's going to be its own DHDP server.

00:14:42.240 --> 00:14:46.450
If you have another on that subnet, this is for the
private subnet, then it's going to cause conflicts.

00:14:46.450 --> 00:14:51.800
So we detect that and only give you this option if
you have two connecting networks and one of them

00:14:51.799 --> 00:14:55.139
at least doesn't have an existing DHDP server.

00:14:55.139 --> 00:14:57.460
So again, like I said this does
a whole bunch of stuff for you.

00:14:57.460 --> 00:15:00.530
It's going to turn on NAT, DHDP, DNS, firewall.

00:15:00.529 --> 00:15:05.439
It's going to really create a Gateway
for you out of your server.

00:15:05.440 --> 00:15:08.180
And it's going to set up a firewall
properly so that everything

00:15:08.179 --> 00:15:11.469
on the private subnet is going to
have full access to all the services.

00:15:11.470 --> 00:15:13.000
Everything on the Internet, that sort of stuff.

00:15:13.000 --> 00:15:14.330
But then we do set it up.

00:15:14.330 --> 00:15:18.180
We turn the firewall on from the WAN interface
so you're protected from the Internet.

00:15:18.179 --> 00:15:23.539
And so this is our new network setup.

00:15:23.539 --> 00:15:27.469
And it may look familiar to many of you since
it looks just like the System Preferences one.

00:15:27.470 --> 00:15:30.040
And this was, you, they spent a lot of time designing that.

00:15:30.039 --> 00:15:33.709
And so we've tried to kind of use
that time that they put into it.

00:15:33.710 --> 00:15:36.960
Obviously, network is a very complicated
thing, so we really like this UI.

00:15:36.960 --> 00:15:39.060
It's very simple to use.

00:15:39.059 --> 00:15:43.679
And it's not quite as full featured as System Preferences,
but it should have all the basics that you need.

00:15:43.679 --> 00:15:49.539
Another thing that you're going to notice there is that
the LOM setup is an additional couple of interfaces here.

00:15:49.539 --> 00:15:53.419
So if you have Lights Out Management,
a BMC connector, you can go ahead

00:15:53.419 --> 00:15:55.759
and configure that on this network panel as well.

00:15:55.759 --> 00:15:59.200
And you can modify your admin account
with that button right there.

00:15:59.200 --> 00:16:01.210
So a couple things to point out here.

00:16:01.210 --> 00:16:05.440
You can now use AirPort and FireWire,
which you can in any previous install.

00:16:05.440 --> 00:16:08.940
And that means that if you want to turn
those off here you can do that now.

00:16:08.940 --> 00:16:12.680
If you want to those as full interfaces for
something, you can go ahead and configure those now

00:16:12.679 --> 00:16:16.099
with IP addresses, DHDP, whatever you want to do.

00:16:16.100 --> 00:16:18.180
Connect the networks as well.

00:16:18.179 --> 00:16:21.359
So again, like I said you can disable
the ones you don't want.

00:16:21.360 --> 00:16:22.470
That wasn't really an option before.

00:16:22.470 --> 00:16:25.120
We just sort of silently did it for you.

00:16:25.120 --> 00:16:31.200
And one big thing to point out here is that all the other
settings in Server Assistant are applied at the very end,

00:16:31.200 --> 00:16:33.930
so that gives you the option to kind of
go back and change any of your choices

00:16:33.929 --> 00:16:35.849
that you wanted to make throughout the setup.

00:16:35.850 --> 00:16:39.810
And we tried really hard to make sure that
you can go back and safely go forward again.

00:16:39.809 --> 00:16:41.569
And it's going to keep all your settings.

00:16:41.570 --> 00:16:43.640
You know, it's going to modify your settings appropriately.

00:16:43.639 --> 00:16:47.649
So the network setup by necessity sort of has to happen now.

00:16:47.649 --> 00:16:51.899
And this is key for setting up an Active
Directory and for getting the correct host name.

00:16:51.899 --> 00:16:53.110
For doing a whole bunch of things.

00:16:53.110 --> 00:16:54.980
We need to really configure your network now.

00:16:54.980 --> 00:16:59.590
So every time you leave this panel by going forward,
it's going to apply whatever settings you had here.

00:16:59.590 --> 00:17:01.780
You can always come back and change
them and go forward again.

00:17:01.779 --> 00:17:04.649
It'll reapply the new ones, but it does happen now.

00:17:04.650 --> 00:17:09.530
So this is where you're going to lose that VNC
connection if you do change that network setting.

00:17:09.529 --> 00:17:12.279
And you can go ahead and reconnect easily enough.

00:17:12.279 --> 00:17:15.039
But again, it happens now.

00:17:15.039 --> 00:17:19.500
So we have some very cool under the scene
stuff that happens with a remote connection.

00:17:19.500 --> 00:17:24.549
So if you're doing a remote setup and you change
your network setup, what we actually do is maintain

00:17:24.549 --> 00:17:27.129
that existing interface and sort of clone it.

00:17:27.130 --> 00:17:29.640
So to you everything looks like
exactly how you configured it.

00:17:29.640 --> 00:17:34.220
But we have an additional connection that's kept open
underneath, and we'll get rid of that at the end of setup.

00:17:34.220 --> 00:17:39.870
So that when you're going through this remote setup, it
doesn't just randomly drop your connection halfway through.

00:17:39.869 --> 00:17:41.459
The AirPort Management panel.

00:17:41.460 --> 00:17:43.000
So this is nicely enhanced from Leopard.

00:17:43.000 --> 00:17:45.329
It used to just be a sheet that asked you for a password.

00:17:45.329 --> 00:17:50.379
And this gives you a little more of a visual cue that
Hey, we're going to do some special stuff for you.

00:17:50.380 --> 00:17:51.550
And again, it's very easy.

00:17:51.549 --> 00:17:53.889
All we do is say, What is your AirPort password?

00:17:53.890 --> 00:17:55.160
And this is the management password.

00:17:55.160 --> 00:17:57.190
Not for like your wireless network.

00:17:57.190 --> 00:18:00.230
So you go ahead and check that box, add the password.

00:18:00.230 --> 00:18:03.539
And we're going to do a bunch of cool
things for you, so I'll talk about that.

00:18:03.539 --> 00:18:08.889
Again, it's only going to appear if we actually detect
that you're behind the AirPort or a Time Capsule.

00:18:08.890 --> 00:18:12.220
And it's going to set up Server
Preferences security for you,

00:18:12.220 --> 00:18:15.740
so I'm going to talk about how we even handle Server
Preferences security a little bit toward the end.

00:18:15.740 --> 00:18:22.529
But it's going to go ahead and configure that for
you to work with your Time Capsule or AirPort.

00:18:22.529 --> 00:18:25.920
And it'll automatically create a static DHDP reservation.

00:18:25.920 --> 00:18:28.740
So if you're running a server you really
don't want your IP address to change.

00:18:28.740 --> 00:18:31.009
Here we can go ahead and create
that static reservation for you

00:18:31.009 --> 00:18:33.750
so that your IP address won't change,
even if you're using a dynamic method.

00:18:33.750 --> 00:18:39.809
And finally, it's going to actually do a bunch of-- or it's
going to do some DNS configuration for you, which again,

00:18:39.809 --> 00:18:41.759
I'm going to go into some more detail about.

00:18:41.759 --> 00:18:42.849
But this is a very cool feature.

00:18:42.849 --> 00:18:48.909
This lets you really get out of the box and fully
running on your network with very little extra help.

00:18:48.910 --> 00:18:55.200
So speaking of DNS we have the Network Names
panel, and this is slightly modified from Leopard.

00:18:55.200 --> 00:18:59.269
So in Leopard, in some cases, you could edit
your host name and in some cases, you couldn't.

00:18:59.269 --> 00:19:02.289
In some cases, you always could edit your host name.

00:19:02.289 --> 00:19:05.490
Here, since we've gotten rid of these
configuration silos, we're trying.

00:19:05.490 --> 00:19:07.299
We've kind of given you both options.

00:19:07.299 --> 00:19:10.409
So if we detect that your server
has a host name on the network,

00:19:10.410 --> 00:19:12.640
we're going to go ahead and prefill it like you see here.

00:19:12.640 --> 00:19:16.390
So, you know, this is a sample
host name efiresend.apple.com.

00:19:16.390 --> 00:19:18.790
That was a pass full resolution.

00:19:18.789 --> 00:19:23.109
If I say, well, I understand that I have that but
I really want to override it into something else.

00:19:23.109 --> 00:19:24.740
Maybe I have multiple names.

00:19:24.740 --> 00:19:30.589
What we can do is hit that Edit button, and it's
going to say, Are you really sure you want to do this?

00:19:30.589 --> 00:19:34.740
Because for the small business user who
doesn't have any idea about what this is doing,

00:19:34.740 --> 00:19:37.390
it's going to, you know, cause some problems maybe.

00:19:37.390 --> 00:19:38.410
We do try and handle this.

00:19:38.410 --> 00:19:42.200
But anyway, we're going to warn you and say, Allow editing.

00:19:42.200 --> 00:19:47.390
And so if you do hit that, again you have that nice
editable field like you did in the advanced case in Leopard.

00:19:47.390 --> 00:19:48.930
So you can change this now.

00:19:48.930 --> 00:19:53.820
And what we did in the past was sort of
muck with your DNS settings under the scenes

00:19:53.819 --> 00:19:56.939
if you did change it from what matched your DNS.

00:19:56.940 --> 00:20:02.259
And we're still going to do that, but now we're going
to warn you, which is a nice little enhancement.

00:20:02.259 --> 00:20:07.170
So we're going to say, you know, that name that
you've given us doesn't match what we see in DNS.

00:20:07.170 --> 00:20:11.580
We're going to go ahead and set up something
that we call minimal DNS on the server itself.

00:20:11.579 --> 00:20:13.649
And I'll explain that.

00:20:13.650 --> 00:20:14.759
So here's minimal DNS.

00:20:14.759 --> 00:20:15.779
DNS is simple, right?

00:20:15.779 --> 00:20:16.639
You've got your cloud.

00:20:16.640 --> 00:20:17.200
You've got your ISP.

00:20:17.200 --> 00:20:18.190
Your server.

00:20:18.190 --> 00:20:19.400
A couple of clients.

00:20:19.400 --> 00:20:21.610
I mean, DNS is like the easiest thing.

00:20:21.609 --> 00:20:24.279
OK? So, you know, disconnect here.

00:20:24.279 --> 00:20:25.299
The clients connect.

00:20:25.299 --> 00:20:26.569
Their server connects to the AirPort.

00:20:26.569 --> 00:20:28.349
The AirPort is connected to the Internet.

00:20:28.349 --> 00:20:29.859
Then the clients connect to the server.

00:20:29.859 --> 00:20:30.969
The server connects directly.

00:20:30.970 --> 00:20:32.269
OK. So, OK.

00:20:32.269 --> 00:20:32.940
It's not that easy.

00:20:32.940 --> 00:20:36.529
Let's look at that a little slower.

00:20:36.529 --> 00:20:37.930
So you have the Internet.

00:20:37.930 --> 00:20:39.940
You have your server.

00:20:39.940 --> 00:20:44.600
They're going to connect up through AirPort
base station, which is connected to your ISP.

00:20:44.599 --> 00:20:47.529
And you have a mix of clients.

00:20:47.529 --> 00:20:51.029
So initially, what's going to happen
is the AirPort is your Gateway.

00:20:51.029 --> 00:20:54.059
It's going to mirror itself as the DNS server as well.

00:20:54.059 --> 00:20:58.599
So basically, everybody's going to look at
the AirPort base station as its DNS server.

00:20:58.599 --> 00:21:01.279
The clients, the server, everybody.

00:21:01.279 --> 00:21:02.619
And the server is going to.

00:21:02.619 --> 00:21:09.419
Or the AirPort is going to forward it on to the cloud,
to the Internet, and get its resolution from up there.

00:21:09.420 --> 00:21:11.620
So what we can do is we set up this minimal DNS server.

00:21:11.619 --> 00:21:14.419
So the server can now resolve itself.

00:21:14.420 --> 00:21:17.870
If you set up myserver.example.com,
none of the clients actually knew

00:21:17.869 --> 00:21:20.339
who that was because there was no existing DNS entry.

00:21:20.339 --> 00:21:26.259
And that was sort of the predicate
on what caused this to be set up.

00:21:26.259 --> 00:21:27.730
So we know there's no existing DNS entry.

00:21:27.730 --> 00:21:30.559
So we're going to set one up so that
now the server can resolve itself.

00:21:30.559 --> 00:21:33.500
It knows that I am myserver.example.com.

00:21:33.500 --> 00:21:35.480
The problem is that the clients don't know that yet.

00:21:35.480 --> 00:21:39.759
So if the clients say, I want to go
to the Wiki on myserver.example.com,

00:21:39.759 --> 00:21:41.240
they're going to go up to the AirPort base station.

00:21:41.240 --> 00:21:45.549
The AirPort's going to go out to the Internet,
and they still don't know who that is.

00:21:45.549 --> 00:21:49.769
But because you've provided that AirPort
password, we can go ahead and tell the AirPort

00:21:49.769 --> 00:21:53.230
to redirect everybody to the server as this DNS server.

00:21:53.230 --> 00:21:54.819
So now, all your clients can talk.

00:21:54.819 --> 00:21:57.569
When they say, Who's my server.example.com?

00:21:57.569 --> 00:22:01.639
It's going to ask our new server that
we've configured as a DNS server.

00:22:01.640 --> 00:22:03.900
So now, everybody can resolve that properly.

00:22:03.900 --> 00:22:08.009
We have one last problem in that the
clients can no longer resolve anything else,

00:22:08.009 --> 00:22:11.240
because the server knows only about myserver.example.com.

00:22:11.240 --> 00:22:15.759
So if you do not want to go through
Apple.com, that's not in the existing DNS.

00:22:15.759 --> 00:22:19.079
But we're going to go ahead and
set up forwarders for you as well.

00:22:19.079 --> 00:22:23.000
So now, the DNS server will say, I don't
know what Apple.com is, but I know who might.

00:22:23.000 --> 00:22:24.730
So it'll forward it on to the Internet for you.

00:22:24.730 --> 00:22:29.829
So this gets you an out-of-the-box setup where
all your clients can now resolve any hosting

00:22:29.829 --> 00:22:36.369
that you given it during service setup.

00:22:36.369 --> 00:22:42.519
So we've got sort of an example here of how
we've changed that minimal DNS from Leopard.

00:22:42.519 --> 00:22:45.619
In Leopard, we created an authoritative
domain for whatever it was that you said.

00:22:45.619 --> 00:22:50.359
So if you wanted myserver.example.com, we would
create an authoritative domain for example.com,

00:22:50.359 --> 00:22:52.740
and then create a myserver record in there.

00:22:52.740 --> 00:22:59.230
So that caused one problem in that if I now
want to go to www.example.com or anything else

00:22:59.230 --> 00:23:02.500
in that example.com domain, it would go to our server.

00:23:02.500 --> 00:23:06.259
Our server would say, I am the authority
for that but I don't know what that is.

00:23:06.259 --> 00:23:08.339
So even if you had an existing server that knew

00:23:08.339 --> 00:23:12.159
about all the other example.com stuff,
it would block any resolution of that.

00:23:12.160 --> 00:23:16.380
So instead, at Snow Leopard what we've done
is create a very distinct record that's only

00:23:16.380 --> 00:23:18.320
for the fully qualified domain name.

00:23:18.319 --> 00:23:23.119
So it's going to say, I'm only good
for knowing server.example.com.

00:23:23.119 --> 00:23:27.649
Anything else, ever, is going to
get forwarded on to the forwarders.

00:23:27.650 --> 00:23:33.350
So now, we have proper resolution even within
your corporation for the other domain names.

00:23:33.349 --> 00:23:34.049
All right.

00:23:34.049 --> 00:23:35.889
So moving on to Directory Services.

00:23:35.890 --> 00:23:41.400
This is another thing that is easy to mess,
but we're going to try and help you along.

00:23:41.400 --> 00:23:47.790
So this is where you're going to see a little bit of
what used to be configuration silos, but it's really not.

00:23:47.789 --> 00:23:48.690
So we're not going to.

00:23:48.690 --> 00:23:53.070
Any choice that you make here is only
going to configure your Directory Services.

00:23:53.069 --> 00:23:58.039
It doesn't have anything to do with which
admin apps you want to use or what, you know,

00:23:58.039 --> 00:23:59.509
any preferences that you want to set later.

00:23:59.509 --> 00:24:01.990
It's not going to lock you into anything.

00:24:01.990 --> 00:24:05.819
You can go ahead and change these later
using Server Admin or Server Preferences,

00:24:05.819 --> 00:24:10.169
and all you're modifying are your Open
Directory and other Directory Services.

00:24:10.170 --> 00:24:13.990
So we have the three choices here that look
very similar to the ones that we had in Leopard.

00:24:13.990 --> 00:24:16.930
You have your Create Users and
Groups, which is going to just kind

00:24:16.930 --> 00:24:19.560
of silently create an Open Directory Master for you.

00:24:19.559 --> 00:24:22.599
It's going to create a directory admin named diradmin.

00:24:22.599 --> 00:24:24.099
And it's going to.

00:24:24.099 --> 00:24:25.379
That's the only choice you're going to get.

00:24:25.380 --> 00:24:26.760
It's going to do that all for you.

00:24:26.759 --> 00:24:28.089
So this is the small business.

00:24:28.089 --> 00:24:29.399
I want users and groups.

00:24:29.400 --> 00:24:31.220
Go ahead and just set me up.

00:24:31.220 --> 00:24:33.210
The second choice here is the worker configuration.

00:24:33.210 --> 00:24:36.579
So this is I'm a small group inside
of a larger organization.

00:24:36.579 --> 00:24:38.809
So I want to go ahead and have my own users and groups,

00:24:38.809 --> 00:24:41.619
but I also want to use the users and
groups for my larger organization.

00:24:41.619 --> 00:24:44.209
And this too is going to kind of
silently create that OD Master.

00:24:44.210 --> 00:24:47.289
It's going to create a directory admin named diradmin.

00:24:47.289 --> 00:24:52.809
And it'll also ask you to bind to your
directory server for your preparation.

00:24:52.809 --> 00:24:56.440
So the last one there is sort of the I know what I'm doing.

00:24:56.440 --> 00:24:57.920
Give me all the options.

00:24:57.920 --> 00:25:00.880
So we're going to go through and show you that.

00:25:00.880 --> 00:25:05.440
The first option you would get with that manual
configuration is the Connect to a Directory Server.

00:25:05.440 --> 00:25:09.420
And this is very similar to-- this is basically the same
panel you would get with that middle option as well.

00:25:09.420 --> 00:25:13.590
So this is I want to connect to an
existing thing inside of my corporation.

00:25:13.589 --> 00:25:16.179
And initially all you're going to get is that first box.

00:25:16.180 --> 00:25:18.299
So we've made it a little nicer in Snow Leopard.

00:25:18.299 --> 00:25:20.789
We can actually detect what kind
of server you're connecting to.

00:25:20.789 --> 00:25:23.849
So all you need to provide is a host name for that server.

00:25:23.849 --> 00:25:26.839
And then we'll figure out if it's
Active Directory or Open Directory.

00:25:26.839 --> 00:25:29.269
And if it requires authentication
we're going to prompt you for that too.

00:25:29.269 --> 00:25:31.889
So these fields will kind of show up as you need them.

00:25:31.890 --> 00:25:33.970
And so that's binding to an existing server.

00:25:33.970 --> 00:25:39.039
And then additionally you want the option to create an
Open Directory Master, so you'll get that here as well.

00:25:39.039 --> 00:25:42.049
And here, these are the defaults that you're going to get.

00:25:42.049 --> 00:25:45.450
If you've gone ahead with those first two
options it's just going to use these defaults,

00:25:45.450 --> 00:25:47.850
and you hopefully never really need to know them.

00:25:47.849 --> 00:25:50.799
But they are documented if you need them.

00:25:50.799 --> 00:25:52.159
Again, we're using the manual case.

00:25:52.160 --> 00:25:55.440
So if you want to override any of
these settings you can do that now.

00:25:55.440 --> 00:25:59.769
Finally, we have this Restrict
Individual User Access checkbox

00:25:59.769 --> 00:26:02.420
And so one change that we've done
from Leopard by getting rid

00:26:02.420 --> 00:26:09.100
of the configuration silos is made it a little more
complicated for how we handle the Service ACLs.

00:26:09.099 --> 00:26:12.829
Or at least as far as setup is
concerned, it can seem more complicated.

00:26:12.829 --> 00:26:14.909
Because again, we just sort of
silently did one or the other.

00:26:14.910 --> 00:26:17.470
Now we have to-- we want to give you that choice.

00:26:17.470 --> 00:26:18.970
So that's what this is here.

00:26:18.970 --> 00:26:24.240
If you check this box, we're going to turn on
Service ACLs for you on the basic services.

00:26:24.240 --> 00:26:26.490
The ones that you see in Server Preferences.

00:26:26.490 --> 00:26:28.920
And hopefully that's not a big deal.

00:26:28.920 --> 00:26:33.840
So any time you add a user in Server Preferences, it's going
to automatically add them to the ACL.

00:26:33.839 --> 00:26:37.639
So any new user in Server Preferences can
automatically access all the services.

00:26:37.640 --> 00:26:40.090
Should never need to modify it.

00:26:40.089 --> 00:26:43.629
The more advanced user in an IT
solution may not want to do this at all.

00:26:43.630 --> 00:26:45.160
They may not want to restrict service access.

00:26:45.160 --> 00:26:46.350
They know they're on a private network.

00:26:46.349 --> 00:26:49.039
They know that all their users are
going to want access to everything.

00:26:49.039 --> 00:26:53.089
And they may be using Worker Manager, which is not
going to manage the ACL for them automatically.

00:26:53.089 --> 00:26:57.409
So in that case you're going to want to uncheck
this box, and by default, that box is unchecked.

00:26:57.410 --> 00:27:01.610
If you'd gone with either of the other options,
it's going to turn those service ACLs on.

00:27:01.609 --> 00:27:03.199
So again, like I said it's kind of.

00:27:03.200 --> 00:27:06.840
Those other two options are sort of the small
business and the worker configuration user.

00:27:06.839 --> 00:27:10.569
And they just want to have it all done
for them and everything works magically.

00:27:10.569 --> 00:27:13.349
The Services Panel.

00:27:13.349 --> 00:27:16.750
So this is pretty straightforward
and not too different from Leopard,

00:27:16.750 --> 00:27:19.990
except for that one little thing on
the bottom there which is very cool.

00:27:19.990 --> 00:27:22.660
So one thing I want to point out first.

00:27:22.660 --> 00:27:28.420
You can set the service data location
with this one combo box.

00:27:28.420 --> 00:27:32.250
So that's going to have all your
volumes in it, and it's going to default

00:27:32.250 --> 00:27:34.809
to the root volume just like any normal setup would.

00:27:34.809 --> 00:27:38.329
But if you want to go ahead and pop that open and go
to any of your other volumes, like your data volume

00:27:38.329 --> 00:27:42.789
or anything else, you select it and it's
going to redirect all the services to that.

00:27:42.789 --> 00:27:46.889
So what that's going to do is if you have a data volume.

00:27:50.130 --> 00:27:53.700
[applause] This is a very cool feature and
it's pretty awesome that it's a one combo box.

00:27:53.700 --> 00:27:56.430
So say you chose your data volume.

00:27:56.430 --> 00:27:57.480
You're going to get a path like this.

00:27:57.480 --> 00:27:59.890
It's going to set it up as whatever the volume was.

00:27:59.890 --> 00:28:02.240
It's going to create a root folder called Service Data.

00:28:02.240 --> 00:28:05.410
And then there's going to be a bunch of
subfolders for each of the services right there.

00:28:05.410 --> 00:28:08.870
So this is super easy to migrate all your data from.

00:28:08.869 --> 00:28:12.889
And this is great for our new solid-state
drive configurations,

00:28:12.890 --> 00:28:14.720
because you can put the operating system on that.

00:28:14.720 --> 00:28:21.140
You can save the attached data volume that has all the data
on it, and you're good to go right out of service setup.

00:28:21.140 --> 00:28:23.910
There are actually 9 different services that are relocated.

00:28:23.910 --> 00:28:24.900
It's not just these.

00:28:24.900 --> 00:28:30.269
It's also MySequel, QTSS, and one other one.

00:28:30.269 --> 00:28:32.269
I can't remember off the top of my head.

00:28:32.269 --> 00:28:34.279
So we migrate a bunch of your services for you.

00:28:34.279 --> 00:28:35.220
This is really great.

00:28:35.220 --> 00:28:36.829
All your Wiki data is going to be on there.

00:28:36.829 --> 00:28:38.169
All your iChat users.

00:28:38.170 --> 00:28:40.509
All your stuff is just going to be on this separate volume.

00:28:40.509 --> 00:28:42.299
You don't have to crowd that user volume.

00:28:42.299 --> 00:28:43.750
That OS volume anymore.

00:28:43.750 --> 00:28:46.150
And you don't have to migrate all these services later.

00:28:46.150 --> 00:28:49.750
So again, this is not a migration.

00:28:49.750 --> 00:28:52.920
This is, you know, you're doing
a clean install setup right now.

00:28:52.920 --> 00:28:58.050
And you've never used this server before so you're going
to go ahead and say, OK, I want to start from the get go

00:28:58.049 --> 00:29:02.399
in this location which is, you know,
easy to manage, easy to understand.

00:29:02.400 --> 00:29:06.930
If you do have existing data there, it's going to
say, you know, We can't really do this for you.

00:29:06.930 --> 00:29:11.590
Go use Server Admin and you can
migrate all that data on your own.

00:29:11.589 --> 00:29:12.539
All right?

00:29:12.539 --> 00:29:14.389
So let's give this one a shot.

00:29:14.390 --> 00:29:18.270
>> We're going to actually demo the small business
setup, or what we like to call a small business setup.

00:29:18.269 --> 00:29:23.490
We've got an AirPort base station, a server
and a client connected to that base station.

00:29:23.490 --> 00:29:27.470
And I just kind of want to show how
many other base stations so we don't.

00:29:27.470 --> 00:29:33.059
So I can show you I don't have any tricks up
my sleeve or any cards or anything like that.

00:29:33.059 --> 00:29:37.159
So we're going to the base station config,
and we're going to the Internet control panel.

00:29:37.160 --> 00:29:40.170
I want to point out three things that are.

00:29:40.170 --> 00:29:41.509
How to set it up right now.

00:29:41.509 --> 00:29:49.900
Right now, the DNS server is set up to my upstream
DNS server that the AirPort base station is using.

00:29:49.900 --> 00:29:53.640
The DCPs, there are no DCP reservations whatsoever.

00:29:53.640 --> 00:29:57.490
And in that, we have no port mappings to find at all.

00:29:57.490 --> 00:30:02.680
And I wanted to show you this, because this is all going
to handled for you automatically by Server Assistant.

00:30:02.680 --> 00:30:07.560
So let's go and run through a setup of a server.

00:30:07.559 --> 00:30:13.169
And, you know, we've all done this pretty
much and it's pretty easy to move around.

00:30:13.170 --> 00:30:16.050
One of the coolest tricks that Eric taught me

00:30:16.049 --> 00:30:23.919
in Server Assistant is Command right bracket Command left
bracket will advance you back and forth in Server Assistant.

00:30:23.920 --> 00:30:27.950
It's like, you know, I don't like to use
the mouse too much, so this is great.

00:30:27.950 --> 00:30:29.799
Thank you, Eric.

00:30:29.799 --> 00:30:34.319
You know, I also wanted to show here that we
now have a reason picker at the beginning,

00:30:34.319 --> 00:30:36.899
and this is important because we're
actually going to change some

00:30:36.900 --> 00:30:40.720
of the additional panels based on
which reason you choose right now.

00:30:40.720 --> 00:30:46.890
So I spent a couple years in the UK, so we're
going to do that as part of our demo here.

00:30:46.890 --> 00:30:51.900
Because I know the guy who happened to write
the app, we have a nice hard coded serial number

00:30:51.900 --> 00:30:54.240
and so you don't watch me fumble around on that.

00:30:54.240 --> 00:30:57.529
And here's that migration pane that Eric was talking about.

00:30:57.529 --> 00:31:03.379
This is going to let us migrate from an external
volume or another server that was just set

00:31:03.380 --> 00:31:05.760
up in target Pyro mode and migrate it for you.

00:31:05.759 --> 00:31:09.920
We can set it up here and that's pretty much
I think the last question that gets asked.

00:31:09.920 --> 00:31:14.210
Isn't it? We go straight into the migration.

00:31:14.210 --> 00:31:16.309
So this is one thing I did want to point out.

00:31:16.309 --> 00:31:20.460
It's because I'm known in the UK
this is actually now localized.

00:31:20.460 --> 00:31:27.819
It's post code, so for everyone not from
the U.S. hopefully you appreciate this.

00:31:27.819 --> 00:31:32.109
The phone number is actually originalized,
so here's my old phone number in the UK.

00:31:32.109 --> 00:31:38.009
I can't even type in parens because
we don't use that in the UK.

00:31:38.009 --> 00:31:43.619
[ Silence ]

00:31:43.619 --> 00:31:46.599
But of course, we can skip that.

00:31:46.599 --> 00:31:47.089
Time Zone.

00:31:47.089 --> 00:31:50.009
How many of you have seen the new
Time Zone picker in Snow Leopard?

00:31:50.009 --> 00:31:51.059
This is pretty cool.

00:31:51.059 --> 00:31:53.819
So I'm going to go in and type in London.

00:31:53.819 --> 00:31:54.679
That's my closest city.

00:31:54.680 --> 00:31:57.049
And we can see actually, there's three dots up there.

00:31:57.049 --> 00:31:59.759
The three Londons it found in the database.

00:31:59.759 --> 00:32:05.089
I don't know actually how it decided the one in England
was the one I wanted but it was, so that's great.

00:32:05.089 --> 00:32:07.589
It's not in New Hampshire and Canada.

00:32:07.589 --> 00:32:09.500
>> It sorts by population.

00:32:09.500 --> 00:32:10.349
>> By population?

00:32:10.349 --> 00:32:10.980
That's cool.

00:32:10.980 --> 00:32:12.009
That's really cool.

00:32:12.009 --> 00:32:17.359
[ Clapping ]

00:32:17.359 --> 00:32:18.399
There is. I think there is.

00:32:18.400 --> 00:32:19.420
>> I can't take credit for that.

00:32:19.420 --> 00:32:21.370
That's the systems preferences
guys, but yes, it's pretty cool.

00:32:21.369 --> 00:32:24.519
>> I think there is a London, Kentucky
as well, but it didn't show up on.

00:32:24.519 --> 00:32:28.309
But I think there is a database that
you can go online and update that on.

00:32:28.309 --> 00:32:32.379
So adding an account, this is again pretty straightforward.

00:32:32.380 --> 00:32:33.800
Nothing too simple though.

00:32:33.799 --> 00:32:37.799
You notice it's-- Apple is not my password.

00:32:37.799 --> 00:32:38.730
Not like everyone else's demo.

00:32:38.730 --> 00:32:39.710
Now this is great.

00:32:39.710 --> 00:32:43.890
We can now modify the Yes It's Safe
settings and the Error D settings right here.

00:32:43.890 --> 00:32:47.040
And here's the new network pane.

00:32:47.039 --> 00:32:50.960
Eric actually has done I think a couple things that
really annoyed me about the network pane before

00:32:50.960 --> 00:32:54.829
which is actually I can just drag
the change the search order.

00:32:54.829 --> 00:32:57.809
[applause] Which you can't do the network preference pane.

00:32:57.809 --> 00:32:59.950
So I thought that was really cool with Eric.

00:32:59.950 --> 00:33:04.080
We like to personalize it too, because instead of saying
Server Assistant, it says Eric did this, Eric did that.

00:33:04.079 --> 00:33:08.429
Because when it breaks it's on a QA guy,
it can say Eric really screwed it up.

00:33:08.430 --> 00:33:10.259
But he's done a great job with this.

00:33:10.259 --> 00:33:13.960
We're going to go into a stack address
here, or DCPS the manual address.

00:33:13.960 --> 00:33:15.740
And continue on here.

00:33:15.740 --> 00:33:16.910
We can do IPD6 here.

00:33:16.910 --> 00:33:18.130
We can do that turn off.

00:33:18.130 --> 00:33:23.400
We can enable jumbo frames right here from the
setup, which I'm not sure we could do before.

00:33:23.400 --> 00:33:25.780
So that's very cool.

00:33:25.779 --> 00:33:27.359
Now this is what Eric was saying.

00:33:27.359 --> 00:33:31.069
It's actually going to modify the
network settings right now.

00:33:31.069 --> 00:33:34.129
And the reason it has to do this is
because we had problems in Leopard

00:33:34.130 --> 00:33:36.920
where we didn't modify the network
settings when he changed it.

00:33:36.920 --> 00:33:42.990
How many of you have tried to find the AD
in Leopard from setup and had some problems?

00:33:42.990 --> 00:33:44.569
Yeah. I see a few hands in there.

00:33:44.569 --> 00:33:50.669
And the reason why is because for you to bind to AD you
have to be using the right DNS servers when you bind.

00:33:50.670 --> 00:33:53.360
And we didn't have that as part of the setup.

00:33:53.359 --> 00:33:59.240
In other words, when we asked our AD question
we weren't using the right DNS at the time.

00:33:59.240 --> 00:34:03.680
So it automatically discovered
that its router, or and, you know.

00:34:03.680 --> 00:34:05.480
Because we're in the UK, I can say the rooter [phonetic].

00:34:05.480 --> 00:34:11.889
It's asking for an admin password here,
so we'll put the admin password in.

00:34:13.360 --> 00:34:18.950
And so now, it's actually going to use-- Tim,
look at the IP address and find the host name.

00:34:18.949 --> 00:34:22.980
Now, that IP address I have didn't have
a valid host name, so it left it blank.

00:34:22.980 --> 00:34:24.510
And it's pretty intelligent here.

00:34:24.510 --> 00:34:29.270
If it found an IP address, it will also address it,
like Eric said, and you can override it, which is cool.

00:34:29.269 --> 00:34:35.409
Because before you couldn't even override it in some
of these environments and that annoyed a lot of people.

00:34:35.409 --> 00:34:42.369
So we'll go ahead and just put in my network name here.

00:34:42.369 --> 00:34:44.719
Now we're into the Directory Services section.

00:34:44.719 --> 00:34:48.949
Now I'm going to do this nice,
easy integrated all-in-one set.

00:34:48.949 --> 00:34:51.199
We're just going to handle the users and groups.

00:34:51.199 --> 00:34:53.429
It's automatically going to create an Open Directory for us.

00:34:53.429 --> 00:34:59.149
It's going to create a diradmin account in
there and that's going to be our admin account

00:34:59.150 --> 00:35:01.240
with the same password that I put in before.

00:35:01.239 --> 00:35:05.579
Here the services, I can disable
or enable any of them right here.

00:35:05.579 --> 00:35:08.340
Are these untitled safetys?

00:35:08.340 --> 00:35:09.789
Oh, we'll use it.

00:35:09.789 --> 00:35:16.029
So we're going to store service data
on one of these external partitions.

00:35:16.030 --> 00:35:17.590
And that's phenomenal.

00:35:17.590 --> 00:35:23.019
I mean I'm so excited about that one feature right there.

00:35:23.019 --> 00:35:23.679
Mail options.

00:35:23.679 --> 00:35:30.919
This looks fairly similar to the pane we had in Leopard.

00:35:30.920 --> 00:35:34.420
>> We did add the relay authentication,
which is kind of nice.

00:35:34.420 --> 00:35:34.650
>> Oh yes.

00:35:34.650 --> 00:35:35.190
The relay cell.

00:35:35.190 --> 00:35:35.250
>> [Inaudible].

00:35:35.250 --> 00:35:35.590
>> Right out of the box.

00:35:35.590 --> 00:35:44.579
You can actually set up a relay and do your
SMT relay authentication in case you needed to.

00:35:44.579 --> 00:35:51.369
In case your ISP isn't allowing
outbound SMTP, you have to use the relay.

00:35:51.369 --> 00:35:53.269
Oh, Eric, you better fix that.

00:35:53.269 --> 00:35:53.820
>> Oh, yes.

00:35:53.820 --> 00:35:56.940
>> See, Eric screwed that up.

00:35:56.940 --> 00:35:57.559
So here we go.

00:35:57.559 --> 00:36:02.570
We got the review pane at the end and
we can go into details like before.

00:36:02.570 --> 00:36:04.650
Pretty nice and easy to say.

00:36:04.650 --> 00:36:06.590
Should I show this now or skip this?

00:36:06.590 --> 00:36:08.300
Or you going talk about this another time?

00:36:08.300 --> 00:36:09.789
>> I'll talk about it another time.

00:36:09.789 --> 00:36:10.449
>> Never mind.

00:36:10.449 --> 00:36:11.119
And that's about it.

00:36:11.119 --> 00:36:12.789
So that's set up in the box.

00:36:12.789 --> 00:36:18.050
You know, we-- there are a tremendous amount
of panes as Eric showed in the beginning.

00:36:18.050 --> 00:36:22.180
But I got asked the questions I
just needed to do for this setup.

00:36:22.179 --> 00:36:23.369
So we'll go back to slides.

00:36:23.369 --> 00:36:25.420
>> All right.

00:36:25.420 --> 00:36:30.349
So that's going to set up in the
background and we can move on.

00:36:30.349 --> 00:36:35.799
So like he was saying, this is your Review panel and you
have that Details button there down on the bottom right.

00:36:35.800 --> 00:36:38.610
If you click that, you're going to
get that same sheet he showed us.

00:36:38.610 --> 00:36:40.250
But then there's a couple extra options here.

00:36:40.250 --> 00:36:44.530
One, you can click Save Summary and save this whole thing
out to a text file which is handy for reference later.

00:36:44.530 --> 00:36:47.250
But you can also automate your entire setup in the future.

00:36:47.250 --> 00:36:52.219
So if you want to hit Save Setup Profile, you're
going to get a sheet that looks like this.

00:36:52.219 --> 00:36:57.379
And so auto server setup is something that
existed in Leopard and I think before as well.

00:36:57.380 --> 00:36:59.769
But we've enhanced it a little bit for Snow Leopard.

00:36:59.769 --> 00:37:06.889
So for one, the plist that you created, the profiles
that you created in Leopard were very oddly named.

00:37:06.889 --> 00:37:09.400
You had to name them with the IP address that you wanted to,

00:37:09.400 --> 00:37:11.970
the server that you wanted it to
apply to or the MAC address.

00:37:11.969 --> 00:37:13.549
That was just a bunch of numbers.

00:37:13.550 --> 00:37:18.180
And they ended up having these very odd names
and they were very hard to kind of keep track of.

00:37:18.179 --> 00:37:19.480
So we changed that in Snow Leopard.

00:37:19.480 --> 00:37:21.809
You can now name your profiles anything you want.

00:37:21.809 --> 00:37:27.750
You can name them MyExtraController.plist,
or MyTimeMachineBackupServer.plist.

00:37:27.750 --> 00:37:31.260
Whatever you want to name them,
just so long as they end in plist.

00:37:31.260 --> 00:37:34.270
And the way that you figure out
which ones they actually apply to.

00:37:34.269 --> 00:37:40.840
So the way that it works is you put these profiles on
a disc somewhere kind of at one of the root levels.

00:37:40.840 --> 00:37:45.590
And then as soon as the server comes up it's going to
look for these profiles and say, Whichever profiles apply

00:37:45.590 --> 00:37:49.980
to me pick the best one and set up
my server with that configuration.

00:37:49.980 --> 00:37:53.490
So what we're doing here is we're saving out this
configuration that we just did, and then you can go ahead

00:37:53.489 --> 00:37:55.439
and put that on like a flash drive or anything else.

00:37:55.440 --> 00:37:59.429
And as soon as you plug that flash drive
into the server that's waiting to be set up,

00:37:59.429 --> 00:38:02.269
it'll apply all this configuration
and you don't have to do a thing.

00:38:02.269 --> 00:38:08.460
So again, you need to kind of say, because you might have 30
of these profiles in a single folder and you want to know,

00:38:08.460 --> 00:38:12.250
OK, this machine here is going to be in my X-group backup.

00:38:12.250 --> 00:38:14.920
So I want to apply this profile.

00:38:14.920 --> 00:38:18.450
So what you would do is go ahead
and click that second radio button,

00:38:18.449 --> 00:38:20.909
and then you can go ahead and add all these predicates.

00:38:20.909 --> 00:38:25.099
So you can say, I only want this to apply
to servers with the serial number of this,

00:38:25.099 --> 00:38:27.579
or this IP address of this, or the Mac address of this.

00:38:27.579 --> 00:38:30.150
You can add as many of these as you
want, and it's and/or operation.

00:38:30.150 --> 00:38:32.960
So if any of these match it'll apply to that server.

00:38:32.960 --> 00:38:36.110
And I'm showing E is here, but
there's a bunch of different options.

00:38:36.110 --> 00:38:38.930
So you can say the serial number begins with this.

00:38:38.929 --> 00:38:43.839
So if you want to use the first 8 characters like you do in
a lot of other cases, you'd say, The serial number begins

00:38:43.840 --> 00:38:45.309
with and then you'd give the first 8 characters.

00:38:45.309 --> 00:38:51.469
If you want to do a subnet, you can say,
The IP address begins with 192168.0.

00:38:51.469 --> 00:38:52.589
Pretty simple.

00:38:52.590 --> 00:38:54.890
Additionally you have Begins with, you have Ends with.

00:38:54.889 --> 00:38:56.099
You have Reg Exes.

00:38:56.099 --> 00:38:57.650
There's a bunch of different options in here.

00:38:57.650 --> 00:39:02.450
They're all case insensitive, and so you just,
like I said, specify as many of these as you want.

00:39:02.449 --> 00:39:06.349
You can go ahead encrypt the plist if you want
because it is going to have your admin password in it.

00:39:06.349 --> 00:39:10.250
And you can go ahead and save that outright here
and then, like I said, put it on a flash drive.

00:39:10.250 --> 00:39:12.440
Go plug it into any of your servers
that are waiting to be set up.

00:39:12.440 --> 00:39:16.000
As long as this predicate applies, it's going
to go ahead and set that server up no hands on.

00:39:16.000 --> 00:39:22.880
[ Clapping ]

00:39:22.880 --> 00:39:25.740
So this is another very nice addition
that we've added in Snow Leopard.

00:39:25.739 --> 00:39:28.279
This is your desktop kind of as
you see it when you first boot in.

00:39:28.280 --> 00:39:32.600
And you're going to notice this new document
on your desktop called The Next Steps Doc.

00:39:32.599 --> 00:39:36.980
And what this is, is a very personalized
document to the server that you just set up.

00:39:36.980 --> 00:39:40.829
So it's not just boilerplate that's
going to be the same on every install.

00:39:40.829 --> 00:39:42.250
We actually-- you'll see host names.

00:39:42.250 --> 00:39:43.949
You'll see IP addresses in here.

00:39:43.949 --> 00:39:46.009
Which entries you see are going to change.

00:39:46.010 --> 00:39:50.290
So just to point out some examples that
you would get on a pretty standard server.

00:39:50.289 --> 00:39:52.420
It's going to say, You've set up user groups.

00:39:52.420 --> 00:39:54.000
Your diradmin name is this.

00:39:54.000 --> 00:39:56.929
Go start using Server Preferences to start setting that up.

00:39:56.929 --> 00:40:00.719
So again, this is sort of a reminder of what
that diradmin name is if you ever need it.

00:40:00.719 --> 00:40:02.909
And sort of gets you started on where you want to go.

00:40:02.909 --> 00:40:06.199
If you didn't create users and
groups it's going to say, you know,

00:40:06.199 --> 00:40:08.599
you've enabled some services that require users and groups.

00:40:08.599 --> 00:40:11.969
You probably want to go to Server Preferences
and create an Open Directory Master,

00:40:11.969 --> 00:40:14.730
which you can do now because configuration silos are gone.

00:40:14.730 --> 00:40:21.369
If it didn't detect proper DNS it's
going to say, OK, go set up DNS.

00:40:21.369 --> 00:40:24.849
You may need to go talk to this DNS
server and add an entry for that.

00:40:24.849 --> 00:40:30.710
If you've turned on Mail and it notices that you don't
have an MX record for your server in your DNS server,

00:40:30.710 --> 00:40:32.940
it's going to say you probably want to go add one of those.

00:40:32.940 --> 00:40:38.460
And then we also get this nice entry about
how to create a signed SSL Certificate.

00:40:38.460 --> 00:40:43.650
So in many situations you really want to go do this,
so we've kind of gotten you started on that as well.

00:40:43.650 --> 00:40:47.860
And so, what this document sort of addresses
is the things that we couldn't do for you.

00:40:47.860 --> 00:40:51.460
I mean there are outside network
forces that we can't configure.

00:40:51.460 --> 00:40:55.090
You know, we can handle the base station, an
AirPort base station, but we can't do other routers.

00:40:55.090 --> 00:40:59.240
So if you had a third party router
it'll say, Add UR DNS server.

00:40:59.239 --> 00:41:05.049
If you want your clients to be able to see you as a DNS
server, go modify your router and add you as an entry.

00:41:05.050 --> 00:41:09.010
So we're really just trying anything that we couldn't do
for you we're going to try and lead you that direction.

00:41:09.010 --> 00:41:15.200
So I want to look a little bit at the new
admin tools, specifically Server Preferences.

00:41:15.199 --> 00:41:19.129
And again, like I was saying there
are no more configuration silos.

00:41:19.130 --> 00:41:22.900
So if you don't have an Open Directory Master,
when you go to users or groups it's going to say,

00:41:22.900 --> 00:41:24.400
Do you want to create and Open Directory Master?

00:41:24.400 --> 00:41:29.769
and it'll do that all for you in that same very
easy setup that we kind of had in server setup

00:41:29.769 --> 00:41:35.710
where you just choose the option, it's going to use some
great defaults, and set it all up for you really quickly.

00:41:35.710 --> 00:41:38.840
So again, we have Address Book.

00:41:38.840 --> 00:41:39.970
That's one small addition.

00:41:39.969 --> 00:41:44.889
And then we changed the security model a
little bit to make it a little bit easier

00:41:44.889 --> 00:41:48.460
and a little bit less confusing for users behind an AirPort.

00:41:48.460 --> 00:41:52.539
So the security panel now actually will detect
that you're behind an AirPort base station,

00:41:52.539 --> 00:41:55.989
and it won't show you the local firewall because
you already have your AirPort's firewall.

00:41:55.989 --> 00:41:59.169
And if you don't have that on it'll give you the normal one.

00:41:59.170 --> 00:42:03.159
So what you're doing here is when you
turn it on and off it's actually going

00:42:03.159 --> 00:42:05.440
to turn port mapping on that AirPort base station.

00:42:05.440 --> 00:42:08.500
You can manage it just like your local
firewall and you can go ahead and say,

00:42:08.500 --> 00:42:10.920
I want to add a service and choose
it by name and add those in.

00:42:10.920 --> 00:42:15.590
And it'll go ahead and poke those ports
in the AirPort itself and use the,

00:42:15.590 --> 00:42:18.059
you know, kind of manage that firewall for you.

00:42:18.059 --> 00:42:23.199
So again, if you provided your password for the
AirPort during setup, this is all ready to go.

00:42:23.199 --> 00:42:26.639
You just need to add the services you want
to poke ports for, and you're good to go.

00:42:26.639 --> 00:42:28.449
If not, it'll ask you for that password.

00:42:28.449 --> 00:42:33.969
So let's go ahead and look at that a little bit.

00:42:33.969 --> 00:42:37.009
>> So we're going to pick up where we left off.

00:42:37.010 --> 00:42:39.140
The server is not completed.

00:42:39.139 --> 00:42:43.219
It took a while and I don't want to have
you sit there and watch the dialogue box.

00:42:43.219 --> 00:42:44.219
So the server's not completed.

00:42:44.219 --> 00:42:46.399
We're actually going to go back and look
at the base station and see what happened.

00:42:46.400 --> 00:42:54.590
So now we're going to the Internet panel and we can see
here, now I can zoom, the DNS server has changed, right?

00:42:54.590 --> 00:42:59.309
So what it did is it took the old DNS
server and moved that to the secondary.

00:42:59.309 --> 00:43:05.259
And now it's using the server we set up as the primary
DNS server that the base station is going to hand out.

00:43:05.260 --> 00:43:09.110
And this is great because part
of the problem we did before was

00:43:09.110 --> 00:43:13.800
that when we did the automatic client configuration we
have hard coded this DNS server into your configuration.

00:43:13.800 --> 00:43:19.970
So if you went down the street to Starbucks you'd still be
using 10.0.100 as your DNS server, and that wouldn't work.

00:43:19.969 --> 00:43:26.089
Made a lot more sense to have actually your
network DHCP than the DNS servers instead.

00:43:26.090 --> 00:43:26.630
So that's great.

00:43:26.630 --> 00:43:29.800
We're using that now as the DNS server.

00:43:29.800 --> 00:43:30.860
And we took a precaution here.

00:43:30.860 --> 00:43:34.570
We made sure that we have a DHCP
reservation in for the server.

00:43:34.570 --> 00:43:40.470
That way the AirPort base station will never
hand out that IP address as for the DHCP.

00:43:40.469 --> 00:43:42.750
Nothing exciting in that quite yet.

00:43:42.750 --> 00:43:51.119
Should be pretty empty because we haven't actually set
up any port forwardings yet, so we're going to do that.

00:43:51.119 --> 00:43:56.549
So now we're on our server, and there's The Next
Step Document that Eric was talking about before.

00:43:56.550 --> 00:44:00.110
Again, it's custom tailored to my setup specifically.

00:44:00.110 --> 00:44:04.860
So for example, we can see configured
DNS actually had the IP address.

00:44:04.860 --> 00:44:08.640
And actually it has the IP address of the
AirPort base station in this case because it knew

00:44:08.639 --> 00:44:11.230
that that was my access point to the Internet.

00:44:11.230 --> 00:44:17.159
If this server was acting as a Gateway or was
disconnected to your, perhaps your organization,

00:44:17.159 --> 00:44:20.009
it would have the server's IP address here instead.

00:44:20.010 --> 00:44:20.700
This is very cool.

00:44:20.699 --> 00:44:23.559
It's very customed to your environment.

00:44:23.559 --> 00:44:27.860
If you're in an environment where we're concerned that
your firewall needs to have some additional setup,

00:44:27.860 --> 00:44:32.440
it's going to tell you here, Go configure your
firewall, and give you some pointers on how to do that.

00:44:32.440 --> 00:44:37.809
Also reminds you of what your Directory admin account is
just in case since we automatically set that up for you.

00:44:37.809 --> 00:44:39.039
Very cool.

00:44:39.039 --> 00:44:40.029
I like this a lot.

00:44:40.030 --> 00:44:42.190
So here we have Server Preferences.

00:44:42.190 --> 00:44:44.610
This is great.

00:44:44.610 --> 00:44:49.630
I can now actually go into Server Admin as well, and I
just want to kind of show that I opened up Server Admin,

00:44:49.630 --> 00:44:53.039
didn't get yelled at, screamed
at, kicked around a little bit.

00:44:53.039 --> 00:44:54.389
I have both of them open just fine.

00:44:54.389 --> 00:45:00.739
And I kind of want to show the
DNS configuration on the server.

00:45:00.739 --> 00:45:06.899
So because this is minimal DNS, we want to make sure
that you don't actually go in here and modify it

00:45:06.900 --> 00:45:09.590
and kind of leave the server in a bad state.

00:45:09.590 --> 00:45:10.450
So we're going to warn you here.

00:45:10.449 --> 00:45:14.019
You can tell it to leave you alone
and go away, and we can do that.

00:45:14.019 --> 00:45:17.980
And this is the change that we're talking
about, that we made in Snow Leopard.

00:45:17.980 --> 00:45:23.579
Before this domain, the primary zone
name would have been just example.com.

00:45:23.579 --> 00:45:27.179
And Eric showed that that could be a real problem, right?

00:45:27.179 --> 00:45:31.599
If we would try to go www.example.com, this
server would say, I don't know what that is.

00:45:31.599 --> 00:45:36.929
Too bad. So now we're only an authoritative
for this server, and we don't stomp on any

00:45:36.929 --> 00:45:40.339
of those other hostings that you might have in your domain.

00:45:40.340 --> 00:45:41.430
So that's very cool.

00:45:41.429 --> 00:45:47.889
We're going to back in Server Preferences though,
and I kind of want to show this security pane.

00:45:47.889 --> 00:45:52.250
Because now if we expose these services on under the hood.

00:45:52.250 --> 00:45:54.610
Under the hood is the name of the AirPort base station.

00:45:54.610 --> 00:45:59.789
So instead of doing a local firewall, it's going
to do the firewall in the AirPort base station.

00:45:59.789 --> 00:46:01.219
So let's go in and add a service.

00:46:01.219 --> 00:46:06.989
We want to make the, maybe the web and Wiki server
that we had already set up available on the Internet.

00:46:06.989 --> 00:46:07.719
So we're going to add that.

00:46:07.719 --> 00:46:09.159
We're going to get a little warning.

00:46:09.159 --> 00:46:13.190
Because the base station requires a
restart to update its port mappings,

00:46:13.190 --> 00:46:15.340
we want a kind of warning that that's going to happen.

00:46:15.340 --> 00:46:18.180
So this says Quit Server Preferences
to apply these settings.

00:46:18.179 --> 00:46:20.369
So we're going to go in and quit.

00:46:20.369 --> 00:46:23.699
And here again, it reminds you that it's
going to have to reset the base station.

00:46:23.699 --> 00:46:28.129
Because this is a disruptive network thing, we
wanted to kind of give you an opportunity to opt-in

00:46:28.130 --> 00:46:31.119
for when this research is going to occur.

00:46:31.119 --> 00:46:35.210
So we went from the base station to
restart and then we go over the client.

00:46:35.210 --> 00:46:38.240
Is there anything else that I was
supposed to show on the server?

00:46:38.239 --> 00:46:38.750
>> Sorry?

00:46:38.750 --> 00:46:41.480
>> Was there anything else I was
supposed to show on the server?

00:46:41.480 --> 00:46:41.590
>> No.

00:46:41.590 --> 00:46:42.970
>> Nope. All right.

00:46:42.969 --> 00:46:46.349
So we're going to-- show automatic client configuration.

00:46:46.349 --> 00:46:49.659
And so before on Leopard we did this in a couple places.

00:46:49.659 --> 00:46:51.960
We gave you an opportunity to take advantage of it.

00:46:51.960 --> 00:46:54.340
We did it during the client setup.

00:46:54.340 --> 00:46:59.900
It would detect the server on your network and ask
what you wanted to do on that client configuration.

00:46:59.900 --> 00:47:01.720
And we also did it in Directory Utility.

00:47:01.719 --> 00:47:07.879
So the first time you open Directory Utility it might detect
if there's any servers that can automatically configure.

00:47:07.880 --> 00:47:10.720
Or be automatically configured from and use that.

00:47:10.719 --> 00:47:15.539
We added a third way in Snow Leopard.

00:47:15.539 --> 00:47:21.019
So on my server I already have a user name Josh
Durham or we're going to set it up in the Directory.

00:47:21.019 --> 00:47:23.000
I create it in Server Preferences.

00:47:23.000 --> 00:47:25.139
And I'm going to login.

00:47:25.139 --> 00:47:31.429
And what's going to happen here, if I remember
my password, which is not-- well, it is Apple.

00:47:31.429 --> 00:47:45.849
Sorry. So what's going to happen here hopefully, Eric,
is it should at login now detect that there are--

00:47:45.849 --> 00:47:49.599
I don't have a mini-bar-- that there are other servers.

00:47:49.599 --> 00:47:51.739
That there's a server available to set up.

00:47:51.739 --> 00:47:58.849
And I should check to see if that server has an
account with the same short name or full name as my.

00:47:58.849 --> 00:48:03.279
As the account that I logged in locally here.

00:48:03.280 --> 00:48:04.700
It didn't work.

00:48:04.699 --> 00:48:04.759
>> [Inaudible].

00:48:04.760 --> 00:48:07.750
>> It's a mini-bar, buddy.

00:48:07.750 --> 00:48:09.500
>> One more time?

00:48:09.500 --> 00:48:09.809
>> Should be.

00:48:09.809 --> 00:48:12.059
>> I heard that.

00:48:12.059 --> 00:48:15.989
We'll try it one more time.

00:48:15.989 --> 00:48:23.199
[ Silence ]

00:48:23.199 --> 00:48:32.259
Great. So let me just show you how we can actually
now do this here in Accounts since that didn't work.

00:48:32.260 --> 00:48:38.640
>> There's also the slim possibility that we were
testing this and said, OK, don't show me that again.

00:48:38.639 --> 00:48:40.699
>> Yeah. When I did.

00:48:40.699 --> 00:48:43.419
It won't let you opt out of doing that again.

00:48:43.420 --> 00:48:47.230
So here is a little change that I do want to point out.

00:48:47.230 --> 00:48:51.889
Because in Leopard we had Directory
Utility and the Utilities folder right next

00:48:51.889 --> 00:48:55.519
to the Directory app in the Utilities folder.

00:48:55.519 --> 00:48:57.769
We decided to really change things
around and get rid of both,

00:48:57.769 --> 00:49:02.480
so there are no Directory anythings
and the Utilities folder anymore.

00:49:02.480 --> 00:49:05.530
It is hiding somewhere if you need to get to it.

00:49:05.530 --> 00:49:08.290
It's actually in.

00:49:08.289 --> 00:49:08.969
>> Core Services.

00:49:08.969 --> 00:49:14.750
>> System Library Core Services, Directory Utility.

00:49:14.750 --> 00:49:15.090
Right? Yes.

00:49:15.090 --> 00:49:15.480
There it is.

00:49:15.480 --> 00:49:16.659
It's just moved.

00:49:16.659 --> 00:49:20.149
And we hid it because you can actually
get to it from the Accounts pane now,

00:49:20.150 --> 00:49:22.139
so it's just kind of a different path to get there.

00:49:22.139 --> 00:49:24.679
Oh, it came up finally.

00:49:24.679 --> 00:49:27.819
[applause] I was stalling there.

00:49:27.820 --> 00:49:29.620
So I promise.

00:49:29.619 --> 00:49:31.880
You know how demos have been at WWDC this week.

00:49:31.880 --> 00:49:37.390
This came up fine instantly six times before
the setup and then the balloon popped.

00:49:37.389 --> 00:49:39.769
So we're going to do a setup here.

00:49:39.769 --> 00:49:45.150
You notice that it actually says that the service
provides Address Book, iCal, iChat and Mail Services.

00:49:45.150 --> 00:49:49.720
It actually looked up the server configuration and
knew what services the server is going to offer there.

00:49:49.719 --> 00:49:53.429
So we're going to do a setup.

00:49:53.429 --> 00:49:56.319
And it's asking for my user account on the server.

00:49:56.320 --> 00:50:04.380
Let's see if I remember this password,
and it's asking for my local password.

00:50:04.380 --> 00:50:08.619
And what it's going to do, it's going to
automatically configure my applications, Address Book,

00:50:08.619 --> 00:50:11.150
iCal, iChat and Mail, to now use the server.

00:50:11.150 --> 00:50:15.990
So we're going to log out and log
back in to apply those settings.

00:50:15.989 --> 00:50:24.709
[ Silence ]

00:50:24.710 --> 00:50:26.260
How many of you have ever done this before?

00:50:26.260 --> 00:50:27.670
Automatic client configurations?

00:50:27.670 --> 00:50:28.119
>> Some.

00:50:28.119 --> 00:50:28.989
>> Small handful?

00:50:28.989 --> 00:50:35.289
[ Silence ]

00:50:35.289 --> 00:50:37.420
OK. So we're going to through some of the services here.

00:50:37.420 --> 00:50:39.800
We're going into iChat first.

00:50:39.800 --> 00:50:44.890
And so iChat I'm automatically configured with
myserver.example.com, which is the server we set up.

00:50:44.889 --> 00:50:48.199
We can actually see that it auto-populated
it with people in my workgroups.

00:50:48.199 --> 00:50:54.519
So I had created an account for Eric, and he's automatically
been added to my workgroups, so that's pretty cool.

00:50:54.519 --> 00:50:59.159
If we go into the Accounts pane
we can see it did get set up.

00:50:59.159 --> 00:51:02.139
So, and this is kind of proof that
DNS is actually working as well.

00:51:02.139 --> 00:51:08.109
Because the server that we're using is myserver.example.com.

00:51:08.110 --> 00:51:08.980
So there's iChat.

00:51:08.980 --> 00:51:11.369
Let's go into Mail.

00:51:11.369 --> 00:51:12.909
Probably should have started with Mail.

00:51:12.909 --> 00:51:16.769
Forgot about this.

00:51:16.769 --> 00:51:21.679
So remember I, when I was setting up the server
I sent out a welcome email to my new users,

00:51:21.679 --> 00:51:24.289
so let's take a look at that welcome email.

00:51:25.460 --> 00:51:30.449
Nice thing about the email is it actually now has
links inside the email so you go to specific things.

00:51:30.449 --> 00:51:38.659
It also tells me about my email address that was set up.

00:51:38.659 --> 00:51:45.210
So we can go onto the web server for example and login.

00:51:45.210 --> 00:51:45.990
Oh, it's [inaudible].

00:51:45.989 --> 00:51:51.829
[ Silence ]

00:51:51.829 --> 00:51:53.699
Great. So here's the Wiki.

00:51:53.699 --> 00:51:55.009
I can create it right here.

00:51:55.010 --> 00:51:56.270
I'm not going to do that.

00:51:56.269 --> 00:52:03.909
For the demo iCal you can see it's actually now connecting
to the server, so this is actually in my Web Calendar.

00:52:03.909 --> 00:52:06.989
So I'm going to create an event for today.

00:52:06.989 --> 00:52:16.019
[ Silence ]

00:52:16.019 --> 00:52:18.150
All right.

00:52:18.150 --> 00:52:21.329
So, and actually let's put that on the Web Cal.

00:52:21.329 --> 00:52:21.989
On the...

00:52:21.989 --> 00:52:27.049
[ Silence ]

00:52:27.050 --> 00:52:28.630
All right.

00:52:28.630 --> 00:52:33.670
So we've updated this through the Web
Calendar, or to my network calendar in iCal.

00:52:33.670 --> 00:52:42.829
We're going to actually go back to the Wiki server,
and I am completely strayed off the demo right now.

00:52:42.829 --> 00:52:47.230
So we're actually going into Calendar
on the web server, and yeah.

00:52:47.230 --> 00:52:48.300
Not there.

00:52:48.300 --> 00:52:51.990
>> Glad to see that's working [inaudible].

00:52:51.989 --> 00:53:05.259
[ Silence ]

00:53:05.260 --> 00:53:05.630
Yeah, I don't know.

00:53:05.630 --> 00:53:06.769
I'll take a look at that later.

00:53:06.769 --> 00:53:10.210
And then finally, Address Book.

00:53:10.210 --> 00:53:11.510
Address Book is now automatically set up.

00:53:11.510 --> 00:53:15.900
We have Address Book server on the server.

00:53:15.900 --> 00:53:23.550
So now we have an Address Book that
we can now access over the server.

00:53:23.550 --> 00:53:26.170
>> So one thing to point out here, this is
great for configuring all your services.

00:53:26.170 --> 00:53:30.800
But if you don't want to set up a Directory Asser [phonetic]
or you have a D or you have some other configuration

00:53:30.800 --> 00:53:34.460
where you don't really want all your clients
to bind, we still have the DNS resolution.

00:53:34.460 --> 00:53:40.159
So you can still hit the Wiki and anything else
that doesn't really require users or-- no problems.

00:53:40.159 --> 00:53:46.139
So you can actually like hit the Wiki from a Windows
client, because that DNS resolution is going to work.

00:53:46.139 --> 00:53:47.429
You can go ahead and say anything.

00:53:47.429 --> 00:53:52.369
Whatever that domain name was that you gave,
myserver.example.com, that's going to resolve

00:53:52.369 --> 00:53:57.199
on the network now because we're going through the
router rather than using this client binding thing.

00:53:57.199 --> 00:54:02.279
So that universal DHDP mechanism is
much better than the Leopard one.

00:54:02.280 --> 00:54:04.170
And again, they can hit File Sharing.

00:54:04.170 --> 00:54:05.240
They can hit the Wiki.

00:54:05.239 --> 00:54:08.619
They can hit a number of different services
without having to do any other configuration.

00:54:08.619 --> 00:54:11.009
It's just that domain name is going to work.

00:54:11.010 --> 00:54:12.640
>> So I forgot to show this.

00:54:12.639 --> 00:54:14.629
This is the port mapping from the AirPort base station.

00:54:14.630 --> 00:54:14.920
You can see it.

00:54:14.920 --> 00:54:16.889
It's set up with a few defaults.

00:54:16.889 --> 00:54:21.909
But because I selected Book, I wanted the
web to be ported, there's Port 80 and 443.

00:54:21.909 --> 00:54:29.219
So this is cool because now I can go to my ISP or
GoDaddy or whatever, register myserver.example.com,

00:54:29.219 --> 00:54:31.419
and have it point to the base station's IP address.

00:54:31.420 --> 00:54:33.880
And the base station's now going
to automatically forward that.

00:54:33.880 --> 00:54:34.700
So this is great.

00:54:34.699 --> 00:54:38.799
So that now when I'm on my local
network myserver.example.com is going

00:54:38.800 --> 00:54:40.180
to resolve to my internal address.

00:54:40.179 --> 00:54:44.119
And then when I'm roaming it's
going to use the external address.

00:54:44.119 --> 00:54:45.409
The address of the AirPort base station.

00:54:45.409 --> 00:54:49.460
So it uses kind of a split DNS there
and that's actually really nice.

00:54:49.460 --> 00:54:52.559
So you can be able to get to your settings from anywhere.

00:54:52.559 --> 00:54:55.549
Or your data anywhere.

00:54:55.550 --> 00:54:56.289
Well, Eric, is that it?

00:54:56.289 --> 00:54:57.779
>> That's about it.

00:54:57.780 --> 00:54:58.050
>> OK. 1