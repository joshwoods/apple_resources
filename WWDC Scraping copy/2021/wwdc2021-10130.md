# Wwdc2021 10130

## Transcript

More Videos

Streaming is available in most browsers,and in the Developer app.

About

Transcript

What’s new in managing Apple devicesDiscover the latest advancements in key device management capabilities for your organization or MDM solution. Explore the refreshed device management Settings on iOS and iPadOS, an all-new return to service functionality for macOS, and other updates to device management across Apple platforms.ResourcesApple Platform DeploymentAppleSeedDevice ManagementHD VideoSD VideoRelated VideosTech TalksDeploy iOS 15 in your organizationPrepare your organization for macOS MontereyWWDC21Discover account-driven User EnrollmentImprove MDM assignment of Apps and BooksManage devices with Apple ConfiguratorManage software updates in your organizationMeet declarative device management

Discover the latest advancements in key device management capabilities for your organization or MDM solution. Explore the refreshed device management Settings on iOS and iPadOS, an all-new return to service functionality for macOS, and other updates to device management across Apple platforms.

Apple Platform Deployment

AppleSeed

Device Management

HD VideoSD Video

HD Video

SD Video

Deploy iOS 15 in your organization

Prepare your organization for macOS Monterey

Discover account-driven User Enrollment

Improve MDM assignment of Apps and Books

Manage devices with Apple Configurator

Manage software updates in your organization

Meet declarative device management

Search this video…Hello and welcome to WWDC.My name is Graham, and I'm here with my colleague, Nadia,and we're from the Device Management team here at Apple.This past year has seen unprecedented changesin the way we work, live, and learn.From the office to the kitchen tableto the living room sofa,Apple hardware, software, and serviceshave been there to give people the powerand flexibility to do whatever needs doing.Apple platforms provide a huge opportunityfor system administratorsand mobile device management developersto deliver incredible apps,rich content, and powerful servicesto customers, employees, students, and teachers.At Apple, we believe that the balancebetween privacy, user agency, and administrative controlis what makes for a great device management solution.And in iOS 15 and macOS Monterey,we're introducing a number of great new featuresacross all of our platforms.With so many exciting new features to share,we've created deep dive sessions for many of them.I'd like to briefly touch on a few topicsbefore we get into today's content,starting with changes to user enrollment.User enrollment is designedfor Bring Your Own Device deployments,where the user and not the organization owns the device.This MDM enrollment type protects the privacyof personal data while still securingcorporate data on the device.This year, we have some exciting improvementsto data separation and user onboarding.Check out the "Discover account-driven user enrollment"session to learn more.Next, I'm very excited to share with you that Apple Configuratorfor iPhone is coming to the App Store,and we have a new featurefor macOS automated device enrollment.You are not going to want to missthe "Manage devices with Apple configurator" session.We're enhancing the device management protocolto be more robust and performant.For a look into the future of MDM,check out the "Meet declarative device management" session.This year, we have a number of excitingsoftware update changes for iOS, iPadOS, and macOS.See what's new in the "Manage software updatesin your organization" session,where we'll discuss testing, deploying,and enforcing OS updates.Now I'd like to turn it over to my colleague, Nadia,to tell you about some very exciting new featurescoming to iOS and iPadOS 15 this year.Hi, I'm excited to tell you about all the newiOS and iPadOS features for device management.This year, we've made a significant changeto the way users view their managed account,the profiles installed on the device,and how VPN is configured in Settings.VPN & Device Management have been combined together,providing one comprehensive placeto display the device state.There, you can get a complete understandingof how your device is being managed.Another key component of MDM is installing apps.Many MDM vendors have an agent app that they requireas part of configuring devices,or perhaps an organization has a critical appall their employees need.On supervised devices, this isn't a problembecause apps install without prompting the user.However, unsupervised devices prompt for permissionto install apps, which the user could then decline.Wouldn't it be great if you had more control over this?Well, now you do.Introducing Required App.You can now specify one app that you would like to be installedon unsupervised devices.We ensure user privacy is protected,since the user is consenting to the app installduring MDM enrollment,and only this app will installwithout additional user approval.Simply add the iTunes Store ID of the App Store applicationto the MDM profile.Then ensure your app has a device or user licenseand send the InstallApplication command.Also make sure to add a managed app attributeto ensure the user cannot remove your app.Securing the flow of data between appsis also a really important consideration.Managed open-in allows you to control whether datais allowed to enter or leave the management sphere.At its most basic, it controls independently whether data cancan be sent from an unmanaged appto a managed app and vice versa.And now we're making it better than everwith managed pasteboard.A new restriction called requireManagedPasteboardcontrols whether copy/paste is affected by managed open-in.System apps that will honor the restrictioninclude Calendar, Notes, Mail, and Files.All other apps require no additional changesto adopt this feature.Like usual, apps installed via MDMwill automatically be treated as managed,and apps installed by the user will be treated as unmanaged.With managed pasteboard, you'll always be allowedto see the paste button.If you're not allowed to paste content somewheredue to the restriction, you'll geta "Paste Not Allowed" notification.As a side note, the organization namethat appears in the notification can be modified usingthe OrganizationInfo Settings command.Last year, we brought Shared iPad to Business,which allows employees to have a personal experienceon a shared device.Shared iPad has traditionally requiredthe use of a Managed Apple ID,but with Temporary Session, anyone can use a shared iPad.When logging out, all data, such as Safari browsing history,modified user settings, and files addedwill be deleted from the device,leaving it ready for the next user.In iOS 14.5, we have introduced three new featuresin the SharedDeviceConfiguration Settings command.TemporarySessionOnly is to limit the ability to log inwith a Managed Apple ID.TemporarySessionTimeout and UserSessionTimeoutwill automatically log the user out after a set amount of time,ensuring that your data is secureafter a period of inactivity.Make sure to not set the timer to a value too short,and also pressing the power or Home buttonwill cause the timer to reset.Now let's talk about some changeswe've added for Apple TV.The TV Remote payload is useful for connectingspecific Apple TVs with the Remote widgetin Control Center on iOS and iPadOS devices.In tvOS 15, there is a new security enhancementwhere Apple TV will no longer broadcastMac addresses over Bonjour.Due to this change, we can no longer preventPIN prompts from appearing on the TV.To ensure minimal impact to your deployments,we've added a new key to the TV Remote payload.Use the new TVDeviceName key in addition to the TVDeviceID keyto filter Apple TV device names in the Remote widget.This will prevent any unwanted pairing attemptsfrom managed devices.A few other changes you will want to be aware of:all payload types within a single profilerequire unique payload identifiers.Additionally for unsupervised devices,the Take Management prompt for appscan be declined up to three times.After that, the device will not prompt for 24 hours.Also, we've updated a number of payload keysto use more inclusive language.Be sure to check out the updated Device Managementdocumentation for more information.Thanks for exploring all the incredible featureswith iOS and iPadOS 15.Now I'm going to hand it back to Graham to talkabout all the great new features coming to the Mac.Thank you, Nadia.I think you'll agree that 2020 was a very exciting year for the Mac,from the amazing new look and feelof Big Sur to the introduction of Apple silicon.This new generation of Mac is enabling our usersto do all kinds of amazing new things.And we have some great new device management featuresin macOS Monterey.Let's get started by talking about System Extensions.System Extensions allow for softwarelike network extensions and endpoint security solutionsto extend the functionality of macOSwithout requiring kernel-level access.We've made a few changes to the System Extension payloadto enhance the management experience.In macOS 11.3, installing the System Extension payloadchanges the state of a system extension.For example, if a system extensionis pending user approval,installing the payload will activate the extension.Conversely, removing the payload will nowdeactivate the system extension.In macOS Monterey, there is a new featurecalled RemovableSystemExtension.This will allow an app to deactivateits own system extension,for example, when the app uninstalls itself.With this feature, there will be no admin password requiredto remove the system extension.This may be useful in deploymentswhere the Mac has no admin user.In macOS Big Sur, it became a requirementto reboot a Mac to modify kernel extensions.We've added a few features to makemanaging kernel extensions easier.First, we added an option to the RestartDevice commandthat tells the Mac to rebuildits kernel extension cache on reboot.This is required anytime a kernel extensionis added or removed.Use the optional KextPaths key to specify kernel extensionsthat haven't been discovered by the operating system.This allows MDM to install an appand load the kernel extension without requiringthe user to launch the app before rebooting.The new NotifyUser option will allow MDMto display a reboot notification to the user.When clicked, the user can performa graceful restart of the Mac.The NotifyUser feature can be used outsideof the context of kernel extensions,but it's especially helpful when they're combined.The AllowNonAdminUserApprovals keyin the System Policy Kernel Extensions payloadallows a standard user to complete the installationof kernel extensions.Note the user must perform the restart from withinSystem Preferences or use the notificationfrom MDM to trigger the kernel cache rebuild.Depending on the hardware, you may need a bootstrap tokento complete this step.You can find out if this is requiredin the SecurityInfo query.Next, let's talk about apps.One of the coolest new features of Mac computerswith Apple silicon is the ability to run iPhoneand iPad apps.With the initial launch of macOS Big Sur,we added a new DeviceInformation query keythat reports if a Mac supports iPhoneand iPad app installs,and in macOS 11.3 on Apple silicon, this now returns true.Once you're ready to install an App Store appor your own in-house enterprise app,you'll need to include a new flagin the InstallApplication commandto indicate that it's an iPhone or iPad app.And in the case of in-house enterprise apps,ensure the URL in the manifest points directly to an .ipa fileand not a. pkg.We now support the ability to manageiOS-style provisioning profiles.This feature allows for independent managementof in-house enterprise apps and provisioning profiles.Now, let's talk about some new featuresexclusive to Apple silicon.We are enhancing the DeviceLock commandon Mac computers with Apple silicon.With this change, administrators will now be able to senda six-digit PIN, message, and phone number to the device.This will cause the Mac to reboot and present the userwith the information provided,bringing feature parity across all Mac models.With remote lock in place, the user is unable to usea Mac until the PIN has been provided.Once the PIN is entered, the Mac will rebootwith all data intact ready for login.While this is a great start,rebooting to recovery could allow for unintended data accessor changing critical security settings.So we're adding a new feature to set a recovery password.The new SetRecoveryLockand VerifyRecoveryLock MDM commandsallow you to set and verify a passwordthat must be entered before the Maccan reboot into recovery.There are some important details that you will want to knowabout using these new commands.The password can only be set and removed by MDM.Therefore, if a user un-enrolls from MDM,the recovery password will be removed.The MDM server needs to know the existing passwordto set a new password.And finally, both the DeviceLock PINand the Recovery Password will be removedwhen the Mac is erased.Therefore, we recommend using these featuresin conjunction with Activation Lockto provide the best security for your fleet.Now, we know you're pretty excited about these features,but we do have one last thing.Erase All Content and Settings for the Mac.New in macOS Monterey is the ability to Erase All Contentand Settings for a quick return to service.And we're very excited that this functionalitywill be available via MDM as well.Sending the EraseDevice command will now eraseall user data and reboot back to Setup Assistant,ready for the next user.A couple of notes on this featureyou'll want to be aware of:This feature is supported on Mac computers with Apple siliconand the Apple T2 security chip.If the Mac has multiple partitions,it will reboot back to setup on the current system volume,and all other volumes will be erased.On devices with Apple silicon, this will also resetany security settings that have been modified in recovery.We also know that you might not want users to erase their Mac,so we're bringing the allowEraseContentAndSettingsrestriction to the Mac.We've covered a ton of new features today,and we're so excited for you to get your hands on them.To keep up to date with the latest changes in each seed,please review the Device Management documentationat developer.apple.com.Also remember, AppleSeed for IThelps you access and test all of these new features.Any nonstudent Managed Apple ID from Apple School Manageror Apple Business Manager can participate in the program.Along with access to pre-release Apple software for testingin your environment, it includes detailed test plansand a way for you to provide feedback.I'd also like to remind you to check outall the great deep-dive sessions.These sessions will give you even more detailson all the new device management features.From the updates to user enrollmentto Shared iPad and all of the excitingnew features for the Mac,we look forward to seeing you takethe device management experience to the next level.Thank you, and enjoy the rest of your WWDC.[percussive music]

Hello and welcome to WWDC.My name is Graham, and I'm here with my colleague, Nadia,and we're from the Device Management team here at Apple.This past year has seen unprecedented changesin the way we work, live, and learn.From the office to the kitchen tableto the living room sofa,Apple hardware, software, and serviceshave been there to give people the powerand flexibility to do whatever needs doing.Apple platforms provide a huge opportunityfor system administratorsand mobile device management developersto deliver incredible apps,rich content, and powerful servicesto customers, employees, students, and teachers.At Apple, we believe that the balancebetween privacy, user agency, and administrative controlis what makes for a great device management solution.And in iOS 15 and macOS Monterey,we're introducing a number of great new featuresacross all of our platforms.With so many exciting new features to share,we've created deep dive sessions for many of them.I'd like to briefly touch on a few topicsbefore we get into today's content,starting with changes to user enrollment.User enrollment is designedfor Bring Your Own Device deployments,where the user and not the organization owns the device.This MDM enrollment type protects the privacyof personal data while still securingcorporate data on the device.This year, we have some exciting improvementsto data separation and user onboarding.Check out the "Discover account-driven user enrollment"session to learn more.Next, I'm very excited to share with you that Apple Configuratorfor iPhone is coming to the App Store,and we have a new featurefor macOS automated device enrollment.You are not going to want to missthe "Manage devices with Apple configurator" session.We're enhancing the device management protocolto be more robust and performant.For a look into the future of MDM,check out the "Meet declarative device management" session.This year, we have a number of excitingsoftware update changes for iOS, iPadOS, and macOS.See what's new in the "Manage software updatesin your organization" session,where we'll discuss testing, deploying,and enforcing OS updates.Now I'd like to turn it over to my colleague, Nadia,to tell you about some very exciting new featurescoming to iOS and iPadOS 15 this year.

Hi, I'm excited to tell you about all the newiOS and iPadOS features for device management.This year, we've made a significant changeto the way users view their managed account,the profiles installed on the device,and how VPN is configured in Settings.

VPN & Device Management have been combined together,providing one comprehensive placeto display the device state.There, you can get a complete understandingof how your device is being managed.Another key component of MDM is installing apps.Many MDM vendors have an agent app that they requireas part of configuring devices,or perhaps an organization has a critical appall their employees need.On supervised devices, this isn't a problembecause apps install without prompting the user.However, unsupervised devices prompt for permissionto install apps, which the user could then decline.Wouldn't it be great if you had more control over this?Well, now you do.Introducing Required App.You can now specify one app that you would like to be installedon unsupervised devices.We ensure user privacy is protected,since the user is consenting to the app installduring MDM enrollment,and only this app will installwithout additional user approval.Simply add the iTunes Store ID of the App Store applicationto the MDM profile.Then ensure your app has a device or user licenseand send the InstallApplication command.Also make sure to add a managed app attributeto ensure the user cannot remove your app.Securing the flow of data between appsis also a really important consideration.Managed open-in allows you to control whether datais allowed to enter or leave the management sphere.At its most basic, it controls independently whether data cancan be sent from an unmanaged appto a managed app and vice versa.And now we're making it better than everwith managed pasteboard.

A new restriction called requireManagedPasteboardcontrols whether copy/paste is affected by managed open-in.System apps that will honor the restrictioninclude Calendar, Notes, Mail, and Files.All other apps require no additional changesto adopt this feature.Like usual, apps installed via MDMwill automatically be treated as managed,and apps installed by the user will be treated as unmanaged.With managed pasteboard, you'll always be allowedto see the paste button.If you're not allowed to paste content somewheredue to the restriction, you'll geta "Paste Not Allowed" notification.As a side note, the organization namethat appears in the notification can be modified usingthe OrganizationInfo Settings command.Last year, we brought Shared iPad to Business,which allows employees to have a personal experienceon a shared device.Shared iPad has traditionally requiredthe use of a Managed Apple ID,but with Temporary Session, anyone can use a shared iPad.When logging out, all data, such as Safari browsing history,modified user settings, and files addedwill be deleted from the device,leaving it ready for the next user.In iOS 14.5, we have introduced three new featuresin the SharedDeviceConfiguration Settings command.TemporarySessionOnly is to limit the ability to log inwith a Managed Apple ID.TemporarySessionTimeout and UserSessionTimeoutwill automatically log the user out after a set amount of time,ensuring that your data is secureafter a period of inactivity.Make sure to not set the timer to a value too short,and also pressing the power or Home buttonwill cause the timer to reset.Now let's talk about some changeswe've added for Apple TV.The TV Remote payload is useful for connectingspecific Apple TVs with the Remote widgetin Control Center on iOS and iPadOS devices.In tvOS 15, there is a new security enhancementwhere Apple TV will no longer broadcastMac addresses over Bonjour.Due to this change, we can no longer preventPIN prompts from appearing on the TV.To ensure minimal impact to your deployments,we've added a new key to the TV Remote payload.Use the new TVDeviceName key in addition to the TVDeviceID keyto filter Apple TV device names in the Remote widget.This will prevent any unwanted pairing attemptsfrom managed devices.A few other changes you will want to be aware of:all payload types within a single profilerequire unique payload identifiers.Additionally for unsupervised devices,the Take Management prompt for appscan be declined up to three times.After that, the device will not prompt for 24 hours.Also, we've updated a number of payload keysto use more inclusive language.Be sure to check out the updated Device Managementdocumentation for more information.

Thanks for exploring all the incredible featureswith iOS and iPadOS 15.Now I'm going to hand it back to Graham to talkabout all the great new features coming to the Mac.Thank you, Nadia.I think you'll agree that 2020 was a very exciting year for the Mac,from the amazing new look and feelof Big Sur to the introduction of Apple silicon.This new generation of Mac is enabling our usersto do all kinds of amazing new things.And we have some great new device management featuresin macOS Monterey.Let's get started by talking about System Extensions.System Extensions allow for softwarelike network extensions and endpoint security solutionsto extend the functionality of macOSwithout requiring kernel-level access.We've made a few changes to the System Extension payloadto enhance the management experience.In macOS 11.3, installing the System Extension payloadchanges the state of a system extension.For example, if a system extensionis pending user approval,installing the payload will activate the extension.Conversely, removing the payload will nowdeactivate the system extension.In macOS Monterey, there is a new featurecalled RemovableSystemExtension.This will allow an app to deactivateits own system extension,for example, when the app uninstalls itself.With this feature, there will be no admin password requiredto remove the system extension.This may be useful in deploymentswhere the Mac has no admin user.In macOS Big Sur, it became a requirementto reboot a Mac to modify kernel extensions.We've added a few features to makemanaging kernel extensions easier.First, we added an option to the RestartDevice commandthat tells the Mac to rebuildits kernel extension cache on reboot.This is required anytime a kernel extensionis added or removed.Use the optional KextPaths key to specify kernel extensionsthat haven't been discovered by the operating system.This allows MDM to install an appand load the kernel extension without requiringthe user to launch the app before rebooting.The new NotifyUser option will allow MDMto display a reboot notification to the user.When clicked, the user can performa graceful restart of the Mac.The NotifyUser feature can be used outsideof the context of kernel extensions,but it's especially helpful when they're combined.The AllowNonAdminUserApprovals keyin the System Policy Kernel Extensions payloadallows a standard user to complete the installationof kernel extensions.Note the user must perform the restart from withinSystem Preferences or use the notificationfrom MDM to trigger the kernel cache rebuild.Depending on the hardware, you may need a bootstrap tokento complete this step.You can find out if this is requiredin the SecurityInfo query.Next, let's talk about apps.One of the coolest new features of Mac computerswith Apple silicon is the ability to run iPhoneand iPad apps.With the initial launch of macOS Big Sur,we added a new DeviceInformation query keythat reports if a Mac supports iPhoneand iPad app installs,and in macOS 11.3 on Apple silicon, this now returns true.Once you're ready to install an App Store appor your own in-house enterprise app,you'll need to include a new flagin the InstallApplication commandto indicate that it's an iPhone or iPad app.And in the case of in-house enterprise apps,ensure the URL in the manifest points directly to an .ipa fileand not a. pkg.We now support the ability to manageiOS-style provisioning profiles.This feature allows for independent managementof in-house enterprise apps and provisioning profiles.Now, let's talk about some new featuresexclusive to Apple silicon.We are enhancing the DeviceLock commandon Mac computers with Apple silicon.With this change, administrators will now be able to senda six-digit PIN, message, and phone number to the device.This will cause the Mac to reboot and present the userwith the information provided,bringing feature parity across all Mac models.With remote lock in place, the user is unable to usea Mac until the PIN has been provided.Once the PIN is entered, the Mac will rebootwith all data intact ready for login.While this is a great start,rebooting to recovery could allow for unintended data accessor changing critical security settings.So we're adding a new feature to set a recovery password.The new SetRecoveryLockand VerifyRecoveryLock MDM commandsallow you to set and verify a passwordthat must be entered before the Maccan reboot into recovery.There are some important details that you will want to knowabout using these new commands.The password can only be set and removed by MDM.Therefore, if a user un-enrolls from MDM,the recovery password will be removed.The MDM server needs to know the existing passwordto set a new password.And finally, both the DeviceLock PINand the Recovery Password will be removedwhen the Mac is erased.Therefore, we recommend using these featuresin conjunction with Activation Lockto provide the best security for your fleet.Now, we know you're pretty excited about these features,but we do have one last thing.Erase All Content and Settings for the Mac.New in macOS Monterey is the ability to Erase All Contentand Settings for a quick return to service.And we're very excited that this functionalitywill be available via MDM as well.Sending the EraseDevice command will now eraseall user data and reboot back to Setup Assistant,ready for the next user.A couple of notes on this featureyou'll want to be aware of:This feature is supported on Mac computers with Apple siliconand the Apple T2 security chip.If the Mac has multiple partitions,it will reboot back to setup on the current system volume,and all other volumes will be erased.On devices with Apple silicon, this will also resetany security settings that have been modified in recovery.We also know that you might not want users to erase their Mac,so we're bringing the allowEraseContentAndSettingsrestriction to the Mac.We've covered a ton of new features today,and we're so excited for you to get your hands on them.To keep up to date with the latest changes in each seed,please review the Device Management documentationat developer.apple.com.Also remember, AppleSeed for IThelps you access and test all of these new features.Any nonstudent Managed Apple ID from Apple School Manageror Apple Business Manager can participate in the program.Along with access to pre-release Apple software for testingin your environment, it includes detailed test plansand a way for you to provide feedback.I'd also like to remind you to check outall the great deep-dive sessions.These sessions will give you even more detailson all the new device management features.

From the updates to user enrollmentto Shared iPad and all of the excitingnew features for the Mac,we look forward to seeing you takethe device management experience to the next level.Thank you, and enjoy the rest of your WWDC.[percussive music]

## Code Samples

