# Wwdc2021 10077

## Transcript

More Videos

Streaming is available in most browsers,and in the Developer app.

About

Transcript

Create 3D workflows with USDDiscover the flexibility, versatility and power of Pixar's Universal Scene Description (USD) for your 3D workflows. Learn how you can use the USD file format in your professional workflows for macOS: Scan 3D models of your real-world objects using Object Capture, utilize the potential of third-party digital content creation tools, and build high-quality rendered sequences.ResourcesASWF USD Working GroupIntroduction to Universal Scene Description (USD)Reality Converter and USDZ ToolsRigid Body Physics in USD ProposalSearch forums for USDZUSD Github RepositoryHD VideoSD VideoRelated VideosWWDC23Meet Reality Composer ProWWDC22Explore USD tools and renderingUnderstand USD fundamentalsWWDC21AR Quick Look, meet Object CaptureCreate 3D models with Object CaptureWWDC20What's new in USDWWDC19Working with USD

Discover the flexibility, versatility and power of Pixar's Universal Scene Description (USD) for your 3D workflows. Learn how you can use the USD file format in your professional workflows for macOS: Scan 3D models of your real-world objects using Object Capture, utilize the potential of third-party digital content creation tools, and build high-quality rendered sequences.

ASWF USD Working Group

Introduction to Universal Scene Description (USD)

Reality Converter and USDZ Tools

Rigid Body Physics in USD Proposal

Search forums for USDZ

USD Github Repository

HD VideoSD Video

HD Video

SD Video

Meet Reality Composer Pro

Explore USD tools and rendering

Understand USD fundamentals

AR Quick Look, meet Object Capture

Create 3D models with Object Capture

What's new in USD

Working with USD

Search this videoâ€¦Hello and welcome to WWDC.My name is Doug, and today my colleague Nate and I will take a lookat how Universal Scene Description, or USD,can be used for a wide variety of 3D work flows.We'll talk a little bit about what USD is,take a look at the exciting developmentsn the world of USD,show some incredible new features in Preview,and demonstrate how USD can be at the centerof a creative 3D workflow.USD is a set of libraries and file formatsthat allows for assembly, interchange, and organizationof any number of assetsinto scenes, shots, or virtual objects.From object capture, asset creation,layout and editingto rendering quick thumbnails for sharing or feedbackto creating USDZ assets for use in Augmented Reality, or AR.The flexibility of USD can be a core componentof an extensible, collaborative, 3D pipeline.USD is a foundational technologythat, with the growing and deepening integrationinto Digital Content Creation tools,is enabling more and more waysof creating assets and content.Render, collaborate, for games, AR, filmall with USD at the center.USD was developed by Pixar to enable them to createthe enormously complex movies we love.We at Apple worked with Pixar a few years agoto develop the USDZ formatto utilize USD in a single fileto deliver rich AR content directly to your devices.USD-based workflows are highly collaborative,enabling you to work independentlyon parts of an asset,easily incorporating your changes with others.It's inherently extensible by designand is rapidly emerging as a key workflow technology.It's built on decades and decadesof production experience in the film industryand is increasingly being adoptedfor games, simulation, AR, manufacturing, and e-commerce.Pixar is using an open and collaborative modelthat the USD project has been following.The USD forum is active and full of core contributorsanswering queries,and the Academy Software Foundationhas a working group that meets regularlyto gather input from interested groups.Let's take a high level lookat other formats out there today.The most basic format is .obj,which often essentially contains just a single 3D model.It has limited support for materialsand no support for animations.Then there's a large group of more modern file formats.These usually support multiple modelsthat can be laid out in a scene graphand have varying levels of supportfor material and definitions.Many are tied to proprietary tools.USD supports all of thisand is additionally designed to be highly scalable.Pixar developed USD for its use in films,so representing millions of objects is the typical case.And USD is builtwith collaboration as a core feature,allowing for many artists to work on a single scenewithout getting in each other's way.USDZ is the archive package for USDand inherits most of these features,is optimized for sharing, and allows a single fileto contain all the resources needed for rich AR interchange.USD naturally allows creation of USDZ files for AR content.But it's also the front-end for a full featured pipelinethat delivers USDZ for AR and e-commerceand assets for offline rendering.Last year, we released RealityConverter,a stand-alone utility to allow easy creationof a self-contained USDZ from collections of USD files,.obj, alembic,and a wide variety of other 3D formats as well.On the Apple Developer site, there are command line toolsto allow you to automate processing of batches of assets.As the delivery format for AR,USDZs can be authored to target a specific Apple device,letting you tailor the experiencefor your audience.The USD ecosystem is growing rapidly.It's really exciting to see the things growingfrom the roots of what USD provides.Multiverse from J-Cubebrings the full power of non-destructive USD editingto the Mac, enabling insanely fastmulti-DCC workflows as well as editingin the Multiverse USD Standalone Editor,all powered by the Metal Hydra Storm renderer.OTOY's Octane renderer can plug into DCC's like Houdiniand harnesses the blazing-fast power of the GPUto render spectrally correct images directly from USD files.ZBrush works directly with USD mesh datato bring all the power of sculpting to a USD workflow.And Maya continues to integrate USD deeper and deeper,now using USD Hydra rendering directly in the VP2 viewport.Maya 2022 is the first versionto have native seamless integration of USD.This means you can load gigabytes of USD data in secondsand work directly with that data using Maya's native tools.USD data is integrated right into the Attribute Editorand the Outliner.It brings all the USD benefits right inside the DCC:nondestructive editing, variants,and collaboration to name a few.Apple worked with Autodesk to improve the USDimporting and exporting functionality as well,including Blendshape supportand using textures directly in USDZ files.Of course, USD isn't a static technology.Apple is collaborating with Pixarand the rest of the USD communityto extend and improve USD's supportfor the latest features in 3D content creation.Last year Apple, Nvidia, and Pixarjointly developed a schema to represent propertiesneeded for Physics simulation.It can represent properties from real-time AR physicsall the way to offline simulationsfor robotics and film.It's exciting to see such widespread supportand so many great updates to the USD ecosystem.Another key feature of USD is Hydra.Hydra is USD's high-performance, modern rendering architecturedesigned specifically to get millions of objectsto your screen as fast as possible.Hydra Storm is one such rendererthat is part of the core USD open-source distribution.We're thrilled to share that Preview and Quick Lookin macOS will includea Metal-accelerated Hydra Storm renderer.This allows anyone to quickly view USD filesin a way that's consistent with Hydra Stormon other platformsall without having to open a DCC.It can handle complex production-grade assetsand has some 3D scene exploration tools built in.Here's a layout asset from Pixar's "Toy Story 4,"the antiques mallrendering in real-time in Preview.It has tens of thousands of individual objectsand about 34 million triangles.It's a great example of a production-quality asset,and it's a real challenge not only for the rendererbut for also any scene navigation tools.To help move around the scene,any cameras in the USD fileare shown in the thumbnail views to the left,letting me click through them.As well as the normal camera controls,I can click on objects in the viewand lock the camera to them.To get a more detailed picture of the composition of the scene,we added an outlinerthat displays all of the object nodes.If I select an object in the view,then it is highlighted in the outliner.But as you can see from this huge list here,we needed to provide better toolsto assist with scenes of this complexity.So we've also added the ability to search for objects by name.For example, if I search for all the jukeboxes in the scene,I'll get a list of them and can focus on each in turn.Once I've found the one I'm interested in,it can be saved as a separate USD file.And then I can view this again in Preview and Quick Lookand use it in my AR scene in Reality Composer.On top of the features I've just shown you,Preview also enables youto render animated USD scenes to a movie fileor render the current view to an image,complete with alpha channel.For AR, Preview uses the RealityKitrendering engine to view USDZ files.It's the same renderer as AR Quick Look on iOSand is a great way to checkwhat an on-device view will look like.We've worked with Pixar Animation Studiosto add Metal and M1 acceleration supportto their powerful GPU rendererfor producing 3D movies like "Soul"and the upcoming movie "Luca."Pixar Animation Studios is makingMetal-accelerated Hydra Storm available for integrationin your apps through their USD Open Source projectby the end of 2021.Now let's see how all these exciting USD toolscan be used in a single workflow.So let's let Nate get to work.Thanks, Doug.We're going to show you how you can use USDto capture a real-world object and bring it into 3D.We'll edit it along the wayand then render a gorgeous photoreal product shotall with USD.In a traditional 3D workflow,sharing data between DCCs is cumbersome and error-prone.Lengthy import and export steps are requiredto move data from one tool to another.This traditional workflow is also one-way.As only the last stages of the pipelinecan see the overall scene, earlier stages lack contexton how their contributions will be used.In contrast, USD allows us to work in parallelusing different toolsand to work natively on the same data.Crucially, since all of our data is represented as USD,the import/export step is eliminatedand sharing is automatic.A USD workflow enables faster iteration,better collaboration,and opens up new and more creative possibilities.Since it's morning somewhere,we can assume that it's time for breakfast.So let's make some pancakes.Here's a sketch of how we'd like our overall scene to look.We've storyboarded a few different concepts,camera angles, and layouts,and decided this is our favorite.Let's see how we can use USDto turn this sketch into reality.Since we're using USD,we can arrange the scene into several separate files.Each file will contribute to some aspect of the scene,be it the layout of the models,sculpting of the geometry,or any animation or lighting we might want to add.These files are all referenced, or linked, into the main scene.This is a core feature of USDwhich allows any number of people or toolsto collaborate on the same scene at the same time.So first, let's set the table.We're using Autodesk's Maya to construct our overall scene.We need a USD file to store all of the layout data.This is where we assemble all of our assetsand place them into the scene.We also want a cool camera move,so we add a USD file to our scenefor the camera animation.To create the 3D model of the pancakes,we'll use Object Capture on our real pancakes.After we've captured the model,we'll use Pixologic's ZBrush to do some cleanupand make some enhancements.Here we've added a sculpting USD file to the scenewhere this data will live.Can't have pancakes without syrup.We make our virtual syrup in SideFX Houdini,using its fluid simulation capabilitiesand native support for USD.Finally, we'll also use Houdinito add some virtual lights to our scene.Let's see in a little more detailhow all of this comes together.First, we use Object Capture to create a 3D modelfrom our real, physical pancakes.Using a series of photographstaken from different angles,we can construct a 3D meshand surface material of the pancakes.Once we've acquired this model, we can view it in Preview.Here's a breakdown of the captured modelwith and without textures.We'll use this as the basis of our sculpting USDthat we'll edit later in ZBrush.While we're capturing the pancakes,we can use Maya to construct the initial set of USD fileswhere all of our data will live.As of Maya 2022,USD is natively supported,and it's easy to create a setup like this.Once we've set up our filesand linked in our captured pancakes,we can do the layout.Here I've assembled some of the propsthat make up the scene.I just need to make a few more adjustments.This is the breakdown of our sceneafter we've done the layout.While Object Capture produces excellent results,we weren't able to captureall of the angles of our pancakesbefore we ate them,so let's take them into ZBrushfor some digital enhancement.Using ZBrush, we can paint in the missing geometryat the bottom of the stack of pancakeswhere they rested on the plate when we photographed them.In addition, we can addeven more physical detail to the model,as well as make some improvementsto the surface material.These edits are being made in the sculpting.usd filewe created earlier.Since the main scene is referencing this file,everyone on the team will get these updatesas they are made.Object Capture looks great, but you can see the improvementthat ZBrush brings by adding detail and polish to the model.While they already look scrumptious,they could use just a little bit more sweetening.For this task,we'll take our pancakes into Houdiniand add our virtual syrup and lighting.In Houdini, we can directly loadall of our USD files as native data.Houdini has powerful procedural toolsto generate all sorts of effects,and we can use it to pour virtual syrupall over our stack of pancakes.Here's what our scene looks likewith contributions from Maya, ZBrush, and Houdini.Everything is brought together,and now we just need to share it.Fortunately, we're using USD, and we have a lot of options.We can create a USDZ fileand share our scene in Augmented Realityusing AR Quick Look on iOS.On the Mac, we can use the new built-in featuresof Preview that Doug demonstrated earlier.Or we can use a studio-level offline rendererto produce a photo-real video.First, we'll bring our pancakes into AR.Reality Composer lets us load our USD sceneand make any final adjustmentsbefore we save it as an AR-enabled USDZ file.Let's load this up on the iPad Pro and have a look.Just tap on the USDZ file, and AR Quick Look opens up.In seconds, we've created pancakes in AR.Looks delicious.Next, let's check out our scene in Preview on the Mac.We can navigate the scene,inspect objects, select assets,export them, and share.Everything stays as USD.Finally, we'll create a video using OTOY's Octaneto create an offline, path-traced render of our scene.Whatever changes we maketo adjust the lighting or materialscan be shared back in AR or viewed in Preview.USD makes this all possible.From sketch to reality,thanks to USD and some great tools,we've turned real pancakes into virtual breakfast.We hope we've given you a glimpseof how you can use USDto create exciting and complex 3D scenes and assets.All of these software vendorsare actively integrating USD into their products,so we encourage you to get the latest and greatestand have fun exploring the universe of USD.For more info on Object Capture,check out this session from this year's WWDC.We also have several talks about USD on the Apple platform.Check out this talk on "What's new in USD"from last year's conference.Thank you.[music]

Hello and welcome to WWDC.My name is Doug, and today my colleague Nate and I will take a lookat how Universal Scene Description, or USD,can be used for a wide variety of 3D work flows.

We'll talk a little bit about what USD is,take a look at the exciting developmentsn the world of USD,show some incredible new features in Preview,and demonstrate how USD can be at the centerof a creative 3D workflow.

USD is a set of libraries and file formatsthat allows for assembly, interchange, and organizationof any number of assetsinto scenes, shots, or virtual objects.From object capture, asset creation,layout and editingto rendering quick thumbnails for sharing or feedbackto creating USDZ assets for use in Augmented Reality, or AR.The flexibility of USD can be a core componentof an extensible, collaborative, 3D pipeline.

USD is a foundational technologythat, with the growing and deepening integrationinto Digital Content Creation tools,is enabling more and more waysof creating assets and content.Render, collaborate, for games, AR, filmall with USD at the center.

USD was developed by Pixar to enable them to createthe enormously complex movies we love.We at Apple worked with Pixar a few years agoto develop the USDZ formatto utilize USD in a single fileto deliver rich AR content directly to your devices.USD-based workflows are highly collaborative,enabling you to work independentlyon parts of an asset,easily incorporating your changes with others.It's inherently extensible by designand is rapidly emerging as a key workflow technology.It's built on decades and decadesof production experience in the film industryand is increasingly being adoptedfor games, simulation, AR, manufacturing, and e-commerce.Pixar is using an open and collaborative modelthat the USD project has been following.The USD forum is active and full of core contributorsanswering queries,and the Academy Software Foundationhas a working group that meets regularlyto gather input from interested groups.

Let's take a high level lookat other formats out there today.

The most basic format is .obj,which often essentially contains just a single 3D model.It has limited support for materialsand no support for animations.Then there's a large group of more modern file formats.These usually support multiple modelsthat can be laid out in a scene graphand have varying levels of supportfor material and definitions.Many are tied to proprietary tools.

USD supports all of thisand is additionally designed to be highly scalable.Pixar developed USD for its use in films,so representing millions of objects is the typical case.And USD is builtwith collaboration as a core feature,allowing for many artists to work on a single scenewithout getting in each other's way.USDZ is the archive package for USDand inherits most of these features,is optimized for sharing, and allows a single fileto contain all the resources needed for rich AR interchange.

USD naturally allows creation of USDZ files for AR content.But it's also the front-end for a full featured pipelinethat delivers USDZ for AR and e-commerceand assets for offline rendering.Last year, we released RealityConverter,a stand-alone utility to allow easy creationof a self-contained USDZ from collections of USD files,.obj, alembic,and a wide variety of other 3D formats as well.On the Apple Developer site, there are command line toolsto allow you to automate processing of batches of assets.As the delivery format for AR,USDZs can be authored to target a specific Apple device,letting you tailor the experiencefor your audience.

The USD ecosystem is growing rapidly.It's really exciting to see the things growingfrom the roots of what USD provides.Multiverse from J-Cubebrings the full power of non-destructive USD editingto the Mac, enabling insanely fastmulti-DCC workflows as well as editingin the Multiverse USD Standalone Editor,all powered by the Metal Hydra Storm renderer.OTOY's Octane renderer can plug into DCC's like Houdiniand harnesses the blazing-fast power of the GPUto render spectrally correct images directly from USD files.ZBrush works directly with USD mesh datato bring all the power of sculpting to a USD workflow.And Maya continues to integrate USD deeper and deeper,now using USD Hydra rendering directly in the VP2 viewport.

Maya 2022 is the first versionto have native seamless integration of USD.This means you can load gigabytes of USD data in secondsand work directly with that data using Maya's native tools.USD data is integrated right into the Attribute Editorand the Outliner.It brings all the USD benefits right inside the DCC:nondestructive editing, variants,and collaboration to name a few.Apple worked with Autodesk to improve the USDimporting and exporting functionality as well,including Blendshape supportand using textures directly in USDZ files.Of course, USD isn't a static technology.Apple is collaborating with Pixarand the rest of the USD communityto extend and improve USD's supportfor the latest features in 3D content creation.Last year Apple, Nvidia, and Pixarjointly developed a schema to represent propertiesneeded for Physics simulation.It can represent properties from real-time AR physicsall the way to offline simulationsfor robotics and film.

It's exciting to see such widespread supportand so many great updates to the USD ecosystem.Another key feature of USD is Hydra.

Hydra is USD's high-performance, modern rendering architecturedesigned specifically to get millions of objectsto your screen as fast as possible.Hydra Storm is one such rendererthat is part of the core USD open-source distribution.We're thrilled to share that Preview and Quick Lookin macOS will includea Metal-accelerated Hydra Storm renderer.This allows anyone to quickly view USD filesin a way that's consistent with Hydra Stormon other platformsall without having to open a DCC.It can handle complex production-grade assetsand has some 3D scene exploration tools built in.

Here's a layout asset from Pixar's "Toy Story 4,"the antiques mallrendering in real-time in Preview.It has tens of thousands of individual objectsand about 34 million triangles.It's a great example of a production-quality asset,and it's a real challenge not only for the rendererbut for also any scene navigation tools.

To help move around the scene,any cameras in the USD fileare shown in the thumbnail views to the left,letting me click through them.As well as the normal camera controls,I can click on objects in the viewand lock the camera to them.To get a more detailed picture of the composition of the scene,we added an outlinerthat displays all of the object nodes.If I select an object in the view,then it is highlighted in the outliner.But as you can see from this huge list here,we needed to provide better toolsto assist with scenes of this complexity.So we've also added the ability to search for objects by name.For example, if I search for all the jukeboxes in the scene,I'll get a list of them and can focus on each in turn.

Once I've found the one I'm interested in,it can be saved as a separate USD file.And then I can view this again in Preview and Quick Lookand use it in my AR scene in Reality Composer.

On top of the features I've just shown you,Preview also enables youto render animated USD scenes to a movie fileor render the current view to an image,complete with alpha channel.

For AR, Preview uses the RealityKitrendering engine to view USDZ files.It's the same renderer as AR Quick Look on iOSand is a great way to checkwhat an on-device view will look like.

We've worked with Pixar Animation Studiosto add Metal and M1 acceleration supportto their powerful GPU rendererfor producing 3D movies like "Soul"and the upcoming movie "Luca."Pixar Animation Studios is makingMetal-accelerated Hydra Storm available for integrationin your apps through their USD Open Source projectby the end of 2021.

Now let's see how all these exciting USD toolscan be used in a single workflow.So let's let Nate get to work.

Thanks, Doug.We're going to show you how you can use USDto capture a real-world object and bring it into 3D.We'll edit it along the wayand then render a gorgeous photoreal product shotall with USD.

In a traditional 3D workflow,sharing data between DCCs is cumbersome and error-prone.Lengthy import and export steps are requiredto move data from one tool to another.This traditional workflow is also one-way.As only the last stages of the pipelinecan see the overall scene, earlier stages lack contexton how their contributions will be used.In contrast, USD allows us to work in parallelusing different toolsand to work natively on the same data.Crucially, since all of our data is represented as USD,the import/export step is eliminatedand sharing is automatic.A USD workflow enables faster iteration,better collaboration,and opens up new and more creative possibilities.Since it's morning somewhere,we can assume that it's time for breakfast.So let's make some pancakes.Here's a sketch of how we'd like our overall scene to look.

We've storyboarded a few different concepts,camera angles, and layouts,and decided this is our favorite.Let's see how we can use USDto turn this sketch into reality.

Since we're using USD,we can arrange the scene into several separate files.Each file will contribute to some aspect of the scene,be it the layout of the models,sculpting of the geometry,or any animation or lighting we might want to add.These files are all referenced, or linked, into the main scene.This is a core feature of USDwhich allows any number of people or toolsto collaborate on the same scene at the same time.So first, let's set the table.We're using Autodesk's Maya to construct our overall scene.We need a USD file to store all of the layout data.This is where we assemble all of our assetsand place them into the scene.

We also want a cool camera move,so we add a USD file to our scenefor the camera animation.

To create the 3D model of the pancakes,we'll use Object Capture on our real pancakes.After we've captured the model,we'll use Pixologic's ZBrush to do some cleanupand make some enhancements.Here we've added a sculpting USD file to the scenewhere this data will live.Can't have pancakes without syrup.We make our virtual syrup in SideFX Houdini,using its fluid simulation capabilitiesand native support for USD.

Finally, we'll also use Houdinito add some virtual lights to our scene.

Let's see in a little more detailhow all of this comes together.

First, we use Object Capture to create a 3D modelfrom our real, physical pancakes.Using a series of photographstaken from different angles,we can construct a 3D meshand surface material of the pancakes.

Once we've acquired this model, we can view it in Preview.Here's a breakdown of the captured modelwith and without textures.We'll use this as the basis of our sculpting USDthat we'll edit later in ZBrush.

While we're capturing the pancakes,we can use Maya to construct the initial set of USD fileswhere all of our data will live.

As of Maya 2022,USD is natively supported,and it's easy to create a setup like this.

Once we've set up our filesand linked in our captured pancakes,we can do the layout.Here I've assembled some of the propsthat make up the scene.I just need to make a few more adjustments.

This is the breakdown of our sceneafter we've done the layout.While Object Capture produces excellent results,we weren't able to captureall of the angles of our pancakesbefore we ate them,so let's take them into ZBrushfor some digital enhancement.

Using ZBrush, we can paint in the missing geometryat the bottom of the stack of pancakeswhere they rested on the plate when we photographed them.In addition, we can addeven more physical detail to the model,as well as make some improvementsto the surface material.These edits are being made in the sculpting.usd filewe created earlier.Since the main scene is referencing this file,everyone on the team will get these updatesas they are made.

Object Capture looks great, but you can see the improvementthat ZBrush brings by adding detail and polish to the model.While they already look scrumptious,they could use just a little bit more sweetening.For this task,we'll take our pancakes into Houdiniand add our virtual syrup and lighting.

In Houdini, we can directly loadall of our USD files as native data.Houdini has powerful procedural toolsto generate all sorts of effects,and we can use it to pour virtual syrupall over our stack of pancakes.

Here's what our scene looks likewith contributions from Maya, ZBrush, and Houdini.Everything is brought together,and now we just need to share it.

Fortunately, we're using USD, and we have a lot of options.We can create a USDZ fileand share our scene in Augmented Realityusing AR Quick Look on iOS.On the Mac, we can use the new built-in featuresof Preview that Doug demonstrated earlier.Or we can use a studio-level offline rendererto produce a photo-real video.

First, we'll bring our pancakes into AR.Reality Composer lets us load our USD sceneand make any final adjustmentsbefore we save it as an AR-enabled USDZ file.

Let's load this up on the iPad Pro and have a look.

Just tap on the USDZ file, and AR Quick Look opens up.

In seconds, we've created pancakes in AR.Looks delicious.

Next, let's check out our scene in Preview on the Mac.We can navigate the scene,inspect objects, select assets,export them, and share.Everything stays as USD.

Finally, we'll create a video using OTOY's Octaneto create an offline, path-traced render of our scene.Whatever changes we maketo adjust the lighting or materialscan be shared back in AR or viewed in Preview.USD makes this all possible.From sketch to reality,thanks to USD and some great tools,we've turned real pancakes into virtual breakfast.

We hope we've given you a glimpseof how you can use USDto create exciting and complex 3D scenes and assets.All of these software vendorsare actively integrating USD into their products,so we encourage you to get the latest and greatestand have fun exploring the universe of USD.For more info on Object Capture,check out this session from this year's WWDC.We also have several talks about USD on the Apple platform.Check out this talk on "What's new in USD"from last year's conference.Thank you.[music]

## Code Samples

