WEBVTT

00:00:00.934 --> 00:00:02.703
Mike Boylan: Hi,
my name is Mike Boylan,

00:00:02.703 --> 00:00:04.304
and I'm a senior
consulting engineer

00:00:04.304 --> 00:00:06.340
in Apple's Worldwide
Field Engineering team

00:00:06.340 --> 00:00:08.942
focused on macOS deployment
and management.

00:00:08.942 --> 00:00:11.812
I'm really excited to help you
prepare your organization

00:00:11.812 --> 00:00:13.847
for macOS Monterey.

00:00:15.415 --> 00:00:17.551
macOS Monterey brings
powerful features

00:00:17.551 --> 00:00:20.053
designed to allow you
to connect, share, and create

00:00:20.053 --> 00:00:22.723
like never before,
get things done faster,

00:00:22.723 --> 00:00:25.459
and work seamlessly
across Apple devices.

00:00:25.459 --> 00:00:27.294
And there are a number
of platform changes,

00:00:27.294 --> 00:00:28.462
new management features,

00:00:28.462 --> 00:00:31.932
and lots of deployment workflow
improvements for IT as well.

00:00:33.367 --> 00:00:35.736
In deploying macOS Big Sur,
we covered changes

00:00:35.736 --> 00:00:37.738
to deployment and management
for Mac computers

00:00:37.738 --> 00:00:39.172
with Apple silicon

00:00:39.172 --> 00:00:41.041
and went deep
into deployment workflows

00:00:41.041 --> 00:00:44.111
with a focus on
the macOS Installer.

00:00:44.111 --> 00:00:46.079
And at WWDC21,

00:00:46.079 --> 00:00:47.648
we had a lot
of sessions for you,

00:00:47.648 --> 00:00:49.383
covering a wide range of topics

00:00:49.383 --> 00:00:52.452
relevant to deployment
and management of macOS.

00:00:52.452 --> 00:00:55.389
We'll recap some of the key
points from these sessions,

00:00:55.389 --> 00:00:58.125
but we'll also share updates
we've made since these sessions

00:00:58.125 --> 00:01:01.194
based on your feedback.

00:01:01.194 --> 00:01:02.930
There are improvements
in macOS Monterey

00:01:02.930 --> 00:01:05.666
throughout all aspects
of the deployment life cycle,

00:01:05.666 --> 00:01:07.134
from initial enrollment,

00:01:07.134 --> 00:01:09.903
to deployment
and ongoing management,

00:01:09.903 --> 00:01:12.205
and return to service.

00:01:12.205 --> 00:01:15.475
Let's get started
with initial enrollment.

00:01:15.475 --> 00:01:16.743
Automated Device Enrollment

00:01:16.743 --> 00:01:19.379
lets organizations configure
and manage devices

00:01:19.379 --> 00:01:22.282
from the moment the devices
are removed from the box

00:01:22.282 --> 00:01:25.752
and enables you to use
all available MDM functionality,

00:01:25.752 --> 00:01:29.523
including marking
the MDM profile as nonremovable.

00:01:29.523 --> 00:01:31.992
Automated Device Enrollment
is designed for devices

00:01:31.992 --> 00:01:33.627
owned by the organization

00:01:33.627 --> 00:01:36.797
and works best with devices
purchased directly from Apple

00:01:36.797 --> 00:01:39.399
or from participating
Apple Authorized Resellers

00:01:39.399 --> 00:01:41.168
or carriers.

00:01:41.168 --> 00:01:43.804
We know that some devices
may be purchased or donated

00:01:43.804 --> 00:01:45.372
from outside
of the normal channels

00:01:45.372 --> 00:01:47.941
that support
Automated Device Enrollment;

00:01:47.941 --> 00:01:49.009
and for these scenarios,

00:01:49.009 --> 00:01:51.445
we're introducing
Apple Configurator for iPhone

00:01:51.445 --> 00:01:54.147
which will be available
on the App Store.

00:01:54.147 --> 00:01:56.149
Apple Configurator for iPhone
makes it easy

00:01:56.149 --> 00:01:59.619
to assign any supported Mac
running macOS Monterey

00:01:59.619 --> 00:02:01.655
to your organization's
Apple School Manager

00:02:01.655 --> 00:02:04.591
or Apple Business Manager,
allowing you to take advantage

00:02:04.591 --> 00:02:06.760
of all of the great
device management features

00:02:06.760 --> 00:02:09.463
that Automated Device Enrollment
enables.

00:02:11.164 --> 00:02:12.666
Using Apple Configurator
for iPhone

00:02:12.666 --> 00:02:15.736
requires Mac computers
with the Apple T2 security chip

00:02:15.736 --> 00:02:18.605
or Apple silicon running
macOS Monterey

00:02:18.605 --> 00:02:21.341
and an administrator or
Device Enrollment Manager user

00:02:21.341 --> 00:02:23.443
to log in.

00:02:23.443 --> 00:02:25.278
You simply bring
Apple Configurator for iPhone

00:02:25.278 --> 00:02:27.414
close to the Mac while
it's in the Setup Assistant

00:02:27.414 --> 00:02:29.549
to start the process.

00:02:29.549 --> 00:02:32.152
Like on iOS, there's a 30-day
provisional period

00:02:32.152 --> 00:02:35.055
where a user can opt out of
the Automated Device Enrollment

00:02:35.055 --> 00:02:37.858
by removing the MDM profile
from the Profiles pane

00:02:37.858 --> 00:02:40.494
in System Preferences.

00:02:40.494 --> 00:02:42.562
This requires
administrator credentials

00:02:42.562 --> 00:02:45.098
and will also remove the Mac
from Apple School Manager

00:02:45.098 --> 00:02:47.634
or Apple Business Manager.

00:02:47.634 --> 00:02:51.304
For more information,
watch the WWDC21 session

00:02:51.304 --> 00:02:54.975
"Manage devices
with Apple Configurator."

00:02:54.975 --> 00:02:59.112
Now let's turn to improvements
for ongoing management tasks.

00:02:59.112 --> 00:03:00.680
We've talked about
system extensions

00:03:00.680 --> 00:03:02.449
for a number of years now,

00:03:02.449 --> 00:03:04.418
and we hope that developers
you work with

00:03:04.418 --> 00:03:08.055
have already made the transition
away from kernel extensions.

00:03:08.055 --> 00:03:10.057
When deploying and managing
system extensions,

00:03:10.057 --> 00:03:12.993
to avoid unnecessary
approval prompts to users,

00:03:12.993 --> 00:03:15.729
best practice is to deploy
the configuration payloads

00:03:15.729 --> 00:03:19.900
to approve the extensions before
apps attempt to load them.

00:03:19.900 --> 00:03:22.202
But we know
that's not always possible,

00:03:22.202 --> 00:03:24.237
so in macOS 11.3 and later,

00:03:24.237 --> 00:03:26.206
installing a system
extension payload

00:03:26.206 --> 00:03:28.308
changes the state
of the extension.

00:03:28.308 --> 00:03:29.976
For example,
if a system extension

00:03:29.976 --> 00:03:32.179
is already pending
user approval,

00:03:32.179 --> 00:03:35.115
installing the payload
will activate the extension.

00:03:35.115 --> 00:03:37.417
Conversely, removing
the payload will deactivate

00:03:37.417 --> 00:03:39.920
the system extension
and mark it for removal

00:03:39.920 --> 00:03:41.555
on the next reboot
of the Mac,

00:03:41.555 --> 00:03:44.224
allowing for a straightforward
removal process.

00:03:45.559 --> 00:03:48.195
But to make it even easier
to remove a system extension

00:03:48.195 --> 00:03:49.563
in macOS Monterey,

00:03:49.563 --> 00:03:51.198
there's a new
configuration option

00:03:51.198 --> 00:03:52.732
in the system extension payload

00:03:52.732 --> 00:03:55.135
called
RemovableSystemExtensions.

00:03:55.135 --> 00:03:56.837
An app in this list
can deactivate

00:03:56.837 --> 00:03:58.839
its own system extensions,

00:03:58.839 --> 00:04:01.808
for example,
when an app is uninstalled.

00:04:01.808 --> 00:04:04.411
With this key set,  there is
no admin password required

00:04:04.411 --> 00:04:06.379
to remove the system extension,

00:04:06.379 --> 00:04:09.216
allowing for
a fully automated removal.

00:04:10.684 --> 00:04:11.751
Many system extensions

00:04:11.751 --> 00:04:14.054
require more than just a system
extension payload

00:04:14.054 --> 00:04:15.956
to fully configure them.

00:04:15.956 --> 00:04:17.591
For example,
a system extension

00:04:17.591 --> 00:04:19.893
that is built with the network
extension framework

00:04:19.893 --> 00:04:21.695
may need to set up
a content filter,

00:04:21.695 --> 00:04:25.432
which you can enable and approve
using a content filter payload.

00:04:25.432 --> 00:04:27.033
Some extensions may also require

00:04:27.033 --> 00:04:29.870
Privacy Preferences
Policy Control payloads,

00:04:29.870 --> 00:04:31.972
and you may wish
to manage notifications

00:04:31.972 --> 00:04:35.275
for critical apps
that use system extensions.

00:04:35.275 --> 00:04:38.478
Check with your system extension
vendors on configurations needed

00:04:38.478 --> 00:04:41.114
to fully enable
and configure the solutions,

00:04:41.114 --> 00:04:43.416
as well as to inquire
about their compatibility

00:04:43.416 --> 00:04:45.519
with any other system extensions

00:04:45.519 --> 00:04:47.654
that you plan to run
at the same time.

00:04:47.654 --> 00:04:48.922
This is especially important

00:04:48.922 --> 00:04:52.425
if you plan to use products
from multiple vendors together.

00:04:54.261 --> 00:04:56.396
For organizations
that use FileVault

00:04:56.396 --> 00:05:00.300
and escrow a personal recovery
key -- or PRK -- with MDM,

00:05:00.300 --> 00:05:03.270
macOS Monterey makes it easier
to access Mac computers

00:05:03.270 --> 00:05:04.838
with Apple silicon.

00:05:04.838 --> 00:05:07.507
In macOS Monterey,
you can boot a Mac directly

00:05:07.507 --> 00:05:10.744
using the PRK without
requiring a password change

00:05:10.744 --> 00:05:14.481
and an intermediary reboot
through recoveryOS.

00:05:14.481 --> 00:05:16.917
This allows for much
faster access to a Mac

00:05:16.917 --> 00:05:19.486
to troubleshoot
or assist users.

00:05:19.486 --> 00:05:21.488
On this Apple silicon
MacBook Pro,

00:05:21.488 --> 00:05:24.157
the unified login experience,
which is new to Apple silicon,

00:05:24.157 --> 00:05:25.559
is shown.

00:05:25.559 --> 00:05:28.128
Notice that the login screen
is respecting the option

00:05:28.128 --> 00:05:30.130
to show the username
and password field

00:05:30.130 --> 00:05:34.167
instead of a list of users,
even with FileVault enabled.

00:05:34.167 --> 00:05:36.002
To boot the Mac using the PRK,

00:05:36.002 --> 00:05:38.805
you can simply press
Option-Shift-Return

00:05:38.805 --> 00:05:42.042
and enter the PRK
in the Recovery Key field.

00:05:42.042 --> 00:05:44.177
Simply press Return
or click the forward arrow

00:05:44.177 --> 00:05:46.446
when finished
to boot the Mac.

00:05:48.515 --> 00:05:51.718
Let's discuss our recommendation
for using personal recovery keys

00:05:51.718 --> 00:05:54.988
or institutional recovery keys,
also known as IRKs,

00:05:54.988 --> 00:05:57.624
with FileVault going forward.

00:05:57.624 --> 00:05:59.125
On Intel-based Mac computers,

00:05:59.125 --> 00:06:02.329
an IRK could be used to unlock
a FileVault-encrypted Mac,

00:06:02.329 --> 00:06:04.598
disable FileVault
using the command line,

00:06:04.598 --> 00:06:08.168
or more commonly, to recover
data using target disk mode.

00:06:08.168 --> 00:06:11.238
Using an IRK at scale
is now considered legacy,

00:06:11.238 --> 00:06:13.673
and an IRK provides
no functional use

00:06:13.673 --> 00:06:15.875
on Mac computers
with Apple silicon.

00:06:15.875 --> 00:06:18.445
Mac computers with Apple silicon
have Mac Sharing mode

00:06:18.445 --> 00:06:20.180
instead of target disk mode,

00:06:20.180 --> 00:06:24.451
and it requires having access
to recoveryOS to use.

00:06:24.451 --> 00:06:27.954
Alternatively, a personal
recovery key, or PRK,

00:06:27.954 --> 00:06:31.591
is unique per encrypted volume,
can be escrowed to MDM,

00:06:31.591 --> 00:06:34.694
and allows for easy key rotation
after use.

00:06:34.694 --> 00:06:37.964
It can also be used on a Mac
directly to access recoveryOS

00:06:37.964 --> 00:06:39.232
or to boot macOS,

00:06:39.232 --> 00:06:41.401
as we just showed
on Apple silicon.

00:06:41.401 --> 00:06:44.904
This process for Intel-based
Mac computers is similar.

00:06:44.904 --> 00:06:48.642
A PRK is an extremely
robust tool for organizations,

00:06:48.642 --> 00:06:50.377
and organizations
currently using

00:06:50.377 --> 00:06:52.245
institutional recovery
keys

00:06:52.245 --> 00:06:55.315
should use personal recovery
keys instead going forward.

00:06:57.250 --> 00:06:58.184
We continue to add

00:06:58.184 --> 00:07:01.121
additional user privacy
protections to macOS.

00:07:01.121 --> 00:07:02.522
In macOS Monterey,

00:07:02.522 --> 00:07:04.891
apps or services
that require the installation

00:07:04.891 --> 00:07:07.794
or configuration of pluggable
authentication modules --

00:07:07.794 --> 00:07:11.931
or PAM modules --
now require user authorization.

00:07:11.931 --> 00:07:13.366
Authorization can be granted

00:07:13.366 --> 00:07:16.936
using a Privacy Preferences
Policy Control profile from MDM

00:07:16.936 --> 00:07:18.805
that grants full disk access

00:07:18.805 --> 00:07:21.775
or access to system
administrator files.

00:07:21.775 --> 00:07:24.177
Many MDMs already grant
their agent tools

00:07:24.177 --> 00:07:26.746
access to these categories,
so it's possible

00:07:26.746 --> 00:07:29.182
your existing workflows
won't need to change at all

00:07:29.182 --> 00:07:32.152
to accommodate
this new protection.

00:07:33.320 --> 00:07:35.188
The built-in Kerberos extension
offers a way

00:07:35.188 --> 00:07:36.923
to provide directory
connectivity

00:07:36.923 --> 00:07:39.559
to an on-premise, active
directory environment

00:07:39.559 --> 00:07:42.128
without actually needing to bind
a Mac computer itself

00:07:42.128 --> 00:07:43.730
to the directory.

00:07:43.730 --> 00:07:44.964
In one-to-one deployments,

00:07:44.964 --> 00:07:48.802
we recommend using the Kerberos
extension or solutions like it,

00:07:48.802 --> 00:07:50.403
along with local accounts,

00:07:50.403 --> 00:07:53.340
instead of traditional directory
binding and mobile accounts

00:07:53.340 --> 00:07:55.308
whenever possible.

00:07:55.308 --> 00:07:58.011
We built the Kerberos extension
into the operating systems

00:07:58.011 --> 00:08:01.715
in macOS Catalina,
and iOS and iPadOS 13,

00:08:01.715 --> 00:08:06.519
and it is the replacement
for Enterprise Connect on macOS.

00:08:06.519 --> 00:08:10.156
Enterprise Connect is officially
sunset as of macOS Monterey

00:08:10.156 --> 00:08:12.459
and running Enterprise Connect
on macOS Monterey

00:08:12.459 --> 00:08:14.594
is not supported.

00:08:14.594 --> 00:08:16.663
The Kerberos extension has
some new optional settings

00:08:16.663 --> 00:08:18.565
in macOS Monterey.

00:08:18.565 --> 00:08:21.334
You can now specify a preferred
Kerberos Distribution Center,

00:08:21.334 --> 00:08:24.771
or KDC,
for your Mac computers to use.

00:08:24.771 --> 00:08:27.073
And you can limit access
to the Kerberos credential

00:08:27.073 --> 00:08:29.242
to only apps
that match bundle IDs

00:08:29.242 --> 00:08:31.578
in a configured
access control list

00:08:31.578 --> 00:08:34.414
that are explicitly
installed as managed.

00:08:34.414 --> 00:08:35.648
Additionally, you can allow

00:08:35.648 --> 00:08:37.751
the standard system
Kerberos utilities

00:08:37.751 --> 00:08:39.986
including Ticket Viewer
in klist

00:08:39.986 --> 00:08:43.356
to access and use
the credential too.

00:08:43.356 --> 00:08:44.891
We've also improved
the reliability

00:08:44.891 --> 00:08:48.061
for checking for required
password changes.

00:08:48.061 --> 00:08:50.563
For more details on the Kerberos
extension, please check out

00:08:50.563 --> 00:08:53.032
the "Leverage Enterprise
Identity and Authentication"

00:08:53.032 --> 00:08:57.971
session from WWDC 2020.

00:08:57.971 --> 00:09:01.408
Since macOS 10.15 Catalina,
scripting language runtime

00:09:01.408 --> 00:09:03.810
such as Python, Ruby,
and Pearl

00:09:03.810 --> 00:09:05.111
have been included in macOS

00:09:05.111 --> 00:09:08.681
for compatibility
with legacy software only.

00:09:08.681 --> 00:09:09.983
Future versions of macOS

00:09:09.983 --> 00:09:12.986
won't include scripting language
runtimes by default

00:09:12.986 --> 00:09:16.022
and might require you
to install additional packages.

00:09:16.022 --> 00:09:18.792
If software you use depends
on scripting languages,

00:09:18.792 --> 00:09:21.027
it's recommended that vendors
bundle the runtimes

00:09:21.027 --> 00:09:23.196
within their apps instead.

00:09:23.196 --> 00:09:24.464
In macOS Monterey,

00:09:24.464 --> 00:09:28.902
the previously bundled system
PHP has been removed.

00:09:28.902 --> 00:09:32.305
Python 2 was officially sunset
as of January 2020

00:09:32.305 --> 00:09:34.140
by the Python Software
Foundation

00:09:34.140 --> 00:09:36.943
and isn't recommended
to be used.

00:09:36.943 --> 00:09:39.679
In macOS Monterey,
a graphical dialogue will appear

00:09:39.679 --> 00:09:43.883
when an app tries to use
the built-in system Python 2.7.

00:09:43.883 --> 00:09:45.885
It's important to note
that the dialogue displays

00:09:45.885 --> 00:09:47.821
the calling app information.

00:09:47.821 --> 00:09:51.124
So if an MDM agent runs a script
that you wrote

00:09:51.124 --> 00:09:52.892
that is calling
the system Python,

00:09:52.892 --> 00:09:55.495
the dialogue may display
the name of the agent app,

00:09:55.495 --> 00:09:57.864
even though they may not
actually be using Python

00:09:57.864 --> 00:09:59.299
in their app at all.

00:09:59.299 --> 00:10:00.700
For that reason,
it's recommended

00:10:00.700 --> 00:10:03.770
to check your scripts
for usage of the system Python

00:10:03.770 --> 00:10:06.039
and update them as necessary.

00:10:06.039 --> 00:10:10.343
Future versions of macOS
won't include Python 2.7.

00:10:10.343 --> 00:10:11.845
It's recommended
that you install

00:10:11.845 --> 00:10:15.081
and manage your own runtimes,
including Python 3.

00:10:15.081 --> 00:10:17.750
You can also call the system
Python 3 if needed,

00:10:17.750 --> 00:10:19.853
but that requires the Xcode
command line tools

00:10:19.853 --> 00:10:21.688
to be installed.

00:10:22.889 --> 00:10:23.923
In macOS Monterey,

00:10:23.923 --> 00:10:27.660
using the socketfilterfw
command-line tool or MDM

00:10:27.660 --> 00:10:30.597
to manage the system firewall
are mutually exclusive.

00:10:30.597 --> 00:10:34.100
If any options for the firewall
are configured using MDM,

00:10:34.100 --> 00:10:37.203
the command-line tool will not
allow modifying any settings

00:10:37.203 --> 00:10:40.073
even by an administrator.

00:10:40.073 --> 00:10:41.808
We've enhanced
the MDM manageability

00:10:41.808 --> 00:10:44.410
of the system firewall
in macOS Monterey

00:10:44.410 --> 00:10:47.347
by enabling the configuration
of the logging options,

00:10:47.347 --> 00:10:51.284
including setting logging
to be on and to what level.

00:10:51.284 --> 00:10:52.886
Currently configured
logging options

00:10:52.886 --> 00:10:56.022
are also now provided to MDM
in the security info query

00:10:56.022 --> 00:10:58.324
to help with
compliance reporting.

00:10:58.324 --> 00:11:01.160
Note that when managing
the system firewall using MDM,

00:11:01.160 --> 00:11:04.631
the options for allowing signed,
downloaded, or system apps

00:11:04.631 --> 00:11:07.934
for incoming connections
are always enabled.

00:11:07.934 --> 00:11:09.836
These map back
to the command-line options

00:11:09.836 --> 00:11:12.205
for allow, download,
signed, enabled,

00:11:12.205 --> 00:11:16.242
and allow, signed,
enabled, set to on.

00:11:16.242 --> 00:11:18.578
There are a number of changes
to TLS certificate trusts

00:11:18.578 --> 00:11:20.313
in macOS Monterey.

00:11:20.313 --> 00:11:22.916
Underscores in DNS names
are now allowed,

00:11:22.916 --> 00:11:26.419
multiple extensions with
the same extenID are rejected,

00:11:26.419 --> 00:11:28.755
key usage is more
strictly enforced,

00:11:28.755 --> 00:11:31.090
and pathLenConstraints
on enterprise root CAs

00:11:31.090 --> 00:11:32.559
are enforced.

00:11:32.559 --> 00:11:36.462
For SMIME, certificates with
RSA keys less than 2048 bits

00:11:36.462 --> 00:11:38.431
are no longer trusted.

00:11:40.433 --> 00:11:43.636
In macOS Big Sur we enabled
managed apps on macOS,

00:11:43.636 --> 00:11:46.839
including support for managed
app configuration and feedback

00:11:46.839 --> 00:11:49.676
and the ability to remove an app
with an MDM command

00:11:49.676 --> 00:11:52.745
or when a device unenrolls
from MDM.

00:11:52.745 --> 00:11:54.414
New in macOS Monterey,

00:11:54.414 --> 00:11:57.650
if you use User Enrollment
for BYOD environments,

00:11:57.650 --> 00:12:00.520
managed app data is separated
on a different volume,

00:12:00.520 --> 00:12:02.355
and managed apps
that use CloudKit

00:12:02.355 --> 00:12:06.559
now use the Managed Apple ID
associated with the MDM profile.

00:12:06.559 --> 00:12:11.531
When the app is removed,
the data container is erased.

00:12:11.531 --> 00:12:14.133
Managed Apple IDs
also now support iCloud Drive

00:12:14.133 --> 00:12:15.668
for user enrollments.

00:12:15.668 --> 00:12:17.337
The organizational iCloud Drive

00:12:17.337 --> 00:12:20.573
appears as an additional
location in Finder.

00:12:20.573 --> 00:12:22.775
Watch the "Discover
account-driven user enrollment"

00:12:22.775 --> 00:12:27.914
session from WWDC 2021
for more details.

00:12:27.914 --> 00:12:30.450
In macOS Monterey,
Mac computers with Apple silicon

00:12:30.450 --> 00:12:34.721
now support the 802.11k,
v, and r Wi-Fi standards

00:12:34.721 --> 00:12:38.291
for optimized roaming
on enterprise networks.

00:12:38.291 --> 00:12:41.661
The IPv6-Only-Preferred option
is also now supported

00:12:41.661 --> 00:12:46.132
in DHCPv4 on all Mac computers
that support macOS Monterey,

00:12:46.132 --> 00:12:49.402
which allows IPv6-capable
devices to forgo

00:12:49.402 --> 00:12:52.505
the assignment
of an IPv4 address.

00:12:52.505 --> 00:12:54.774
There's also a restriction
available for preventing

00:12:54.774 --> 00:12:58.077
the use of iCloud Private Relay,
a new iCloud+ feature

00:12:58.077 --> 00:12:59.779
that helps protect
a user's privacy

00:12:59.779 --> 00:13:02.115
when they browse the web
in Safari.

00:13:02.115 --> 00:13:03.916
You can block
iCloud Private Relay

00:13:03.916 --> 00:13:06.419
on a specific network
using DNS,

00:13:06.419 --> 00:13:08.621
but this restriction prevents it
from being enabled

00:13:08.621 --> 00:13:11.691
on the Mac in the first place.

00:13:11.691 --> 00:13:13.726
If you use proxy
auto-configuration,

00:13:13.726 --> 00:13:17.130
or PAC files, to configure your
Mac computers to use a proxy,

00:13:17.130 --> 00:13:20.733
there are important changes in
macOS Monterey to be aware of.

00:13:20.733 --> 00:13:24.504
Using HTTP URLs for PAC files
is deprecated.

00:13:24.504 --> 00:13:27.940
Web Proxy Autodiscovery,
or WPAD, via DNS

00:13:27.940 --> 00:13:30.810
is not affected
by this change.

00:13:30.810 --> 00:13:33.346
For any other configurations
of PAC files though,

00:13:33.346 --> 00:13:37.016
including WPAD
via DHCP option 252,

00:13:37.016 --> 00:13:39.919
macOS Monterey may attempt
to access the PAC file

00:13:39.919 --> 00:13:43.256
over HTTPS first
before eventually falling back

00:13:43.256 --> 00:13:45.625
to the HTTP URL.

00:13:45.625 --> 00:13:48.061
Consult with your networking
teams about these changes,

00:13:48.061 --> 00:13:49.862
as only secure URL schemes

00:13:49.862 --> 00:13:54.100
should be used for PAC files
going forward.

00:13:54.100 --> 00:13:56.335
Now let's talk about
an incredibly important aspect

00:13:56.335 --> 00:13:58.705
of device management
for organizations:

00:13:58.705 --> 00:14:01.340
managing software updates.

00:14:01.340 --> 00:14:05.945
At WWDC 2021 my colleague Lucy
from the Software Update team

00:14:05.945 --> 00:14:08.815
gave a great session detailing
improvements to managing

00:14:08.815 --> 00:14:11.451
software updates
across Apple platforms.

00:14:11.451 --> 00:14:13.519
That session contained
a wealth of information

00:14:13.519 --> 00:14:16.255
for MDM developers
and admins alike,

00:14:16.255 --> 00:14:18.257
and we'd encourage you
to watch it.

00:14:18.257 --> 00:14:20.259
Here, we'll provide
some additional guidance,

00:14:20.259 --> 00:14:23.529
specifically for you
as an admin.

00:14:23.529 --> 00:14:24.664
First, let's start

00:14:24.664 --> 00:14:26.466
with the software update
command-line tool,

00:14:26.466 --> 00:14:28.634
as we recognize that
a lot of organizations

00:14:28.634 --> 00:14:30.136
currently wrap tooling around it

00:14:30.136 --> 00:14:33.139
to manage software updates
on macOS.

00:14:33.139 --> 00:14:34.707
The software update
command-line tool

00:14:34.707 --> 00:14:37.844
is still supported
and is not deprecated.

00:14:37.844 --> 00:14:39.378
It requires elevated privileges

00:14:39.378 --> 00:14:42.248
to run on both Intel
and Apple silicon,

00:14:42.248 --> 00:14:44.717
but on Apple silicon,
it asks for user credentials

00:14:44.717 --> 00:14:47.787
for a volume owner
to install a software update.

00:14:47.787 --> 00:14:49.388
More details on volume ownership

00:14:49.388 --> 00:14:51.090
can be found
in the resources section

00:14:51.090 --> 00:14:53.726
we'll discuss at the end
of the session.

00:14:53.726 --> 00:14:54.761
By default,

00:14:54.761 --> 00:14:56.996
the tool will prompt for
these credentials interactively,

00:14:56.996 --> 00:14:59.132
but macOS Monterey
also includes options

00:14:59.132 --> 00:15:02.802
for passing the user credentials
directly into the command.

00:15:02.802 --> 00:15:05.972
In macOS Monterey you can use
the Software Update CLI tool

00:15:05.972 --> 00:15:11.410
at the login window to install
software updates as well.

00:15:11.410 --> 00:15:13.012
While the software update
command-line tool

00:15:13.012 --> 00:15:15.615
is still supported
and you may be able to modify

00:15:15.615 --> 00:15:17.817
existing tooling or workflows
to accommodate

00:15:17.817 --> 00:15:20.486
the authentication requirement
on Apple silicon,

00:15:20.486 --> 00:15:23.890
you should use MDM and the
ScheduleOSUpdateCommand

00:15:23.890 --> 00:15:26.325
to deploy software updates
to manage Mac computers

00:15:26.325 --> 00:15:29.095
going forward
in an organization.

00:15:29.095 --> 00:15:32.565
Using MDM will help you unify
update deployment workflows

00:15:32.565 --> 00:15:34.801
across both Intel-based
Mac computers

00:15:34.801 --> 00:15:38.371
and Mac computers
with Apple Silicon.

00:15:38.371 --> 00:15:40.973
There are three stages of
managing software updates:

00:15:40.973 --> 00:15:43.342
testing, deploying,
and enforcing.

00:15:43.342 --> 00:15:44.544
Let's start with testing

00:15:44.544 --> 00:15:47.513
and the ability to defer
software updates.

00:15:49.148 --> 00:15:51.150
When we release
a beta version of an OS,

00:15:51.150 --> 00:15:53.820
you have time and tools to test
the OS in your environment

00:15:53.820 --> 00:15:55.354
before it's released,

00:15:55.354 --> 00:15:57.723
including with test plans
and focus release notes

00:15:57.723 --> 00:15:59.926
in AppleSeed for IT.

00:15:59.926 --> 00:16:01.861
Once an update
is publicly released,

00:16:01.861 --> 00:16:04.330
software update deferral
restrictions that you can apply

00:16:04.330 --> 00:16:06.833
from MDM
to supervised Mac computers

00:16:06.833 --> 00:16:09.602
prevent software updates
from being offered to users

00:16:09.602 --> 00:16:13.072
until a specified period of time
has expired.

00:16:13.072 --> 00:16:14.674
This period of time
is configurable

00:16:14.674 --> 00:16:16.776
from one to 90 days.

00:16:16.776 --> 00:16:20.246
Update visibility on a Mac
relative to the deferral period

00:16:20.246 --> 00:16:22.748
is based on the publication date
of an update

00:16:22.748 --> 00:16:24.383
and not when
a client Mac computer

00:16:24.383 --> 00:16:26.352
first discovers the update.

00:16:26.352 --> 00:16:29.555
In macOS 11.3 or later
you can set separate,

00:16:29.555 --> 00:16:32.124
independent deferral
windows for major,

00:16:32.124 --> 00:16:35.628
minor, and non-OS
updates such as Safari.

00:16:35.628 --> 00:16:37.096
And while the maximum
deferral window

00:16:37.096 --> 00:16:39.365
for all update types is 90 days,

00:16:39.365 --> 00:16:42.468
note that installing
a major macOS upgrade as a user

00:16:42.468 --> 00:16:44.337
requires administrator
credentials

00:16:44.337 --> 00:16:47.773
and running an
Install Assistant application.

00:16:47.773 --> 00:16:50.710
Also, it's really important to
note that while deferred updates

00:16:50.710 --> 00:16:53.546
aren't visible in the
Software Update preference pane

00:16:53.546 --> 00:16:56.449
or in the output of the Software
Update command-line tool,

00:16:56.449 --> 00:16:59.752
MDM still has the ability
to install specific updates

00:16:59.752 --> 00:17:01.287
on devices.

00:17:01.287 --> 00:17:04.590
In other words, an update does
not need to be visible to a user

00:17:04.590 --> 00:17:07.493
in order for MDM
to be able to install it.

00:17:07.493 --> 00:17:10.162
This gives you
the flexibility to, for example,

00:17:10.162 --> 00:17:13.199
completely skip a particular
update in your environment

00:17:13.199 --> 00:17:14.800
and simply instruct
your Mac computers

00:17:14.800 --> 00:17:19.705
to jump ahead to a newer
OS update if you prefer it.

00:17:19.705 --> 00:17:20.773
Once you've tested,

00:17:20.773 --> 00:17:23.776
next you're ready
to deploy software updates.

00:17:23.776 --> 00:17:25.745
When using MDM
to update a device,

00:17:25.745 --> 00:17:28.514
MDM sends a
ScheduleOSUpdateCommand.

00:17:28.514 --> 00:17:30.549
The command on macOS
has several different modes

00:17:30.549 --> 00:17:33.286
of operation known
as "install actions".

00:17:33.286 --> 00:17:36.322
The available install actions
are DownloadOnly,

00:17:36.322 --> 00:17:39.425
NotifyOnly, InstallASAP
or default,

00:17:39.425 --> 00:17:42.328
InstallForceRestart,
and InstallLater.

00:17:42.328 --> 00:17:45.498
Let's go through them now.

00:17:45.498 --> 00:17:49.001
DownloadOnly is useful for both
attended and unattended devices

00:17:49.001 --> 00:17:50.836
to download the update
in the background

00:17:50.836 --> 00:17:53.306
before installation time.

00:17:53.306 --> 00:17:55.308
NotifyOnly can be used
to alert users

00:17:55.308 --> 00:17:57.443
that there's an action
for installation --

00:17:57.443 --> 00:18:02.114
neither of these options
actually start an install.

00:18:02.114 --> 00:18:03.983
InstallASAP or Default

00:18:03.983 --> 00:18:06.619
is the primary
update mechanism on macOS.

00:18:06.619 --> 00:18:09.789
It is ideal for unattended
or remote macOS devices

00:18:09.789 --> 00:18:12.358
or for situations where
you want to enforce an update

00:18:12.358 --> 00:18:15.528
as quickly as possible
but still respect applications

00:18:15.528 --> 00:18:18.597
that may currently need to block
a restart for updating,

00:18:18.597 --> 00:18:21.600
such as if a critical task
needs to finish running.

00:18:21.600 --> 00:18:23.469
Unless an application
blocks restart,

00:18:23.469 --> 00:18:26.038
this action performs the update
as soon as possible

00:18:26.038 --> 00:18:27.807
once the download finishes

00:18:27.807 --> 00:18:29.709
with an option displayed
in a notification

00:18:29.709 --> 00:18:33.546
for a user to cancel the restart
within 60 seconds.

00:18:33.546 --> 00:18:36.882
In macOS Monterey the 60-second
countdown timer is displayed

00:18:36.882 --> 00:18:40.619
for both major
and minor updates.

00:18:40.619 --> 00:18:42.722
InstallASAP is also
the install action

00:18:42.722 --> 00:18:47.126
that should and can be used for
major macOS upgrades using MDM.

00:18:47.126 --> 00:18:50.930
For example, you can upgrade
a Mac from macOS Big Sur 11.5

00:18:50.930 --> 00:18:54.500
and later to macOS Monterey
using only MDM,

00:18:54.500 --> 00:18:56.068
without needing
to separately download

00:18:56.068 --> 00:18:58.237
the full macOS installer first

00:18:58.237 --> 00:18:59.772
and without the use
of any scripting

00:18:59.772 --> 00:19:02.475
using tools
like startosinstall.

00:19:04.477 --> 00:19:07.146
InstallForceRestart is
the ultimate enforcement action

00:19:07.146 --> 00:19:08.447
for installing an update

00:19:08.447 --> 00:19:10.483
as it ignores
any blocking applications

00:19:10.483 --> 00:19:13.452
and installs the update
as quickly as possible.

00:19:13.452 --> 00:19:16.255
This is ideal for ensuring
compliance by an absolute date

00:19:16.255 --> 00:19:18.090
as long as the device is online

00:19:18.090 --> 00:19:20.693
or for unattended or remote
systems where it doesn't matter

00:19:20.693 --> 00:19:23.262
what is happening on the device
in the current moment.

00:19:23.262 --> 00:19:25.765
Note that this action
can cause data loss as, again,

00:19:25.765 --> 00:19:28.267
it doesn't stop
for blocking applications,

00:19:28.267 --> 00:19:32.571
so it should be used
with extreme caution.

00:19:32.571 --> 00:19:34.807
Last but not least
is InstallLater.

00:19:34.807 --> 00:19:36.609
InstallLater allows you
to schedule an update

00:19:36.609 --> 00:19:38.544
for installing that night
if possible

00:19:38.544 --> 00:19:40.746
and is analogous
to the InstallTonight option

00:19:40.746 --> 00:19:42.481
that the standard
Software Update system

00:19:42.481 --> 00:19:44.550
offers to a user.

00:19:44.550 --> 00:19:46.218
The device will choose
a window of time

00:19:46.218 --> 00:19:47.620
based on machine learning,

00:19:47.620 --> 00:19:50.423
using conditions such as
when the device is least used,

00:19:50.423 --> 00:19:51.724
for the install to occur

00:19:51.724 --> 00:19:54.560
which usually happens
between 2 and 4 a.m.

00:19:56.562 --> 00:19:58.964
A number of changes
to make these install actions

00:19:58.964 --> 00:20:00.833
even more useful
to organizations

00:20:00.833 --> 00:20:03.302
were made in macOS Monterey.

00:20:03.302 --> 00:20:04.503
Supporting InstallLater

00:20:04.503 --> 00:20:06.639
with 50 percent
or greater battery life

00:20:06.639 --> 00:20:08.340
will help ensure
even greater coverage

00:20:08.340 --> 00:20:11.043
of enforcement
of software updates.

00:20:11.043 --> 00:20:14.613
Next, all install actions
that actually start and install

00:20:14.613 --> 00:20:16.916
support the use of
the bootstrap token from MDM

00:20:16.916 --> 00:20:19.552
to authorize the installation
on Apple silicon,

00:20:19.552 --> 00:20:21.554
and one is required
for enforcing updates

00:20:21.554 --> 00:20:25.157
without user interaction
that happened automatically.

00:20:25.157 --> 00:20:27.927
Note, however, that if users
act on a notification

00:20:27.927 --> 00:20:30.729
and begin and update themselves
through System Preferences

00:20:30.729 --> 00:20:33.833
they will be prompted for
their password on Apple silicon.

00:20:33.833 --> 00:20:35.768
A user does not need
to be an administrator

00:20:35.768 --> 00:20:37.136
to authorize the update,

00:20:37.136 --> 00:20:40.473
they just need to be
a volume owner.

00:20:40.473 --> 00:20:42.875
macOS Monterey supports
installing OS updates

00:20:42.875 --> 00:20:45.077
when the standard user
is logged into the Mac,

00:20:45.077 --> 00:20:48.347
as well as from the login window
when no user is logged in.

00:20:48.347 --> 00:20:50.282
This helps ensure
compatibility with remote

00:20:50.282 --> 00:20:51.650
or unattended deployments

00:20:51.650 --> 00:20:55.020
such as in a computer lab
or data center.

00:20:55.020 --> 00:20:57.089
And in macOS Monterey
there's the ability to use

00:20:57.089 --> 00:21:00.759
the ProductVersion
like 12.1 to install an update.

00:21:00.759 --> 00:21:02.294
This reduces the complexity

00:21:02.294 --> 00:21:04.964
of identifying available
software updates.

00:21:04.964 --> 00:21:07.933
Your MDM can now make
a single, server-side query

00:21:07.933 --> 00:21:10.669
instead of having to query
all of your devices

00:21:10.669 --> 00:21:13.873
and compare that query with
the software update device ID,

00:21:13.873 --> 00:21:15.541
which is part of
the device information

00:21:15.541 --> 00:21:18.544
your MDM already
gets periodically.

00:21:18.544 --> 00:21:20.546
This makes
your update process as simple

00:21:20.546 --> 00:21:24.150
as selecting a specific version
to send to a device.

00:21:24.150 --> 00:21:26.285
During beta cycles,
you can use the same version

00:21:26.285 --> 00:21:29.188
to install the latest
available beta as well.

00:21:29.188 --> 00:21:31.123
For example, sending 12.1

00:21:31.123 --> 00:21:34.293
would install the latest
available beta of 12.1,

00:21:34.293 --> 00:21:39.698
even if your device was already
running an earlier beta of 12.1.

00:21:39.698 --> 00:21:41.567
Now let's go through
enforcing updates.

00:21:41.567 --> 00:21:44.537
As we mentioned earlier,
the InstallForceRestart action

00:21:44.537 --> 00:21:46.705
is the ultimate enforcement
action and can be used

00:21:46.705 --> 00:21:49.975
whenever you need to enforce
an update right away.

00:21:49.975 --> 00:21:51.610
But when you know
a defined timeline

00:21:51.610 --> 00:21:53.412
or simply need
to ensure compliance

00:21:53.412 --> 00:21:55.548
with organizational
security policies,

00:21:55.548 --> 00:21:58.217
the new user deferral option
in macOS Monterey

00:21:58.217 --> 00:22:00.719
is a great choice.

00:22:00.719 --> 00:22:03.422
The new user deferral quota
option lets you specify

00:22:03.422 --> 00:22:06.425
a maximum number of times
a Mac should prompt a user

00:22:06.425 --> 00:22:10.062
to install an update
before the update is enforced.

00:22:10.062 --> 00:22:12.031
This uses the InstallLater
install action

00:22:12.031 --> 00:22:15.267
with a new key
called MaxUserDeferrals.

00:22:15.267 --> 00:22:18.170
A notification is presented
to the user informing them

00:22:18.170 --> 00:22:22.975
that a required managed update
has been requested to install.

00:22:22.975 --> 00:22:25.978
The title of the notification
is Required managed update

00:22:25.978 --> 00:22:29.481
and asks the user
when they want to install it.

00:22:29.481 --> 00:22:31.483
Expanding the notification
gives them options

00:22:31.483 --> 00:22:33.819
to install the update
right away,

00:22:33.819 --> 00:22:36.822
try to install it that night,
or defer it.

00:22:36.822 --> 00:22:38.791
It also includes the number
of remaining deferrals

00:22:38.791 --> 00:22:40.826
for the user,
which will decrease by one

00:22:40.826 --> 00:22:43.028
each time the user
sees the notification --

00:22:43.028 --> 00:22:45.030
approximately once per day.

00:22:45.030 --> 00:22:48.100
If the user ignores the
notification or uses a deferral,

00:22:48.100 --> 00:22:51.103
no attempt to install the update
is made that night.

00:22:51.103 --> 00:22:52.905
This is an important change
we wanted to call out

00:22:52.905 --> 00:22:56.642
from the behavior
described at WWDC.

00:22:56.642 --> 00:22:58.611
Once the maximum number
of deferrals is reached,

00:22:58.611 --> 00:23:00.045
the notification
informs the user

00:23:00.045 --> 00:23:02.214
that there are
no deferrals remaining

00:23:02.214 --> 00:23:03.249
and that the update is scheduled

00:23:03.249 --> 00:23:05.517
to automatically
install that night.

00:23:05.517 --> 00:23:07.286
MacOS will forcefully
install the update

00:23:07.286 --> 00:23:10.256
as if an InstallForceRestart
action was used

00:23:10.256 --> 00:23:12.858
and does require the device
to be connected to power

00:23:12.858 --> 00:23:16.295
or have 50 percent or more
battery life to proceed.

00:23:16.295 --> 00:23:18.497
If those conditions aren't met,
the device will simply

00:23:18.497 --> 00:23:21.867
try to force the update again
the next night.

00:23:21.867 --> 00:23:23.769
These improvements
to managing software updates

00:23:23.769 --> 00:23:25.938
using MDM in macOS Monterey

00:23:25.938 --> 00:23:28.540
will allow you to more easily
ensure compliance,

00:23:28.540 --> 00:23:31.176
manage software compatibility
across your fleet,

00:23:31.176 --> 00:23:33.245
and unify update
deployment workflows

00:23:33.245 --> 00:23:35.447
across both Intel-based
Mac computers

00:23:35.447 --> 00:23:38.050
and Mac computers
with Apple silicon.

00:23:38.050 --> 00:23:39.918
We encourage you
to continue filing feedback

00:23:39.918 --> 00:23:41.887
on software update management.

00:23:41.887 --> 00:23:43.656
Be sure to use
a Managed Apple ID

00:23:43.656 --> 00:23:46.292
from Apple School Manager
or Apple Business Manager

00:23:46.292 --> 00:23:50.362
to file your feedback through
the AppleSeed for IT program.

00:23:50.362 --> 00:23:52.364
Now let's explore
a return to service,

00:23:52.364 --> 00:23:56.001
for which macOS Monterey offers
an incredible improvement.

00:23:56.001 --> 00:23:58.604
macOS Monterey brings
Erase All Content and Settings

00:23:58.604 --> 00:24:00.105
to the Mac.

00:24:00.105 --> 00:24:02.975
Erase All Content and Settings
quickly resets a Mac

00:24:02.975 --> 00:24:04.810
to its current OS version,

00:24:04.810 --> 00:24:08.480
cryptographically removing
all user data in the process.

00:24:08.480 --> 00:24:11.550
Erase All Content and Settings
is supported on Mac computers

00:24:11.550 --> 00:24:15.487
with the Apple T2 security chip
and Apple silicon.

00:24:15.487 --> 00:24:17.423
Sending the EraseDeviceCommand
from MDM

00:24:17.423 --> 00:24:20.125
to supported Mac models
in macOS Monterey

00:24:20.125 --> 00:24:23.395
will initiate Erase All Content
and Settings by default.

00:24:23.395 --> 00:24:25.164
The previous
erase device behavior --

00:24:25.164 --> 00:24:28.701
called obliteration -- is only
used as a fallback behavior,

00:24:28.701 --> 00:24:31.203
and we'll discuss that more
shortly.

00:24:31.203 --> 00:24:33.005
On Mac computers
with Apple silicon,

00:24:33.005 --> 00:24:34.239
any startup security settings

00:24:34.239 --> 00:24:38.377
that you have modified
in recoveryOS are also reset.

00:24:38.377 --> 00:24:40.846
And we know that you might not
want a user to be able

00:24:40.846 --> 00:24:43.182
to easily erase
their Mac themselves,

00:24:43.182 --> 00:24:45.517
so there is a restriction
available from MDM

00:24:45.517 --> 00:24:48.420
to prevent a user from running
the Erase Assistant in macOS --

00:24:48.420 --> 00:24:51.557
even as an administrator.

00:24:51.557 --> 00:24:53.859
A few more things to know about
Erase All Content and Settings

00:24:53.859 --> 00:24:55.994
when initiating it from MDM.

00:24:55.994 --> 00:24:57.796
The Mac must be booted
from an internal,

00:24:57.796 --> 00:25:00.199
sealed system volume,
and it must be booted from

00:25:00.199 --> 00:25:03.469
the first partition on the disk
if there are multiple.

00:25:03.469 --> 00:25:06.171
If the Mac does have
multiple volumes or partitions,

00:25:06.171 --> 00:25:08.240
they will be removed
during the process

00:25:08.240 --> 00:25:11.176
but external volumes
are not erased.

00:25:11.176 --> 00:25:13.946
Mac computers with Apple silicon
must have a bootstrap token

00:25:13.946 --> 00:25:17.149
available from MDM
to authorize the erase.

00:25:17.149 --> 00:25:20.452
And Intel-based Mac computers
with the Apple T2 security chip

00:25:20.452 --> 00:25:22.354
must be in Full Security mode.

00:25:22.354 --> 00:25:25.591
And if an EFI firmware password
is set, it needs to be cleared

00:25:25.591 --> 00:25:29.294
before initiating
Erase All Content and Settings.

00:25:29.294 --> 00:25:31.630
Note that in macOS 12.01
and later,

00:25:31.630 --> 00:25:34.032
MDM can send the
SetFirmwarePasswordCommand

00:25:34.032 --> 00:25:36.001
to clear the firmware password,

00:25:36.001 --> 00:25:37.803
followed by
an EraseDeviceCommand

00:25:37.803 --> 00:25:40.072
to initiate Erase All Content
and Settings

00:25:40.072 --> 00:25:42.274
without requiring
an intermediary reboot

00:25:42.274 --> 00:25:45.444
between the commands.

00:25:45.444 --> 00:25:46.779
When one or more
of the requirements

00:25:46.779 --> 00:25:49.114
for Erase All Content and
Settings initiated with MDM

00:25:49.114 --> 00:25:51.884
are not met,
by default a Mac will fall back

00:25:51.884 --> 00:25:55.421
to the macOS 11 behavior
called obliteration.

00:25:55.421 --> 00:25:58.323
Obliteration requires
a full reinstallation of macOS

00:25:58.323 --> 00:26:00.692
before the Mac can be used.

00:26:00.692 --> 00:26:02.995
You can optionally control
this fallback behavior

00:26:02.995 --> 00:26:05.731
by specifying the new
obliteration behavior key

00:26:05.731 --> 00:26:08.333
in the EraseDeviceCommand
from MDM.

00:26:08.333 --> 00:26:10.469
You can specify whether
the Mac should or should not

00:26:10.469 --> 00:26:13.305
fall back to obliteration,
and each option controls

00:26:13.305 --> 00:26:16.608
the response code
sent back to MDM.

00:26:16.608 --> 00:26:19.211
Check with your MDM vendor
on support for this option,

00:26:19.211 --> 00:26:21.547
as it's useful to ensure
you don't accidentally

00:26:21.547 --> 00:26:24.483
end up needing
to fully reinstall macOS

00:26:24.483 --> 00:26:25.284
when you only intended

00:26:25.284 --> 00:26:28.420
to Erase All Content
and Settings instead.

00:26:28.420 --> 00:26:30.789
Triggering Erase All Content
and Settings from MDM

00:26:30.789 --> 00:26:34.026
requires a Mac computer
to reactivate in recoveryOS.

00:26:34.026 --> 00:26:36.061
However, we're super excited
to announce

00:26:36.061 --> 00:26:38.564
that in macOS 12.1 and later,

00:26:38.564 --> 00:26:41.500
Erase All Content and Settings
initiated from MDM

00:26:41.500 --> 00:26:44.002
can be used in combination
with Auto Advance

00:26:44.002 --> 00:26:47.306
that we introduced last year
in macOS Big Sur.

00:26:47.306 --> 00:26:48.707
If connected to Ethernet,

00:26:48.707 --> 00:26:52.244
the Mac can complete the entire
cycle of erasing the device,

00:26:52.244 --> 00:26:53.979
reactivating in recoveryOS,

00:26:53.979 --> 00:26:58.183
and rebooting back into macOS
to automatically enroll in MDM.

00:26:58.183 --> 00:27:00.018
These two technologies
combined together

00:27:00.018 --> 00:27:02.554
result in an incredibly fast
return to service

00:27:02.554 --> 00:27:06.325
and reprovisioning strategy
for remote Mac computers.

00:27:06.325 --> 00:27:08.360
Note that on Mac computers
with Apple silicon,

00:27:08.360 --> 00:27:11.630
the language chooser will not be
displayed upon reboot into macOS

00:27:11.630 --> 00:27:15.100
when going through
this process.

00:27:15.100 --> 00:27:17.135
Now we'll quickly cover
a few additional changes

00:27:17.135 --> 00:27:18.871
to be aware of in macOS Monterey

00:27:18.871 --> 00:27:22.140
that may be useful
to your organization.

00:27:22.140 --> 00:27:24.810
macOS Monterey brings Shortcuts
to the Mac.

00:27:24.810 --> 00:27:27.212
Shortcuts are the future
of Mac automation,

00:27:27.212 --> 00:27:29.548
and macOS Monterey
begins a multiyear transition

00:27:29.548 --> 00:27:31.316
away from Automator.

00:27:31.316 --> 00:27:33.318
We still care deeply
about Automator

00:27:33.318 --> 00:27:35.053
and everyone who relies on it,

00:27:35.053 --> 00:27:36.421
so in order to make
the transition

00:27:36.421 --> 00:27:39.224
as smooth as possible,
we've built a migration tool

00:27:39.224 --> 00:27:42.427
that can convert most automated
workflows into Shortcuts

00:27:42.427 --> 00:27:46.164
including with full support for
AppleScript and shell scripting.

00:27:46.164 --> 00:27:47.833
For more details
on this transition,

00:27:47.833 --> 00:27:50.068
watch the "Meet Shortcuts
for macOS" session

00:27:50.068 --> 00:27:54.373
from WWDC 2021.

00:27:54.373 --> 00:27:57.509
In macOS Monterey, you can now
share, play, or present content

00:27:57.509 --> 00:27:59.878
from another Apple device
to a Mac.

00:27:59.878 --> 00:28:01.346
This is super helpful
to allow for

00:28:01.346 --> 00:28:04.783
easier sharing of schoolwork,
giving demos of applications,

00:28:04.783 --> 00:28:07.586
or to simply more easily mirror
or extend your display,

00:28:07.586 --> 00:28:10.289
just to list
a few possibilities.

00:28:10.289 --> 00:28:12.791
Mac also now works
as an AirPlay speaker,

00:28:12.791 --> 00:28:14.860
and can even function
as a secondary speaker

00:28:14.860 --> 00:28:17.496
to create multi-room audio.

00:28:17.496 --> 00:28:20.065
The AirPlay receiver feature
is on by default

00:28:20.065 --> 00:28:23.201
and defaults to only accepting
devices with the same Apple ID,

00:28:23.201 --> 00:28:24.736
although
this automatic discovery

00:28:24.736 --> 00:28:27.706
is disabled
for Managed Apple IDs.

00:28:27.706 --> 00:28:29.207
The AirPlay receiver
can be turned off

00:28:29.207 --> 00:28:31.677
or security settings changed
in the Sharing pane

00:28:31.677 --> 00:28:34.746
in System Preferences.

00:28:34.746 --> 00:28:36.181
Note that
the same network option

00:28:36.181 --> 00:28:37.349
still prompts for permission

00:28:37.349 --> 00:28:39.985
via notification
in Notification Center

00:28:39.985 --> 00:28:43.789
and requests the user enter
a device-specific PIN code.

00:28:43.789 --> 00:28:45.424
Even when not connected
to WI-FI,

00:28:45.424 --> 00:28:47.960
the Everyone option supports
peer-to-peer discovery

00:28:47.960 --> 00:28:52.598
and connectivity between the
sender and the receiving Mac.

00:28:52.598 --> 00:28:54.299
When initiating
an AirPlay connection

00:28:54.299 --> 00:28:55.901
from a device
for the first time,

00:28:55.901 --> 00:28:58.604
the AirPlay code screen is shown
with the PIN code.

00:28:58.604 --> 00:29:00.639
Once connected,
the AirPlay session appears

00:29:00.639 --> 00:29:04.109
in full screen on the Mac.

00:29:04.109 --> 00:29:06.845
While not a new feature
to macOS Monterey specifically,

00:29:06.845 --> 00:29:08.647
we did want to highlight
the new version

00:29:08.647 --> 00:29:10.048
of the Apps and Books API

00:29:10.048 --> 00:29:13.018
in Apple School Manager
and Apple Business Manager.

00:29:13.018 --> 00:29:16.521
This API is used by MDM
to assign app and book licenses

00:29:16.521 --> 00:29:18.724
to your users or devices.

00:29:18.724 --> 00:29:22.127
The new apps and books API
uses asynchronous processing;

00:29:22.127 --> 00:29:24.763
provides real-time notifications
for state changes

00:29:24.763 --> 00:29:27.866
to assignments, assets,
and registered users;

00:29:27.866 --> 00:29:31.069
and supports
increased request sizes.

00:29:31.069 --> 00:29:34.740
As an example, a deployment
of 25 apps to 10,000 users

00:29:34.740 --> 00:29:37.342
used to take 25,000 requests

00:29:37.342 --> 00:29:40.579
and can now be accomplished
in just 10 requests.

00:29:40.579 --> 00:29:42.681
This should greatly improve
the speed and reliability

00:29:42.681 --> 00:29:45.083
of large device deployments,
whether it's for

00:29:45.083 --> 00:29:47.352
the back-to-school season
in education,

00:29:47.352 --> 00:29:52.491
employee onboarding events,
or large device refreshes.

00:29:52.491 --> 00:29:53.492
For more details,

00:29:53.492 --> 00:29:55.861
watch the "Improve MDM
assignment of apps and books"

00:29:55.861 --> 00:30:00.565
session from WWDC 2021.

00:30:00.565 --> 00:30:03.035
Now let's review some resources
to help you be successful

00:30:03.035 --> 00:30:06.104
in your deployments
of macOS Monterey.

00:30:06.104 --> 00:30:08.707
We strongly encourage you
to test new Apple software

00:30:08.707 --> 00:30:11.176
in your organization
before it's released.

00:30:11.176 --> 00:30:12.644
The AppleSeed for IT program

00:30:12.644 --> 00:30:15.113
allows any nonstudent
Managed Apple ID

00:30:15.113 --> 00:30:17.816
from Apple School Manager
or Apple Business Manager

00:30:17.816 --> 00:30:20.819
to participate without
needing an invitation.

00:30:20.819 --> 00:30:23.288
AppleSeed for IT allows you
to access and download

00:30:23.288 --> 00:30:26.391
prerelease Apple software
for testing in your environment,

00:30:26.391 --> 00:30:28.093
includes detailed test plans,

00:30:28.093 --> 00:30:29.628
and puts your feedback
submissions

00:30:29.628 --> 00:30:32.698
into a dedicated queue
for organizations.

00:30:32.698 --> 00:30:35.400
The release notes are also
targeted at organizations

00:30:35.400 --> 00:30:39.204
and you can easily reassign
feedback to other colleagues.

00:30:39.204 --> 00:30:41.006
The Apple Device
Deployment Reference

00:30:41.006 --> 00:30:43.442
is a technical document
with information available

00:30:43.442 --> 00:30:46.011
about MDM payloads,
commands, and queries

00:30:46.011 --> 00:30:48.547
to help you configure devices
in your environment,

00:30:48.547 --> 00:30:49.848
including information about

00:30:49.848 --> 00:30:52.050
whether or not payloads
can be combined;

00:30:52.050 --> 00:30:54.486
if they're supported for
devices, users, or both;

00:30:54.486 --> 00:30:55.487
and more.

00:30:55.487 --> 00:30:57.222
It also provides
supporting information

00:30:57.222 --> 00:31:00.659
about infrastructure
and services integration.

00:31:00.659 --> 00:31:03.061
While primarily intended
for MDM developers,

00:31:03.061 --> 00:31:06.098
the MDM Developer Documentation
is an incredibly helpful

00:31:06.098 --> 00:31:08.600
and thorough resource
that's available to you too

00:31:08.600 --> 00:31:10.869
for helping to understand
how MDM works

00:31:10.869 --> 00:31:14.306
and the options available
at the protocol level.

00:31:14.306 --> 00:31:16.374
The Apple Platform
Security Documentation

00:31:16.374 --> 00:31:19.211
provides security information
about all software, hardware,

00:31:19.211 --> 00:31:22.814
and services across
the Apple platforms.

00:31:22.814 --> 00:31:24.583
The AppleCare Professional
Support website

00:31:24.583 --> 00:31:25.884
hosts program information

00:31:25.884 --> 00:31:28.253
for each of the
AppleCare OS support offerings

00:31:28.253 --> 00:31:30.489
for IT departments
and help desks,

00:31:30.489 --> 00:31:33.125
including AppleCare
for Enterprise.

00:31:33.125 --> 00:31:34.893
Volume ownership information
can be found

00:31:34.893 --> 00:31:37.028
in the Apple Device Deployment
Reference

00:31:37.028 --> 00:31:41.366
and the Apple Platform
Security Guide.

00:31:41.366 --> 00:31:43.568
We have several Apple Support
articles available

00:31:43.568 --> 00:31:47.739
that cover information
we discussed today as well.

00:31:47.739 --> 00:31:51.042
We're super excited about all
of the great platform changes,

00:31:51.042 --> 00:31:52.277
new management features,

00:31:52.277 --> 00:31:53.779
and deployment workflow
improvements

00:31:53.779 --> 00:31:56.782
in macOS Monterey
and hope you are too.

00:31:56.782 --> 00:31:59.117
Thanks so much
for watching.