WEBVTT

00:00:10.009 --> 00:00:15.390
>> Good morning everybody and welcome to session 601,
Improving Your Video With Professional Preprocessing.

00:00:15.390 --> 00:00:19.390
And to walk us through the involved
process of really preparing your media

00:00:19.390 --> 00:00:24.580
for compression is a gentleman named Cliff Wootton,
who is our resident expert on the subject.

00:00:24.579 --> 00:00:27.509
So, Cliff, I'll hand it over to you.

00:00:27.510 --> 00:00:31.280
( Applause )

00:00:31.280 --> 00:00:32.380
>> Hi. Good morning.

00:00:32.380 --> 00:00:34.480
Thank you Steve.

00:00:34.479 --> 00:00:40.779
Okay. Well we're going to talk a bit about
preparing your video for compression.

00:00:40.780 --> 00:00:47.370
And as the previous speaker said, this is a
subject that you could spend days talking about.

00:00:47.369 --> 00:00:53.589
And, in fact, when I give this course at a college in
London, we spend pretty much a whole day just on this.

00:00:53.590 --> 00:00:59.710
So video compression is like this, it's like trying
to get an elephant through the eye of a needle.

00:00:59.710 --> 00:01:03.210
Don't worry about camels that was for the Bible.

00:01:03.210 --> 00:01:04.829
We're going to deal with elephants.

00:01:04.829 --> 00:01:13.829
So we're going to talk, in this session, mainly
about the preprocessing before we compress the video.

00:01:13.829 --> 00:01:18.810
It's about 90 percent of what you've
got to do, but it's very necessary.

00:01:18.810 --> 00:01:25.650
And it's very, very likely that the
lower the format you're going to use,

00:01:25.650 --> 00:01:30.910
safe for web or portable video, the
more preprocessing you've got to do.

00:01:30.909 --> 00:01:34.079
It's less likely if you're doing
Hollywood movies because the formats

00:01:34.079 --> 00:01:40.019
that you use there are producing much better quality
footage and you're going out through higher bit rates.

00:01:41.209 --> 00:01:45.619
It's important to think about your workflow.

00:01:45.620 --> 00:01:53.140
The most important thing is to make sure that you
don't do something later on that undoes something

00:01:53.140 --> 00:01:56.239
that you've done earlier on in the process.

00:01:56.239 --> 00:01:59.199
So each step should be nondestructive.

00:01:59.200 --> 00:02:02.409
Don't perform a process that undoes something.

00:02:02.409 --> 00:02:06.659
Know your end goal so that you can make better choices.

00:02:06.659 --> 00:02:09.770
Don't try to accomplish too much in one step.

00:02:09.770 --> 00:02:13.969
Don't confuse the things that are happening in
time with things that are happening in space.

00:02:13.969 --> 00:02:20.560
And be constantly working to clean up the video,
to remove the noise and reduce complexity.

00:02:20.560 --> 00:02:23.069
So here's an example workflow.

00:02:23.069 --> 00:02:27.489
Now you may change this around
according to what you're trying to do.

00:02:27.490 --> 00:02:31.890
The green stuff goes on before we start
to work on the material and the orange

00:02:31.889 --> 00:02:35.519
and blue sections are video and
audio, which can be in parallel.

00:02:35.520 --> 00:02:37.930
It depends on the size of your team.

00:02:37.930 --> 00:02:44.360
And then finally we get down to the
purple section where we output the video.

00:02:44.360 --> 00:02:53.490
Now although we think of this as preprocessing, a lot of
this actually could be pushed further back into the process.

00:02:53.490 --> 00:02:59.340
If we can guide the guys shooting the stuff
in the first place, they can produce material

00:02:59.340 --> 00:03:03.610
that we can compress more easily
and have to preprocess less.

00:03:03.610 --> 00:03:07.590
So, get involved at the planning stage if you can.

00:03:07.590 --> 00:03:11.770
Think about the target platform.

00:03:11.770 --> 00:03:16.650
And if it's a band limited transport, say a mobile phone,

00:03:16.650 --> 00:03:21.099
try and shoot something that's sympathetic
to what you're trying to achieve.

00:03:21.099 --> 00:03:29.310
For example, if you've got a talking
head, choose a stationary background.

00:03:29.310 --> 00:03:34.789
This helps a lot because there's much less change from
one picture to another and the compression process is all

00:03:34.789 --> 00:03:41.509
about chopping the picture into small pieces and looking
for similar items and throwing away the duplicates.

00:03:41.509 --> 00:03:44.849
So with a still background, you don't have as many changes.

00:03:44.849 --> 00:03:51.879
It's quite important what the, excuse me,
it's quite important what the presenter wears.

00:03:51.879 --> 00:03:56.719
If he's wearing a checkered shirt, this is going
to introduce all sorts of artifacts into the movie,

00:03:56.719 --> 00:04:04.849
so a plain back shirt on a stationary
background is a good idea.

00:04:04.849 --> 00:04:06.930
Choose good transitions.

00:04:06.930 --> 00:04:16.050
If you take two images, sequences, and do a dissolve, what's
going on here in the middle is a change from every frame

00:04:16.050 --> 00:04:20.319
to the next and there's not much redundancy in that picture.

00:04:20.319 --> 00:04:25.120
You're not likely to find some duplicated
macro blocks looking forwards or backwards.

00:04:25.120 --> 00:04:27.170
So instead of doing a dissolve, use a wipe.

00:04:27.170 --> 00:04:30.900
Here's an example.

00:04:30.899 --> 00:04:34.099
Now that's actually two still pictures.

00:04:34.100 --> 00:04:39.950
Now what I've tried to do here is produce something that
any artifacts you see are a result of the compression,

00:04:39.949 --> 00:04:42.979
not because they're moving images in the background.

00:04:42.980 --> 00:04:49.830
And if you look at this, there's an area of
sky and that doesn't transition very well.

00:04:49.829 --> 00:04:51.240
It's very crunchy.

00:04:51.240 --> 00:04:57.720
Now even though this is H264, and the codec is very good,
I had to work quite hard to make it put the artifacts in.

00:04:57.720 --> 00:05:02.140
it's so good now that you have to
try very hard to make it look bad.

00:05:02.139 --> 00:05:05.310
But you can see that dissolve is really crunching things up.

00:05:05.310 --> 00:05:11.439
And there's a little crunchiness that
happens just before dissolve begins.

00:05:11.439 --> 00:05:20.230
This is because the codec is preparing
the buffer and emptying things out.

00:05:20.230 --> 00:05:27.180
Even choosing the kind of transition can make
a different in these marginal situations.

00:05:27.180 --> 00:05:32.930
If you're on a borderline case where you're
just on the edge of losing video quality,

00:05:32.930 --> 00:05:40.990
choosing a vertical wipe rather
than a diagonal one is better.

00:05:40.990 --> 00:05:47.870
And you can see where the macro blocks, marked out in red
are the ones that are changing from one frame to another.

00:05:47.870 --> 00:05:50.939
So if you can reduce those changes, that's good.

00:05:50.939 --> 00:05:58.000
Now when we're bringing the video in in the first
place, this can effect what we're able to preprocess.

00:05:58.000 --> 00:06:04.920
And I think part of this preprocessing
goes way back to the ingesting stage.

00:06:04.920 --> 00:06:09.580
And so if you sample things badly,
if you start with bad quality

00:06:09.579 --> 00:06:12.209
at the beginning, you've got nothing left to work with.

00:06:12.209 --> 00:06:18.870
So you have to pay attention to this right from the get go.

00:06:18.870 --> 00:06:24.090
Now here, what we're looking at is the
difference between an analogue picture

00:06:24.089 --> 00:06:27.229
and a digital picture, in fact, the same applies to sound.

00:06:27.230 --> 00:06:33.250
And the critical thing is up there in the top right
where the analogue wave form is constantly changing,

00:06:33.250 --> 00:06:38.040
but we only have a limited number of values
that we can choose for digitizing it.

00:06:38.040 --> 00:06:41.700
And also a limited number of places that we can sample.

00:06:41.699 --> 00:06:45.779
And the difference is what we call quantization errors.

00:06:47.089 --> 00:06:52.439
The other thing that we have to be careful with,
how much we're able to get in the way of detail.

00:06:52.439 --> 00:06:58.980
Now, to get a one megahertz square wave, you'd
think well, we'll just sample it at two megahertz,

00:06:58.980 --> 00:07:00.660
but actually that's not enough, we wouldn't get the edge.

00:07:00.660 --> 00:07:07.210
And you can see the amount of detail going
across there at a six megahertz sample there.

00:07:07.209 --> 00:07:09.189
That's much more fine detail.

00:07:09.189 --> 00:07:16.469
So if we're not sampling at a high enough rate, we
lose the detail and it all starts to get very blurred.

00:07:18.310 --> 00:07:21.129
But a bigger problem is aliasing.

00:07:22.490 --> 00:07:28.650
Now this is where you sample at a rate that is very
close to the amount of detail that's in the picture.

00:07:28.649 --> 00:07:35.209
Now here you can actually see that we're taking
a sample at different points in the wave form.

00:07:35.209 --> 00:07:40.339
But when we recover it, we get a
wave form that is absolutely nothing

00:07:40.339 --> 00:07:45.560
like what we originally started with,
and this looks quite odd in the video.

00:07:45.560 --> 00:07:47.030
And this is what it looks like.

00:07:47.029 --> 00:07:49.149
Now the Animusic guys let me use a bit of this

00:07:49.149 --> 00:07:54.329
because their stuff is probably the
hardest test for a compressor to work with.

00:07:54.329 --> 00:07:59.620
And you can see on the verticals
there's this kind of movement going on,

00:07:59.620 --> 00:08:02.699
especially when they're not quite vertical.

00:08:02.699 --> 00:08:07.509
This is the aliasing that happens if you down sample.

00:08:07.509 --> 00:08:14.849
And you can see that, there on the verticals
of those columns and especially on the pipes.

00:08:14.850 --> 00:08:18.420
Okay, so if you're not sampling it well
enough in the first place you're going

00:08:18.420 --> 00:08:21.620
to get artifacts coming through, and
you can't do anything about those.

00:08:21.620 --> 00:08:24.800
There's no post processing that you can do to fix that up.

00:08:26.860 --> 00:08:32.320
Another one that happens with old
video footage is color bleeding.

00:08:32.320 --> 00:08:35.710
And you can see here, this is some of the Ducati
footage that they're using for Final Cut Pro.

00:08:35.710 --> 00:08:42.450
Now this is actually film that's been turned into video,
but somewhere along the line the color information has got

00:08:42.450 --> 00:08:47.670
so blurred, that it's kind of washing out
of the outlines of where it should be.

00:08:47.669 --> 00:08:54.189
And if you were going to do any work on restoring
that, you'd probably take all the color out altogether,

00:08:54.190 --> 00:09:05.630
fix up the brightness, make a nice black and
white picture and then go back and recolorize it.

00:09:05.629 --> 00:09:09.909
Adjusting film is quite a challenge.

00:09:09.909 --> 00:09:12.860
You have all sorts of artifacts that happen with film.

00:09:12.860 --> 00:09:17.210
Gate weave is one of the things you
notice when you watch a movie on TV.

00:09:17.210 --> 00:09:21.370
You can see the titles moving around a little bit.

00:09:21.370 --> 00:09:22.539
Dust and scratches, obviously.

00:09:22.539 --> 00:09:28.459
And with older film, you have a fading and motion problem,
where the colors are actually sort of washing out.

00:09:28.460 --> 00:09:36.600
You can fix some of that up, but if it's really extreme,
you might have to do a lot of color correction on that.

00:09:36.600 --> 00:09:44.320
So gate weave is a real problem because it's introduced in
the camera and also in the projector or tele-cine system.

00:09:44.320 --> 00:09:46.670
And they don't cancel each other out.

00:09:46.669 --> 00:09:50.069
And that compound motion is complex.

00:09:50.070 --> 00:09:55.250
Now if we think about just the discreet
process of preprocessing, you might think well,

00:09:55.250 --> 00:09:59.340
this happens after the guy has finished
editing the clip and before we compress.

00:09:59.340 --> 00:10:02.700
But actually, with some of the
new capabilities in final cut,

00:10:02.700 --> 00:10:06.460
these steps can move further back
into the production process.

00:10:06.460 --> 00:10:10.680
And the editor may well have stabilized
that footage for you.

00:10:12.389 --> 00:10:17.899
Dust is quite easy to remove, provided
you try and do that early on.

00:10:17.899 --> 00:10:23.959
Once you start to change the size of the picture
or move it around, the dust is going to go blurred

00:10:23.960 --> 00:10:25.860
and it's going to be harder to find the edges.

00:10:25.860 --> 00:10:32.620
So when those nice, sharp dust particles are easy to
remove, once they've blurred, they're much harder.

00:10:32.620 --> 00:10:36.620
And scratches, obviously.

00:10:36.620 --> 00:10:38.169
This depends on the age of the material.

00:10:38.169 --> 00:10:41.870
If it's some old archive footage, it could
be badly scratched and you need to do a lot

00:10:41.870 --> 00:10:46.580
of work on that, perhaps, to get that out.

00:10:48.940 --> 00:10:52.260
The video, as we heard earlier,
that could be even more complicated.

00:10:52.259 --> 00:10:58.809
There is so many different formats, but the hardest
thing is to get rid of that interlacing problem.

00:10:58.809 --> 00:11:04.359
And I'd say, actually, if you're doing stuff with news
footage for instance, that's where most of my background is,

00:11:04.360 --> 00:11:08.419
getting any text encoded properly is also very difficult.

00:11:08.419 --> 00:11:14.219
And any noise that's in the picture just increases the
bit rate because your codec can't tell the difference

00:11:14.220 --> 00:11:20.170
between noise and genuine detail, so it's
going to do it's best to preserve all of that.

00:11:20.169 --> 00:11:24.339
And of course, if you're mixing stuff from a variety
of different countries, you can have some problems

00:11:24.340 --> 00:11:28.269
with frame rates if you're mixing
American and European content.

00:11:28.269 --> 00:11:35.240
The previous guys told you a little bit
about chrome and lumens of sampling.

00:11:36.259 --> 00:11:42.210
There's a macro block that shows you
the lumen sample of full resolution

00:11:42.210 --> 00:11:45.430
and the color information sample
to the lower resolutions there.

00:11:45.429 --> 00:11:48.209
You're already getting some compression going on there.

00:11:48.210 --> 00:11:53.290
And you can practice to see the effects of this if you
play with Photoshop and just take an image and move it

00:11:53.289 --> 00:12:00.019
into the LAB color space and start defocusing the color
channels, you can actually see how far you can go with this.

00:12:00.019 --> 00:12:03.809
Actually you can get quite extreme
with blur and the color information.

00:12:03.809 --> 00:12:12.729
The next problem with video ingest is getting good
quality stuff in and it's not always just a question

00:12:12.730 --> 00:12:15.529
of just plugging your video player into a video card.

00:12:15.529 --> 00:12:20.529
Even some of the quite expensive video
cards don't do any time based correction.

00:12:20.529 --> 00:12:24.309
So you can get some rather difficult
synchronization problems.

00:12:24.309 --> 00:12:28.479
Now I would warn you, the next screen is going
to flicker a little bit, so if you're susceptible

00:12:28.480 --> 00:12:30.170
to that, you know, please close your eyes.

00:12:30.169 --> 00:12:36.019
And what we're going to demonstrate here is this is what it
looks like if you haven't got good vertical synchronization.

00:12:36.019 --> 00:12:42.809
If you see this happening, you need to put a
time base corrector in to fix the vertical sync.

00:12:42.809 --> 00:12:46.579
The next one is horizontal sync.

00:12:46.580 --> 00:12:48.350
And, again, this is difficult to solve.

00:12:48.350 --> 00:12:51.870
You can't, you don't really want to go
back and start editing frames to fix that.

00:12:51.870 --> 00:12:57.629
So this is the point, if you see these artifacts, where
you need to go out and buy a little bit of extra hardware.

00:12:59.330 --> 00:13:05.670
If you see this artifact, this is probably
because your video recorder is not set up properly

00:13:05.669 --> 00:13:07.849
and perhaps it needs the service or repair.

00:13:07.850 --> 00:13:13.649
And you get this weird little sort of synching problem
on the bottom if the tracking is not adjusted correctly.

00:13:13.649 --> 00:13:18.090
Now if someone's handed you this footage
and you can't go back and redo it,

00:13:18.090 --> 00:13:20.379
then maybe you can crop this out yourself, later.

00:13:20.379 --> 00:13:26.850
But if you see this kind of tracking, this is
gross sort of misalignment of the tracking,

00:13:26.850 --> 00:13:30.320
you've just got to set your video recorder
up properly so that you don't see this.

00:13:30.320 --> 00:13:37.920
You can't fix that later either.

00:13:37.919 --> 00:13:43.809
Now special complexity is something that
makes the encoder work very, very hard.

00:13:43.809 --> 00:13:50.539
It may be that what you're trying to encode is complex,
the Animusic stuff is very, very complicated video.

00:13:50.539 --> 00:13:56.199
But the complexity could come from the
interlacing or it could come from the noise.

00:13:56.200 --> 00:14:00.520
You could have film grain there that's
making the picture unnecessarily complex.

00:14:00.519 --> 00:14:06.909
We can probably alter this after the edit
is finished, but we might be able choices

00:14:06.909 --> 00:14:09.759
when we're editing and put in different kinds of effects.

00:14:09.759 --> 00:14:14.669
So some of this stuff is going to be very easy to compress.

00:14:14.669 --> 00:14:19.870
If you have a clip like this, in this case
I've purposely chosen something that's black

00:14:19.870 --> 00:14:21.860
and white, there's no color information.

00:14:21.860 --> 00:14:26.379
It's a background that's stationary.

00:14:26.379 --> 00:14:28.049
The only thing that's moving is the bird.

00:14:28.049 --> 00:14:31.509
So from one frame to the next there's going
to be a lot of macro blocks that are the same.

00:14:31.509 --> 00:14:34.870
It'll compress very, very well.

00:14:34.870 --> 00:14:37.669
But this won't.

00:14:37.669 --> 00:14:42.620
you have, from one frame to the next, you have the train
moving rapidly towards you and there's areas of the train

00:14:42.620 --> 00:14:45.120
that are getting larger as it's zooming in.

00:14:45.120 --> 00:14:52.049
and so that area, the picture's not
going to compress very well at all.

00:14:52.049 --> 00:14:57.799
This might compress slightly better because
of the cyclic nature of what's going on.

00:14:57.799 --> 00:15:04.289
It might appear complex at first, but actually it's a
repeating sequence and it depends how long the group

00:15:04.289 --> 00:15:10.259
of pictures are that you're encoding as to
whether that cyclic nature is beneficial.

00:15:10.259 --> 00:15:18.100
But in the end, when you've got something this
complex, you're going to be challenged to encode this.

00:15:18.100 --> 00:15:22.290
And if you get a DVD from Animusic and
listen to the director's commentary,

00:15:22.289 --> 00:15:26.279
they explain a lot about how they encoded this material.

00:15:26.279 --> 00:15:27.879
Excuse me.

00:15:27.879 --> 00:15:34.740
This is very interesting because they did this
in MPEG2 and went to a very high bit rate.

00:15:36.720 --> 00:15:44.110
Now temporal complexity is really
where we have rapid changes in time.

00:15:44.110 --> 00:15:48.950
And most of these difficulties
come from this interlacing problem.

00:15:48.950 --> 00:15:52.259
It is particularly difficult to
compress interlaced material.

00:15:52.259 --> 00:15:58.220
Even if you think you're deinterlacing and turning it
into a progressive raster, it's not really deinterlaced.

00:15:58.220 --> 00:16:01.690
You still want to do some work on those pixels.

00:16:01.690 --> 00:16:09.060
And the problem is, really, that when the camera
takes a progressive picture, it's taking a full frame

00:16:09.059 --> 00:16:13.299
of picture straight away at one instant in time.

00:16:13.299 --> 00:16:18.299
And when it's taking an interlaced picture
it takes a picture for the odd lines

00:16:18.299 --> 00:16:25.250
and then some time later it takes a picture for the even
lines, so there's some time difference between that.

00:16:25.250 --> 00:16:27.669
But it's that time difference that causes the problem.

00:16:27.669 --> 00:16:30.079
Things can move in the frame.

00:16:32.129 --> 00:16:35.769
So let's just look at an interlaced raster.

00:16:35.769 --> 00:16:40.620
You have the alternate fields coming down here,
the black one and the gray one, starts at the top,

00:16:40.620 --> 00:16:43.000
works it's way down and then goes back up to the top.

00:16:43.000 --> 00:16:48.190
And the interesting thing here is that you
have two lines that are only half width.

00:16:48.190 --> 00:16:56.540
And you might think that you could just crop those off, and
as well you might if it's going to be a progressive output.

00:16:56.539 --> 00:17:03.639
But if some time later you're going to turn that back into
an interlaced picture, you may just have moved everything

00:17:03.639 --> 00:17:11.619
up by one line, and you suddenly changed the timing of when
the picture information is going to appear on those lines.

00:17:11.619 --> 00:17:16.679
So as something might have been in the alt field
when you ingested it, you crop it and move things up

00:17:16.680 --> 00:17:20.440
and reinterlace it, suddenly it's moved to the even field.

00:17:20.440 --> 00:17:24.740
So you have some field dominance problems.

00:17:24.740 --> 00:17:27.309
Progressive, on the other hand, obviously is much simpler.

00:17:27.309 --> 00:17:32.369
And it's easier to film it, it compresses
better, it's much easier to work with.

00:17:33.390 --> 00:17:41.190
The other issue is if you're converting between frame
rates, just between American TV and European TV,

00:17:41.190 --> 00:17:47.110
you have to do this interpolation on a frame by
frame basis, in fact, on a field by field basis.

00:17:47.109 --> 00:17:52.889
And you can see that after, six fields,
three frames, you're out of sync.

00:17:52.890 --> 00:17:56.800
Your phase is completely ran the other way.

00:17:56.799 --> 00:18:00.279
So converting between these two timings is quite a challenge

00:18:00.279 --> 00:18:07.859
and you need some very sophisticated
software to smooth that out.

00:18:07.859 --> 00:18:10.490
So your interlaced material is basically like this.

00:18:10.490 --> 00:18:16.539
You start with the red ball on top there,
it's split into two halves and recombined.

00:18:16.539 --> 00:18:19.720
And that's fine, provided that everything is stationary.

00:18:19.720 --> 00:18:22.200
But when it moves, you get this.

00:18:22.200 --> 00:18:27.220
And it looks like this on the screen.

00:18:27.220 --> 00:18:31.529
So you can see there are parts of
the bus that are actually not bad.

00:18:31.529 --> 00:18:33.399
The ground and the sky are actually okay.

00:18:33.400 --> 00:18:37.040
But where the bus is moving you have this combing artifact.

00:18:37.039 --> 00:18:45.680
And that's because on one field, the bus was here and
on the next one it had moved about a half a meter.

00:18:46.849 --> 00:18:54.230
The other problem you have with interlacing is if
you start putting computer graphics on to the screen,

00:18:54.230 --> 00:18:57.910
you have to be careful with just putting a single line.

00:18:57.910 --> 00:19:03.130
If you draw a one pixel line, it's only in one field.

00:19:03.130 --> 00:19:09.660
If you draw a two pixel line, it's in both
fields, but their not displayed at the same time.

00:19:09.660 --> 00:19:12.560
So the trick is to put a defocused line in.

00:19:12.559 --> 00:19:16.069
and this is what a single line looks like.

00:19:16.069 --> 00:19:22.009
This is slowed down about 25 to one,
so what you see is a flickering line.

00:19:22.009 --> 00:19:24.119
It's very hard to watch.

00:19:24.119 --> 00:19:29.549
And maybe, I'd argue, that this is slightly more annoying.

00:19:29.549 --> 00:19:34.950
And you see this sometimes on news graphics if
you do infrabursts, weather shots and things,

00:19:34.950 --> 00:19:40.380
and you're not careful with how you draw the lines
on the screen, you get these artifacts popping up.

00:19:40.380 --> 00:19:45.170
So the trick is to just blur the line a little bit.

00:19:45.170 --> 00:19:49.310
Now although we're seeing this in
slow motion, when that's playing back

00:19:49.309 --> 00:19:54.210
at full frame rate, it looks a lot nicer than that.

00:19:54.210 --> 00:19:55.850
So deinterlacing is tricky.

00:19:55.849 --> 00:20:01.319
And if you see a frame like this, where those
drumsticks are moving rapidly around all the time,

00:20:01.319 --> 00:20:07.639
try to find some kind of interpolation date that you
can put in there to correct it is a real challenge.

00:20:07.640 --> 00:20:13.500
And even when the compression software has done some
work on it, it's not perfect, but at least it's better.

00:20:13.500 --> 00:20:20.650
As I said earlier, you have to be
very careful about field dominance.

00:20:20.650 --> 00:20:25.930
And if you do anything wrong with this
video and spoil the field dominance,

00:20:25.930 --> 00:20:30.140
you get this very strange, what
we call a twittering timeline.

00:20:30.140 --> 00:20:36.180
So normally you'd expect the fields
to progress in a nice orderly manner.

00:20:36.180 --> 00:20:41.009
But if you get the field dominance ran the
wrong way, it jumps forward two fields,

00:20:41.009 --> 00:20:44.519
jumps back one, jumps forwards two, jumps back one.

00:20:44.519 --> 00:20:47.930
And this is very hard to sit in front of.

00:20:47.930 --> 00:20:51.950
You don't quite know what it is that's
wrong, you just know it's wrong.

00:20:51.950 --> 00:20:54.580
It's very disturbing.

00:20:54.579 --> 00:20:57.419
And that could be introduced in a variety of ways.

00:20:57.420 --> 00:21:04.420
You could introduce it quite accidentally just
by cropping, styling and moving the image.

00:21:04.420 --> 00:21:08.370
So really what we want to try and aim to
do is get a progressively scanned version

00:21:08.369 --> 00:21:10.629
of that footage so that we can do something with it.

00:21:10.630 --> 00:21:17.800
If you want to get footage off air or from a DVD
or from other sources that's already encoded,

00:21:17.799 --> 00:21:21.190
now obviously we never recommend that you reencode footage

00:21:21.190 --> 00:21:24.890
because you just add more artifacts
to those that are already there.

00:21:24.890 --> 00:21:28.240
But you need to go through a series of steps.

00:21:28.240 --> 00:21:33.390
And down near the bottom there, there's one approach
to getting progressive, which is called field doubling,

00:21:33.390 --> 00:21:38.150
where you take the two fields and
you just copy them so that you end

00:21:38.150 --> 00:21:43.710
up with two progressively scanned
frames with both fields in.

00:21:43.710 --> 00:21:47.809
it's kind of like a double frame rate.

00:21:47.809 --> 00:21:51.529
And this is very like what movie projectors do in cinemas.

00:21:51.529 --> 00:21:56.619
They actually shoot 24P, but they project 48P.

00:21:58.849 --> 00:22:04.689
but the one thing that we always seem to
forget it setting this high quality thing.

00:22:04.690 --> 00:22:07.910
And you just don't think of doing it.

00:22:07.910 --> 00:22:14.279
So if you load that video clip into QuickTime Move Player
and go and command J and look at the properties panel,

00:22:14.279 --> 00:22:21.720
there's a little check box down at the bottom there
called high quality, and it makes all the difference.

00:22:21.720 --> 00:22:26.920
I've spent quite some time doing some
conversions from some old MPEG2 footage

00:22:26.920 --> 00:22:29.620
and I was constantly frustrated
by the quality I was getting.

00:22:29.619 --> 00:22:30.979
It just didn't look right.

00:22:30.980 --> 00:22:37.809
I knew I was doing something wrong and it wasn't until I
found this checkbox that suddenly the picture sharpened up.

00:22:37.809 --> 00:22:46.509
Now the previous speakers talked in
some detail about inverse tele-cine.

00:22:46.509 --> 00:22:52.789
And I'm going to go through this a little quicker than I
might have otherwise, because they've already covered that.

00:22:52.789 --> 00:22:57.920
But there are some problems with
doing things in the right order.

00:22:57.920 --> 00:23:06.620
If you inverse tele-cine, try and remove that pull
down, and you've done it after you've done some scaling,

00:23:06.619 --> 00:23:13.069
or after you've tried to do some processing, perhaps
a bit of blurring on the image or applied an affect,

00:23:13.069 --> 00:23:19.269
what you've probably done is moved some
pixel information from one line to another.

00:23:19.269 --> 00:23:26.039
And so you get some pollution of the pixel values in
each field, they've been polluted from the other field,

00:23:26.039 --> 00:23:34.180
so when you deinterlace, you get some strange sort of
noise patterns appearing that look like ghost images.

00:23:34.180 --> 00:23:37.870
So if you are going to deinterlace and
remove the pull down, you want to do it early

00:23:37.869 --> 00:23:41.769
on in the process before you start messing
with the image and doing any processing on it.

00:23:41.769 --> 00:23:44.190
So that's quite an early step to do this.

00:23:44.190 --> 00:23:57.029
Now they already went quite deeply into this, so the
trick is don't do any image processing, noise clean up

00:23:57.029 --> 00:24:05.410
or filtering or putting effects onto this
until you've removed the tele-cine pull down.

00:24:07.819 --> 00:24:14.480
This is what four of those frames
look like when they are tele-cined.

00:24:14.480 --> 00:24:16.870
And there are a variety of ways of doing this.

00:24:16.869 --> 00:24:21.929
Now if you just averaged, you'd
get this kind of blurred mess.

00:24:21.930 --> 00:24:26.340
It is horrible, so you just don't
want to do an averaging deinterlace.

00:24:26.339 --> 00:24:32.289
That's the simplest deinterlace and it works well on
still footage or things that aren't moving very quickly.

00:24:33.440 --> 00:24:35.049
Field dropping is another approach.

00:24:35.049 --> 00:24:37.069
You basically throw one of those fields away.

00:24:37.069 --> 00:24:40.509
But what you're also doing is throwing
away half of the vertical resolution.

00:24:40.509 --> 00:24:43.480
So you've only got half of the
pictures left in the vertical access.

00:24:43.480 --> 00:24:45.980
And it doesn't properly do the pull down either.

00:24:45.980 --> 00:24:50.160
You end up with an extra frame, the ones that
are marked in red that you still need to remove.

00:24:50.160 --> 00:24:53.420
So you do have to do this properly.

00:24:53.420 --> 00:24:59.509
And if you do it properly, you get a pretty
good result provided you're doing this early on.

00:25:02.930 --> 00:25:09.769
So by this point, you've removed the
interlacing artifacts from the film process,

00:25:09.769 --> 00:25:14.430
and you've also deinterlaced it
if it came from a video source.

00:25:14.430 --> 00:25:17.310
So now you can start working on the image quality.

00:25:17.309 --> 00:25:25.059
Start doing noise removal, dealing with the spatial
problems, things like dust particle, scratches.

00:25:27.049 --> 00:25:29.549
So, this is an extreme example.

00:25:29.549 --> 00:25:31.819
I basically took a still picture
and introduced the noise here.

00:25:31.819 --> 00:25:38.659
You wouldn't normally expect to find noise that
bad unless this was some very, very old footage.

00:25:38.660 --> 00:25:42.019
You'd have much less to deal with than that.

00:25:42.019 --> 00:25:46.049
So the noise removal filters would
probably do quite a good job.

00:25:46.049 --> 00:25:51.549
And what you try to do is get from that noisy one on
the left to the restored picture on the right and try

00:25:51.549 --> 00:25:56.899
and remove this pattern of dirt and dust and scratches.

00:25:56.900 --> 00:26:03.910
But if you try and do that dust removal after you've
messed with the scaling, the dust particles are going to be

00:26:03.910 --> 00:26:08.290
like they are on the right hand side, a
bit blurred and much harder to remove.

00:26:09.869 --> 00:26:17.169
So denoising and removing dust, again, is something that
you want to do earlier in the process rather than later.

00:26:19.059 --> 00:26:22.549
Here, and if you can see this from
the back, but if you look closely

00:26:22.549 --> 00:26:25.619
that image is just gently rocking from side to side again.

00:26:25.619 --> 00:26:30.889
I took a still picture and tried to introduce
something that looked like gate weave.

00:26:30.890 --> 00:26:34.050
And so there are two compound kind
of motions going on there.

00:26:34.049 --> 00:26:40.609
And to clean that up, you need
to track that and stabilize it.

00:26:40.609 --> 00:26:43.219
Now this depends really on the
kind of footage you're shooting.

00:26:43.220 --> 00:26:47.370
If you've gone out and done a shoot which is handheld
and that's the kind of look you're going for.

00:26:47.369 --> 00:26:49.899
You don't really need to do this.

00:26:49.900 --> 00:26:54.269
You need to look at all these different preprocessing
steps and think well, which ones do I need to apply?

00:26:54.269 --> 00:26:58.589
Sometimes they're all necessary and
sometimes only a few of them are required.

00:26:58.589 --> 00:27:07.549
So, you would look for an object
in the frame and stabilize that.

00:27:07.549 --> 00:27:11.159
This tends to need to be done on a clip by clip basis.

00:27:11.160 --> 00:27:16.690
And I think this is the sort of thing, maybe, that
should be done early on, perhaps before you've edited,

00:27:16.690 --> 00:27:22.220
which kind of forces you then to want to do the dust
clean up early on in the process before you're editing.

00:27:22.220 --> 00:27:31.420
So you can see now that they preprocessing really
isn't something that you can always do after the edit.

00:27:31.420 --> 00:27:33.490
Then you have noise that you can remove.

00:27:33.490 --> 00:27:39.849
Now some noise patterns are stationary, so this would
be spatial noise and you could just put a filter in.

00:27:39.849 --> 00:27:42.730
perhaps you could get rid of this by a little blurring.

00:27:42.730 --> 00:27:52.250
I'd apply the blurring in the horizontal
axis in preference, rather than the vertical.

00:27:52.250 --> 00:27:59.150
If the noise changes from one frame to the next, then
it's a temporal noise pattern and it's a good trick

00:27:59.150 --> 00:28:01.690
to use, you can use film grain removal filters.

00:28:01.690 --> 00:28:06.430
It isn't film grain, but it looks like film grain
as far as the compression software is concerned.

00:28:06.430 --> 00:28:09.910
So, get the order right.

00:28:09.910 --> 00:28:17.420
Do the gate weave correction after dust
removal because the dust was probably there

00:28:17.420 --> 00:28:21.350
as the film was ingest in the first place and imaged.

00:28:23.250 --> 00:28:30.349
And if you're going to do any warping, kind
of do that later after you've cleaned it.

00:28:32.410 --> 00:28:40.470
Now again, the picture size that you're
aiming for is maybe something that you want

00:28:40.470 --> 00:28:43.130
to feed back to the early part of he process.

00:28:43.130 --> 00:28:47.810
If you're shooting a podcast and you
know it's going to go out on an iPod,

00:28:47.809 --> 00:28:51.769
you can make some decisions about
what you shoot at the very outset.

00:28:51.769 --> 00:28:57.639
But if you need to scale some stuff that's been shot
for another purpose, something that you're repurposing,

00:28:57.640 --> 00:29:05.710
if you want to do it two to one, reduction in size, dropping
a field will give you that two to one reduction in height

00:29:05.710 --> 00:29:12.420
and then you can scale the horizontal separately,
and it'll also do the deinterlace at the same time.

00:29:12.420 --> 00:29:17.550
So there are times when you can combine these steps
and get a win, but it really depends on the context.

00:29:17.549 --> 00:29:24.710
You have to know where you're aiming
to be at the end of the process.

00:29:24.710 --> 00:29:27.870
You might think you can just scale a picture, but you can't.

00:29:27.869 --> 00:29:34.159
I mean if you go out and shoot a soccer match with a high
definition camera, by the time you just scaled that down

00:29:34.160 --> 00:29:38.330
and put it on a mobile phone, you
probably can't even see the ball.

00:29:38.329 --> 00:29:42.230
So you need to think about framing and composition.

00:29:43.289 --> 00:29:51.899
So now your picture size, and these are just a few examples,
don't get caught up in the sort of specifics like the sizes.

00:29:51.900 --> 00:29:53.780
I'm just trying to show some relationships.

00:29:53.779 --> 00:29:58.029
And the 400 to 405 is something that
we had in the U.K. years and years ago

00:29:58.029 --> 00:30:03.980
and a lot of very old shows are
actually recorded in that format.

00:30:03.980 --> 00:30:07.799
High def, in a variety of different
sizes and configurations.

00:30:07.799 --> 00:30:12.839
And of course, those are all quite different to PDA devices.

00:30:12.839 --> 00:30:18.990
This can rotate on it's side, I don't if Phone is
represented by the outer one there, it's about that size.

00:30:18.990 --> 00:30:23.240
But in other mobile phones are more square.

00:30:23.240 --> 00:30:28.460
And different mobile phones from different manufacturers
have different sizes and so all the Nokia phones seem

00:30:28.460 --> 00:30:32.480
to be one size, and all the Sony
phones seem to be another size.

00:30:33.980 --> 00:30:40.980
So making your clip fit one mobile phone doesn't
necessarily mean it fits the others properly.

00:30:42.369 --> 00:30:49.899
So do you decide to scale first or crop first?

00:30:49.900 --> 00:30:53.990
Well, there are times when you would
want to crop early on in the process.

00:30:53.990 --> 00:30:57.859
Perhaps there's some gross stuff going
on around the edges, if you crop that

00:30:57.859 --> 00:31:02.859
and just do a quick scale, it arrives at the size you want.

00:31:02.859 --> 00:31:07.729
I intinttively feel that it's probably better to scale
it first, rather than crop it, because the mathematics

00:31:07.730 --> 00:31:11.450
for calculating size is just a little bit more complicated.

00:31:13.089 --> 00:31:18.579
Then if you're working in TV, you might
have to deal with different aspect ratios.

00:31:20.519 --> 00:31:25.430
This is something we wrestled with quite a lot in BBC News.

00:31:25.430 --> 00:31:31.430
We found out actually that a compromise of
14-9 aspect ration was probably about right.

00:31:31.430 --> 00:31:36.549
We had a lot of footage coming in that was
being shot 16-9 and some older legacy footage

00:31:36.549 --> 00:31:39.329
that was 4-3, or if you think about it, 12-9.

00:31:39.329 --> 00:31:45.579
But 14-9 is a good compromise for that, so
we tended to work at a 14-9 aspect ratio.

00:31:45.579 --> 00:31:51.460
And then you just did a little bit of corpping
for whichever format you wanted to put it on.

00:31:51.460 --> 00:31:55.730
But it's a bit more of a problem with
movie film, because that's much wider.

00:31:55.730 --> 00:32:02.920
And I think we owe something to film
directors to try and preserve the intent

00:32:02.920 --> 00:32:05.830
of what they produced in the first place.

00:32:05.829 --> 00:32:11.970
Sidney Pollack makes quite an impassioned plea on this
little movie that he puts out with one of his movies,

00:32:11.970 --> 00:32:17.140
and he explains exactly what pan and scan
does to a wide screen movie and why it's bad.

00:32:17.140 --> 00:32:22.430
He explains how he tries to use the entire
canvas, and if you window just a part of that,

00:32:22.430 --> 00:32:29.039
you're not seeing the movie in the way that he intended.

00:32:29.039 --> 00:32:39.369
So my instinct is that it's good
to crop things to the final size.

00:32:40.859 --> 00:32:47.169
You should do that after the scaling, I think.

00:32:47.170 --> 00:32:52.300
Now if you've ingested from an old analogue
TV type or something else out there,

00:32:52.299 --> 00:32:56.700
you're probably going to have to
crop some stuff off the edges

00:32:56.700 --> 00:33:02.090
There's really little point in trying to waste bit
rate displaying all this stuff around the edges

00:33:02.089 --> 00:33:04.289
and at the top and bottom where the sync problems are.

00:33:04.289 --> 00:33:06.849
So you want to chop that off.

00:33:06.849 --> 00:33:11.209
That would normally be over scanned in a
little TV set and you wouldn't see it anyway.

00:33:12.509 --> 00:33:18.309
Think back to the interlaced and progressive rasters.

00:33:18.309 --> 00:33:23.230
There was that time taken for the video to
traverse across the screen and then fly back again.

00:33:23.230 --> 00:33:26.230
And then when it got to the bottom,
it had to fly back to the top.

00:33:26.230 --> 00:33:30.779
And that's time when the video circuits just
turn off and there's no pitch room information.

00:33:30.779 --> 00:33:36.170
So though we might actually digitize a lot of that
video, there are portions of this that we can't use.

00:33:36.170 --> 00:33:41.840
The vertical blanking and horizontal blanking periods
are not accessible, they're not visible information.

00:33:41.839 --> 00:33:48.490
And yet, some ingest systems will
ingest at least a part of that area.

00:33:48.490 --> 00:33:55.140
And if we are cropping things down to try and get the
picture as small as possible, then we can afford probably

00:33:55.140 --> 00:33:59.390
to just crop a little bit around the edges just
to lose some noise on the edges of the picture.

00:33:59.390 --> 00:34:08.210
And if people have shot things properly, the orange area in
the middle is where the action is, that's what's going on.

00:34:08.210 --> 00:34:12.960
The text safe area and the action area is a
slightly different, but we should try and preserve

00:34:12.960 --> 00:34:19.380
that middle area and not crop anymore tightly than that.

00:34:19.380 --> 00:34:24.410
Now there's other stuff that we should crop off as well,
and if we have stuff that's going through a TV studio,

00:34:24.409 --> 00:34:30.269
there could be all sorts of timing information, time
codes, test signals and that other stuff going on.

00:34:30.269 --> 00:34:36.280
And this is a plot from a Techtronics Analyzer that looks at
the complexity of the macro blocks that are being encoded,

00:34:36.280 --> 00:34:41.880
and you can see at the very top of the
screen there, there's some complexity there

00:34:41.880 --> 00:34:45.880
from the data signals going on, so
certainly you should crop that off.

00:34:45.880 --> 00:34:51.700
And if you look along the bottom, there's some more
complexity and it's only in one row of macro blocks,

00:34:51.699 --> 00:34:55.779
so it's very likely that this is a sync
problem at the bottom of that frame.

00:34:55.780 --> 00:35:02.750
And you can see here that the noise problems that are in the
video are introducing a great deal of compression problems

00:35:02.750 --> 00:35:05.530
because they're using up some valuable bit rate.

00:35:05.530 --> 00:35:12.660
And down the right hand edge, there's also a slight increase
in the amount of complexity in the macro blocks there,

00:35:12.659 --> 00:35:20.239
so actually, we're probably losing between five and
ten percent of our capacity just in encoding noise

00:35:20.239 --> 00:35:23.439
at the top and bottom and right hand edge.

00:35:24.880 --> 00:35:27.950
Here's another example from the Ducati stuff.

00:35:27.949 --> 00:35:32.739
This is film that's been converted
into video and then it's been ingested.

00:35:32.739 --> 00:35:36.589
And you can see this horrible sync
problem that's going on at the bottom.

00:35:36.590 --> 00:35:40.850
Now the white rectangle is actually
the entire area of the video.

00:35:40.849 --> 00:35:47.019
So the ingest system has also ingested
some blanking information as well.

00:35:47.019 --> 00:35:50.739
So there's quite a lot of that we should crop off.

00:35:50.739 --> 00:35:53.939
We should certainly crop off this
little piece at the bottom that's black.

00:35:53.940 --> 00:35:56.139
We don't want to encode that, that's just a waste of time.

00:35:56.139 --> 00:36:02.579
And we could probably crop off maybe six or
possible eight lines off the bottom to lose

00:36:02.579 --> 00:36:06.860
that sinking, unless you wanted to go fix it.

00:36:06.860 --> 00:36:08.610
We should probably crop a little off the left and right.

00:36:08.610 --> 00:36:10.789
By the time you've done that, you've
got a nice, clean picture.

00:36:10.789 --> 00:36:14.849
At least the framing of it's clean.

00:36:14.849 --> 00:36:19.920
You may want to also spend some time removing the dust and
scratches and the flickering effects from the film as well.

00:36:19.920 --> 00:36:21.490
There's lots of other things to fix there.

00:36:21.489 --> 00:36:24.509
But if you just look at the corpping
of that, there's a lot you can do.

00:36:24.510 --> 00:36:31.740
If you can shave five percent of the picture
off, that's five percent bit rate you've saved.

00:36:31.739 --> 00:36:36.729
It's five percent more bit rate that's available
for improving the quality for what you're doing.

00:36:36.730 --> 00:36:37.559
The same here.

00:36:37.559 --> 00:36:40.210
This is a still from a TV program.

00:36:40.210 --> 00:36:41.880
Again, you've got the sinking problem at the bottom.

00:36:41.880 --> 00:36:47.510
And over at the left hand side, you can see,
it takes a little while to stabilize the color.

00:36:47.510 --> 00:36:54.280
It's not particularly good color
until we're maybe 10 or 15 pixels in.

00:36:54.280 --> 00:37:00.070
there are also some other problems here with
the electronic circuits actually responding

00:37:00.070 --> 00:37:05.000
to the hard edges in the picture.

00:37:05.000 --> 00:37:09.940
So it really depends how valuable that footage is as
to whether it's worth spending the time on doing this.

00:37:09.940 --> 00:37:15.380
If you're just doing a quick import job, convert it, get
it out to the web very quickly and you're not too worried

00:37:15.380 --> 00:37:17.840
about the quality, things can move quite quickly.

00:37:17.840 --> 00:37:23.920
But if it's valuable archive or footage, you
could spend a lot of time fixing this up.

00:37:25.800 --> 00:37:29.750
You also want to be careful about the
cropping, too, with this field dominance issue.

00:37:29.750 --> 00:37:34.119
So if you're cropping, try and crop pairs of lines.

00:37:34.119 --> 00:37:36.809
Crop two lines from the top and two lines from the bottom.

00:37:36.809 --> 00:37:39.099
Don't crop one from the top and one from the bottom.

00:37:39.099 --> 00:37:41.610
So think in terms of even numbers.

00:37:43.300 --> 00:37:51.230
So after we've got the size and shape of it right and
it's fairly clean, we can start to do some sharpening.

00:37:51.230 --> 00:37:55.789
I think the logical time to do
this is after we've scaled it.

00:37:55.789 --> 00:37:58.779
And you don't want to sharpen things too much.

00:38:00.030 --> 00:38:05.960
There is a tendency for tele-cine
systems to put in some sharpening.

00:38:05.960 --> 00:38:11.440
All of the tele-cine systems are based on a (inaudible)
spot and CLT scanner and they tend to be a little blurred

00:38:11.440 --> 00:38:13.670
so they sharpen it to compensate for that.

00:38:13.670 --> 00:38:15.659
And it can be a little bit too sharp.

00:38:15.659 --> 00:38:22.420
And if you sharpen things too much, you end
up introducing the noise back into the picture

00:38:22.420 --> 00:38:24.860
that you so carefully cleaned out earlier.

00:38:24.860 --> 00:38:28.930
And you also introduce these kind of difficult edges.

00:38:28.929 --> 00:38:39.480
So we find a black edge that transitions very quickly to a
white, it kind of overshoots, it hits that edge and it kind

00:38:39.480 --> 00:38:45.840
of bangs up, overshoots, and then settles
back to the level that you want it.

00:38:45.840 --> 00:38:49.340
It's called ringing, if you think
about in an electronic circuit.

00:38:49.340 --> 00:38:56.039
It's where the circuit is kind of incapable of doing that
sharp change without kind of overshooting and settling back.

00:38:56.039 --> 00:39:00.090
You want to avoid that.

00:39:00.090 --> 00:39:04.070
Apart from reintroducing the noise, you've
got all this grain that's come back.

00:39:04.070 --> 00:39:06.610
Those edges are very hard to compress.

00:39:06.610 --> 00:39:09.110
They just use more bit rate.

00:39:09.110 --> 00:39:12.130
So don't over sharpen it.

00:39:12.130 --> 00:39:17.030
It's also only worth really sharpening in the
brightness channel, doubly sharpening the color.

00:39:17.030 --> 00:39:21.269
So if you have access to sharpening
just on the luminance do it there.

00:39:21.269 --> 00:39:26.230
And this is the trouble with the tools, they
tend to be rather preset in the way they work.

00:39:26.230 --> 00:39:32.360
You've got a checkbox to turn something on or off, you
don't really have too much find control over things.

00:39:32.360 --> 00:39:37.970
And you may just want to apply a tiny
little bit of correction somewhere,

00:39:37.969 --> 00:39:41.359
and you've just got to turn some
major correction thing on or off.

00:39:41.360 --> 00:39:51.789
The noise cleaning process is either there or it
isn't, and you've got all of it or none of it.

00:39:51.789 --> 00:39:57.380
So once we've got it cleaned, sharpened,
then we can start to equalize the color.

00:39:57.380 --> 00:40:00.720
Now this should be done quite late on in the process.

00:40:00.719 --> 00:40:03.750
The idea here is just to set the
color level of those pixels.

00:40:03.750 --> 00:40:07.719
We're not moving the pixels around, we're
not interpolating between the pixels.

00:40:07.719 --> 00:40:12.379
They shouldn't be doing any movement
or sharpening or blurring of the image.

00:40:12.380 --> 00:40:16.930
We're just simply setting the brightness
and the contrast level.

00:40:18.090 --> 00:40:22.470
We don't want to do anything after
this that might alter the color values.

00:40:22.469 --> 00:40:30.939
So we to know a little bit about color gamut's,
television sets, display, pictures made of red green

00:40:30.940 --> 00:40:33.490
and blue, so that's an additive color model.

00:40:33.489 --> 00:40:36.049
Red and green together give you yellow.

00:40:36.050 --> 00:40:40.000
The film produces in the subtractive color model.

00:40:40.000 --> 00:40:45.239
The cyan and the yellow emotion,
the film gives you green image.

00:40:45.239 --> 00:40:51.689
And there are colors on film that you
can't represent on video and vice versa.

00:40:51.690 --> 00:40:53.420
So you need to correct for that.

00:40:53.420 --> 00:40:55.780
Now the human eye is amazingly forgiving.

00:40:55.780 --> 00:41:02.280
I mean it's quite happy to see things that are kind of
teleshifted quite a serious amount towards one color

00:41:02.280 --> 00:41:06.650
or another and the human eye kinds of
compensates for this automatically.

00:41:06.650 --> 00:41:13.809
But what we must make sure is that all our
color values fit between this legal range.

00:41:13.809 --> 00:41:16.610
We might have thought black is black, it's not really.

00:41:16.610 --> 00:41:18.930
It's just a very dark gray.

00:41:20.539 --> 00:41:25.469
Although we're working with digital video,
it tends to be digitized analog video.

00:41:25.469 --> 00:41:31.179
And so we have to provide some space at
the bottom for the sync pulses to live.

00:41:31.179 --> 00:41:39.369
And at the top we want to avoid the video overshooting into
that top range because otherwise we start to lose detail.

00:41:39.369 --> 00:41:43.989
So we've got to stay within this range of legal values.

00:41:43.989 --> 00:41:50.569
And if we don't get this quite right, we
get this crashing effect on the whites.

00:41:50.570 --> 00:41:53.010
So what we tried to do here is brighten this up too much.

00:41:53.010 --> 00:41:59.080
Now certainly the detail has come up nicely in the bushes
behind the car, but we've lost all the detail on the bonnet.

00:41:59.079 --> 00:42:03.679
We can see the driver inside of the car, but
along side of the car it's kind of washed out.

00:42:03.679 --> 00:42:05.669
It's called crushing.

00:42:05.670 --> 00:42:10.170
It's called crushing, because if you look
at this fractoscope in Final Cut Pro,

00:42:10.170 --> 00:42:13.789
you can see that the whites are all
crushed at the top in the right hand side.

00:42:13.789 --> 00:42:21.630
So that picture on the left is the original picture, and
the one on the right is the over corrected, crushed result.

00:42:21.630 --> 00:42:29.090
And you can see that we've lost a lot of detail.

00:42:29.090 --> 00:42:31.670
Another correction that we might
think of doing is gamma correction.

00:42:31.670 --> 00:42:32.960
And again, it depends on the footage.

00:42:32.960 --> 00:42:38.809
We don't want to apply this in a general way right away
through the whole clip, but there may be certain scenes

00:42:38.809 --> 00:42:42.469
that are dark and need some detail pulled out.

00:42:42.469 --> 00:42:49.569
And a lot of digital cameras are very good, but one
of their weaknesses is in the dark part of the scene.

00:42:49.570 --> 00:42:52.440
They don't do very well in shadows.

00:42:52.440 --> 00:42:54.889
So we might apply a little bit of gamma correction.

00:42:54.889 --> 00:43:02.849
And in this example I've also shown what happens if you
reduce the dynamic range, so if you got video that is

00:43:02.849 --> 00:43:11.650
in 10-bit or 8-bit and you wind the available bits down,
or perhaps you reduce the contrast and stretch it back

00:43:11.650 --> 00:43:15.470
out again, you get these contouring artifacts.

00:43:16.769 --> 00:43:22.860
And they look like this, you kind of lost
that beautiful continues tone around the nose

00:43:22.860 --> 00:43:25.150
of that airplane there and it's gone contoured.

00:43:25.150 --> 00:43:29.260
And you see this a lot on DVD's.

00:43:29.260 --> 00:43:34.590
If you watch Lawrence of Arabia or The Abyss,

00:43:34.590 --> 00:43:41.320
the scenes underwater with the search light shining
thought the water tend to be a bright source in the middle

00:43:41.320 --> 00:43:48.730
and a beautiful sort of continuous
shading and the contouring just shows up.

00:43:48.730 --> 00:43:52.670
It's the same with the sun in the sky in The
Lawrence of Arabia movie, you can see the sun

00:43:52.670 --> 00:44:00.809
but then there's this kind of shimmering contouring effect.

00:44:03.119 --> 00:44:12.269
So probably of all of the tricks with this, the color
correction is the hardest to get it exactly right.

00:44:12.269 --> 00:44:16.980
And obviously you can't do this if you're color blind.

00:44:16.980 --> 00:44:26.579
You might want to be a color correction expert
but if you're color blind you can't do it.

00:44:28.530 --> 00:44:36.030
So there are a few things, well I'll say you can't
fix or there just very hard to fix and you have

00:44:36.030 --> 00:44:38.260
to come up with new approaches to do this.

00:44:38.260 --> 00:44:42.900
Text obviously is difficult, try to
compress text in moving video is one

00:44:42.900 --> 00:44:48.579
of those area's I think codec engineers could
usefully look at and do something for us.

00:44:48.579 --> 00:44:56.299
We need to apply a different level of compression
around the text and compress it perhaps not as hard.

00:44:56.300 --> 00:45:00.720
Recognizing where that text is
in the frame is quite a trick.

00:45:00.719 --> 00:45:07.619
So this is what happens with text usually, you get
this kind of weird mosquito noise going on around it

00:45:07.619 --> 00:45:11.409
and it doesn't seem to matter how
good a codec you use or how high

00:45:11.409 --> 00:45:14.969
of a bit rate you choose, it still seems to be there.

00:45:14.969 --> 00:45:18.539
It's very difficult to remove that.

00:45:19.559 --> 00:45:21.090
It's even harder if the text is moving.

00:45:21.090 --> 00:45:26.860
Now here you got an interlace problem where the text is
moved a few pixels between fields and so there's no point

00:45:26.860 --> 00:45:31.539
at which you can grab that text and compress it nicely.

00:45:31.539 --> 00:45:35.349
So again if you have any choice about what you
do with the infographics on the bottom of this

00:45:35.349 --> 00:45:40.519
and probably actually you wouldn't
actually put graphics like that on iPods.

00:45:40.519 --> 00:45:45.940
But if you're compressing, say for DVD
you might choose stationary text rather

00:45:45.940 --> 00:45:50.780
than moving text because it's going to compress better.

00:45:50.780 --> 00:45:55.460
Then you got subtle differences going
on between one frame and the next.

00:45:55.460 --> 00:45:59.199
Things that shouldn't be changing
but they seem to be changing.

00:45:59.199 --> 00:46:05.899
Old movies have this, this mottling of backgrounds
and so you can have a camera that's locked down,

00:46:05.900 --> 00:46:10.460
nothing moving in the scene and yet from one
frame to the next, there's significant differences

00:46:10.460 --> 00:46:15.010
and what I've done here is subtract one frame from the
other and magnify the differences so you can see it.

00:46:15.010 --> 00:46:19.350
And you can start to see the macro
block structure coming through.

00:46:19.349 --> 00:46:27.309
And if you don't get it right, if you try and push too much

00:46:27.309 --> 00:46:32.719
through that output buffer then the codec just
bust and this is what they call blowing up.

00:46:32.719 --> 00:46:38.879
And you can see here that there are certain points
where in the motion and the detail are just so much

00:46:38.880 --> 00:46:48.470
that the bit rate I am trying to aim at here, again I was
trying to do this at about 2megabits with an H264 codec.

00:46:48.469 --> 00:46:53.369
Bear in mind that with adding music to
this with about 8megabits on an mpeg2 codec

00:46:53.369 --> 00:46:59.269
so I should probably been aiming
to this with H264 or at about 5.

00:46:59.269 --> 00:47:01.210
You can see the thing breaks down.

00:47:01.210 --> 00:47:09.400
So what I am trying to do is show you the artifacts, that
if you see these things going on then you can get some idea

00:47:09.400 --> 00:47:12.450
of where you got to go back to in
the process to fix these things out.

00:47:12.449 --> 00:47:22.659
And of course you got to fix the audio as well as
sweetening the audio and doing all sorts of other things,

00:47:22.659 --> 00:47:28.690
again it depends where your audio is coming from,
if you ingested it from some old analog material,

00:47:28.690 --> 00:47:32.119
you may have hums, crackles, pops, various little things.

00:47:32.119 --> 00:47:35.230
Obviously Soundtrack Pro is going to
help you a lot with this sort of stuff.

00:47:35.230 --> 00:47:37.659
You can fix a lot of these things up.

00:47:40.769 --> 00:47:48.630
I ingest a lot of old legacy archive material and I find
that things like bio sand soap just do a good enough job,

00:47:48.630 --> 00:47:51.990
maybe its not the best tool for it, but
you know when you listen to it before

00:47:51.989 --> 00:47:54.889
and after its good enough for the sort of things I'm doing.

00:47:54.889 --> 00:48:04.670
But you need to make sure that you don't' clip the
audio in the same way you could crush the video,

00:48:04.670 --> 00:48:07.700
you can distort the audio by letting it overshoot.

00:48:07.699 --> 00:48:13.519
So look for the peaks in your audio, if the software is
clever enough to find the loudest passage get it to find

00:48:13.519 --> 00:48:20.599
where that is and just mobile that thing so its just a
little bit below your peak level and the experts record

00:48:20.599 --> 00:48:27.429
about 3DB's down from the 0DB point is about right.

00:48:27.429 --> 00:48:32.889
So we're about there, we've seem
to run ahead of time which is great

00:48:32.889 --> 00:48:35.190
because it gives us a lot of time for questions and answers.

00:48:35.190 --> 00:48:37.460
So let's just summarize a couple of things.

00:48:37.460 --> 00:48:43.500
It's about 90 percent of what we are going to do with
compressing video, what you are going to do is look

00:48:43.500 --> 00:48:46.250
for the artifacts that I've demonstrated.

00:48:46.250 --> 00:48:50.380
And when you find them diagnose what it
is that's causing them and try and fix it

00:48:50.380 --> 00:48:52.809
as early in the production process as you can.

00:48:52.809 --> 00:48:58.289
Try and get back to the shoot, at
least get back as far as the edit.

00:48:58.289 --> 00:49:02.750
But of course if you are doing this all on your
own and in a single machine then you're a master

00:49:02.750 --> 00:49:05.480
of your own destiny and you can do the whole thing.

00:49:07.010 --> 00:49:08.350
Work in a logical order.

00:49:08.349 --> 00:49:13.659
Don't do something later on in the process
that undoes the things you fixed earlier.

00:49:13.659 --> 00:49:18.989
And bear in mind that some of these newer
tools have actually moved the responsibility

00:49:18.989 --> 00:49:22.039
of these things to other members of your team.

00:49:22.039 --> 00:49:25.090
And so you're editor may actually
be fixing these things for you.

00:49:25.090 --> 00:49:33.150
And as the guys earlier on said you can't have
enough CPU power, too much CPU power or disk space.

00:49:33.150 --> 00:49:40.389
This stuff is going to eat your disk space and it's good to
work in as high a resolution format as you can for as long

00:49:40.389 --> 00:49:44.869
as you can, but it is going to
use a lot of disk and CPU power.

00:49:44.869 --> 00:49:47.039
And you can find lots and lots of extra tools.

00:49:47.039 --> 00:49:50.329
Things like FFMPEG.

00:49:50.329 --> 00:49:55.319
Lots of useful things for cutting a piece of video
up, converting it from one format to another,

00:49:55.320 --> 00:50:00.160
just applying a little bit of correction here and there.

00:50:00.159 --> 00:50:00.779
So there we are.

00:50:00.780 --> 00:50:07.810
I'd just like to say thank you to Steve here and a few
other guys, Dave Cochlan, Jeff Garrard from Animusic.

00:50:07.809 --> 00:50:09.429
And it's over to you.

00:50:09.429 --> 00:50:11.509
>> Yeah, are we ready for some questions?

00:50:11.510 --> 00:50:18.040
( Applause )

00:50:18.039 --> 00:50:22.440
>> A little plug for the book here, this came out
a couple of years ago actually and as we learn more

00:50:22.440 --> 00:50:28.079
about his I'm realizing that we need to start thinking
about a new revision to this, but basically what I tried

00:50:28.079 --> 00:50:35.929
to encapsulate and what I am is what takes me a day to teach
in college and took me a year to write about in the book.