WEBVTT

00:00:16.300 --> 00:00:18.370
>> Hello I'm Eric Bailey.

00:00:18.370 --> 00:00:21.130
The engineering manager for the iTunes U team.

00:00:21.129 --> 00:00:25.140
I'm excited to be here today to
talk to you about iTunes U.

00:00:25.140 --> 00:00:27.210
I have an early question here, how many

00:00:27.210 --> 00:00:32.670
of you are representing an education
institution that has an iTunes U site already?

00:00:32.670 --> 00:00:36.670
Great, great that's a good number.

00:00:36.670 --> 00:00:41.870
We're going to cover kind of a natural progression
here, we're going to start the high level,

00:00:41.869 --> 00:00:46.429
kind of talk about the current uses for iTunes U,
how it's being utilized in campuses today,

00:00:46.429 --> 00:00:51.659
give you some concept's that are
out there to describe iTunes U.

00:00:51.659 --> 00:00:57.890
we are going to go in to planning the site and
discussing what considerations you should give in terms

00:00:57.890 --> 00:01:02.280
of organizing your content and we're going to get in
to some code, we're going to look at some examples

00:01:02.280 --> 00:01:09.460
of how you integrate iTunes U with your online systems
and then we'll go in to some web services which are new just

00:01:09.459 --> 00:01:15.599
as of March, and Thomas Burkholder will come up here
to describe to you what you can do with web services

00:01:15.599 --> 00:01:19.589
to go deeper in your integration with iTunes U.

00:01:20.930 --> 00:01:30.300
So first I'd like to talk about what we just released in
the past few weeks, we added a section to the action store

00:01:30.299 --> 00:01:36.129
for iTunes U content, so now you can navigate at
the top level for many who were in the iTunes store

00:01:36.129 --> 00:01:41.750
to see our public space for iTunes U content,
there's a link there on the left hand side,

00:01:41.750 --> 00:01:48.030
you go in to the iTunes U area, the iTunes store,
we've got a featured area for a great educational content

00:01:48.030 --> 00:01:54.989
that sixteen schools that worked with us to get
content to their iTunes U site have published today.

00:01:54.989 --> 00:02:03.349
You see examples of some of the work that our editors choose
to feature, you see the top downloads and you've got a list

00:02:03.349 --> 00:02:05.769
of the universities that are involved along the left.

00:02:05.769 --> 00:02:12.169
You click on one, you go right in to their iTunes U site
and now you see everything that they've posted and the site

00:02:12.169 --> 00:02:15.729
that they've chosen to put together within iTunes U.

00:02:17.169 --> 00:02:21.979
We're really excited about this because it gives
all the visibility of this content the same levels

00:02:21.979 --> 00:02:23.949
of all the other content within the store.

00:02:23.949 --> 00:02:30.199
You can search in the store and find contents of whether
you're searching for an artist, you find U2 and Coldplay,

00:02:30.199 --> 00:02:36.319
you can now enter in your favorite educational subject and
hopefully find some great content from one of these schools.

00:02:36.319 --> 00:02:44.180
We index this data, all the tracks and data to a greater
degree than we do in a pod cast directory so you can search

00:02:44.180 --> 00:02:47.790
through the comments and descriptions
and all the meta data that is there

00:02:47.789 --> 00:02:51.389
in the iTunes U content that these schools have posted.

00:02:55.430 --> 00:03:00.400
Another example and really the more common case
we've been developing for the last two years in terms

00:03:00.400 --> 00:03:07.150
of how iTunes U is being utilized on campus is
to create a space to control access based on groups

00:03:07.150 --> 00:03:10.819
and students who are enrolled in specific courses.

00:03:10.819 --> 00:03:17.129
I'm going to use this example, the Cupertino University University,
it's a fictitious(sp?) university we've put together

00:03:17.129 --> 00:03:21.199
that we do a lot of testing with and
we'll show you how we build a site

00:03:21.199 --> 00:03:24.000
and how we plan this site out using this example.

00:03:24.000 --> 00:03:33.889
This is a site where we're going to put together controlled
access to some specific pages and so this is our Cooper team

00:03:33.889 --> 00:03:38.769
of universities welcome page, we call it
the top level of this site and you draw

00:03:38.770 --> 00:03:41.150
down to a course page and this is what you see.

00:03:41.150 --> 00:03:46.530
You get something similar to an album page with in
the iTunes store where you can have different tabs

00:03:46.530 --> 00:03:50.259
that organize the content within this page.

00:03:50.259 --> 00:03:56.840
You have some course art work and a place to enter a text
description and a place to put in links that link back

00:03:56.840 --> 00:04:04.009
to other online systems within your environment and
other topical websites related to this area of study.

00:04:05.340 --> 00:04:10.439
Another example of an iTunes U site that we
used to control access is internally at Apple.

00:04:10.439 --> 00:04:16.240
We use iTunes U to deliver all the content for
Apple developer connection and wwdc presentations.

00:04:16.240 --> 00:04:24.660
So if you go in there to download a wwdc session, you're
actually utilizing the same technologies of iTunes U.

00:04:26.370 --> 00:04:28.680
So I'm going to tell you what I'm planning in the site.

00:04:28.680 --> 00:04:34.860
Constructing all the pages and uploading content
in to various areas and how you should think

00:04:34.860 --> 00:04:39.949
about getting involved with that when
you're planning your iTunes U site.

00:04:39.949 --> 00:04:47.420
We've designed iTunes U templates to be very flexible,
but we've done so in a way that we feel is user centric.

00:04:47.420 --> 00:04:52.800
We want to make it very dynamic so that the content that
the user has access to is right there at the top level

00:04:52.800 --> 00:04:59.370
and the page builds itself based on what credentials
and permissions this user comes in to iTunes U with.

00:04:59.370 --> 00:05:09.519
So, in my example here we have three sections, one called
courses, one called events and one called campus community.

00:05:09.519 --> 00:05:15.990
The course is meant to be dynamic so that if I have
access to just these four courses that's all I see.

00:05:15.990 --> 00:05:21.509
Behind that structure there may be hundreds of
courses that would be visible to an administrator,

00:05:21.509 --> 00:05:27.670
but for the user who logs in they just see these
four, because that's what they have permission to do.

00:05:30.759 --> 00:05:36.209
Behind iTunes U, is basically a hierarchy
like in data structures that we're all familiar with,

00:05:36.209 --> 00:05:43.259
you have a site at the top level of the site, the welcome
page corresponds to the entry point for that site.

00:05:43.259 --> 00:05:48.949
You sub divide your site into sections, so divide
that in to courses, you can add other elements to this,

00:05:48.949 --> 00:05:54.329
you can create sub menu pages and
we'll go in to that a little bit later

00:05:54.329 --> 00:05:58.810
and how you can manipulate that
and edit the XML to do so.

00:06:03.490 --> 00:06:10.199
I want to define the section, make sure that's clear
that you gotta section here with four courses in it,

00:06:10.199 --> 00:06:14.870
so a section is a way of grouping several
things together and why do we do that?

00:06:14.870 --> 00:06:18.220
You want to have the visual element
in the iTunes U template.

00:06:18.220 --> 00:06:23.570
It also allows you to put permissions on that
entire section, so that if we have a section

00:06:23.569 --> 00:06:29.189
like this called events or campus community we can
assign a permission to that whole area and give a group

00:06:29.189 --> 00:06:32.620
of users access to everything with in it.

00:06:32.620 --> 00:06:36.090
Some other terms you'll hear me
use are course and course page.

00:06:36.089 --> 00:06:39.639
The page we saw earlier, we call that a course page.

00:06:39.639 --> 00:06:47.539
A tab is a way of sub dividing content on that course page,
in to separate areas so that when you click on it, a tab,

00:06:47.540 --> 00:06:50.800
the track list updates to show the
content that's been put in that tab.

00:06:50.800 --> 00:06:58.840
And a track, the track may be audio or
video, you can also put pdf in to iTunes,

00:06:58.839 --> 00:07:03.250
we might use that word track interchangeably
with any of those media types.

00:07:10.579 --> 00:07:15.769
So this structure that you see on the
right when you fill in the meta data

00:07:15.769 --> 00:07:19.859
about those objects you get the site structure on the left

00:07:19.860 --> 00:07:25.819
and as we plan our site we're going to assign
different permissions and roles to those users

00:07:25.819 --> 00:07:28.980
and how we want to access those areas of our site.

00:07:30.660 --> 00:07:35.750
So in the example I'm putting together here through
my slides, we're going to consider four different roles.

00:07:35.750 --> 00:07:38.819
The site administrator is myself,
I should be able to see everything,

00:07:38.819 --> 00:07:44.290
I have all of the super user capabilities
if you will, to manage the site.

00:07:44.290 --> 00:07:49.180
Second is instructor, I want to have pages
within this site for instructors to be able

00:07:49.180 --> 00:07:52.709
to manage the content that goes in to their course page.

00:07:52.709 --> 00:07:58.899
So they should be able to go in to certain sections
and have the ability to edit, but not the entire site.

00:07:58.899 --> 00:08:03.509
For the students, I want them to have access
just to those courses they are enrolled in

00:08:03.509 --> 00:08:08.930
and they should have download access to the
content that is placed in to those course pages

00:08:08.930 --> 00:08:11.860
and tabs within those course pages by the instructor.

00:08:11.860 --> 00:08:21.040
And then last, is the word all here public visitors
interchangeably all is the term for the credential

00:08:21.040 --> 00:08:24.490
within iTunes U that gives access
to anybody to the public.

00:08:24.490 --> 00:08:28.189
So we're going to take part of our site and make
it available to the public because it's content

00:08:28.189 --> 00:08:32.230
that we want to share not only with our campus
community but really anybody interested

00:08:32.230 --> 00:08:36.870
in Cupertino University university and finding out more about it.

00:08:36.870 --> 00:08:42.639
So when I say public visitor, when you see the
credential that says all, they are synonymous.

00:08:44.100 --> 00:08:50.250
The levels of the access that you can put on to
different areas of iTunes U, it can block access.

00:08:50.250 --> 00:08:53.919
So you may need to set up a rule that
says I don't want this user to have access

00:08:53.919 --> 00:08:55.829
to anything below this section of the tree.

00:08:55.830 --> 00:09:02.080
You can assign download access which then gives
them the ability to browse and download any content

00:09:02.080 --> 00:09:08.030
within that section and in some places we have the ability
to put a drop box or shared access so that if you want

00:09:08.029 --> 00:09:14.449
to set up a tab or a course where you want students or
other roles, you can create a role for a teaching assistant

00:09:14.450 --> 00:09:19.230
or somebody else to be able to put content
in to those areas, you can do that.

00:09:19.230 --> 00:09:25.200
There's a specific level of access defined for that
purpose and then the highest level of access is edit,

00:09:25.200 --> 00:09:30.290
to be able to fully edit things within that
page, the titles, the descriptions, create tabs,

00:09:30.289 --> 00:09:33.419
delete tabs, add content, delete content.

00:09:33.419 --> 00:09:37.399
So these are the different levels of access
that you can assign within iTunes U.

00:09:37.399 --> 00:09:43.209
And for my example, I'm going to put those together with
the four roles that I want to manage with in my site

00:09:43.210 --> 00:09:47.080
and this is how it lays out and
maps to these different roles.

00:09:49.529 --> 00:09:56.850
So, I've been using this word credential and permission
and what does this mean in terms of iTunes U.

00:09:56.850 --> 00:10:01.019
Well one of the things about iTunes U is
that iTunes U is not managed the identity

00:10:01.019 --> 00:10:05.079
of the people that enter the iTunes U site.

00:10:05.080 --> 00:10:13.490
We expect that your campus your institution to implement
a way of passing us information to tell us what

00:10:13.490 --> 00:10:18.080
that user should be able to do and the
mechanism for that is by passing a credential.

00:10:18.080 --> 00:10:23.050
There for we don't have to know anything
about the users individual identity,

00:10:23.049 --> 00:10:25.419
we just need to know what they should have access to.

00:10:25.419 --> 00:10:31.370
So you pass us a credential, combine that
with an access level, know access download

00:10:31.370 --> 00:10:35.960
and now we have a permission for a
particular area within that site.

00:10:35.960 --> 00:10:42.360
This allows us to have an architecture that deals with
privacy concerns that many of your institutions might have

00:10:42.360 --> 00:10:47.810
so you don't have to pass this to any
of the individuals, private information.

00:10:47.809 --> 00:10:50.129
So that, when we say credentials,
that's what we're talking about.

00:10:50.129 --> 00:10:55.429
And a permission is a combination of that
credential on an access level to assign

00:10:55.429 --> 00:10:59.039
to a specific part of the hierarchy.

00:10:59.039 --> 00:11:06.219
So here's my hierarchy again, what I want to do now
given the four roles I'm considering is put a credential

00:11:06.220 --> 00:11:13.379
around these two sections and all the content beneath
that in those course pages and I want to give that the,

00:11:13.379 --> 00:11:17.159
a credential and then I'm going to assign a
credential to each of the four courses,

00:11:17.159 --> 00:11:21.309
a unique credential actually two credentials per course.

00:11:21.309 --> 00:11:26.319
So what it would look like in terms of the strings that are
going to be passed to iTunes U when you authorize a user,

00:11:26.320 --> 00:11:32.460
is your going to pass that string on the right if
you want to give somebody access to those sections

00:11:32.460 --> 00:11:37.450
and your going to pass one of these two
credentials depending upon the course.

00:11:37.450 --> 00:11:42.140
The first one being for a student that has
access to the love and despair in poetry class

00:11:42.139 --> 00:11:47.610
and the second would be the instructor for that class
and you can have of course many instructors if you want,

00:11:47.610 --> 00:11:53.539
you just pass the credential for instructor when
your authorizing that user in to iTunes U.

00:11:55.240 --> 00:11:58.529
So how do we go about doing this?

00:11:58.529 --> 00:12:03.659
When you go in to iTunes U as an administrator,
you have access to several administrator functions,

00:12:03.659 --> 00:12:08.259
one of them is edit access and when you
click on edit access you get this page.

00:12:08.259 --> 00:12:14.230
Remembering that the site is a hierarchy, you
want to make sure that your at the top level of your site

00:12:14.230 --> 00:12:18.670
and this pop up list in the middle of the page
defines where you are in the hierarchy,

00:12:18.669 --> 00:12:25.500
we're at the top level of the Cupertino University site
and by default, there's no access for the all credential.

00:12:25.500 --> 00:12:30.100
So what we're going to do is we're
going to change that credential,

00:12:30.100 --> 00:12:33.759
to give it access so that public users can enter our site.

00:12:33.759 --> 00:12:37.429
So once we do that, set it to download all the sudden now,

00:12:37.429 --> 00:12:43.500
that entire hierarchy we just saw
is going to have public download access.

00:12:43.500 --> 00:12:48.169
Now that we've done that, we need to then
might go down within the other courses

00:12:48.169 --> 00:12:51.829
and block public users from accessing those courses.

00:12:51.830 --> 00:12:59.340
You can do so, this way, you navigate to the course
you click edit access again and you'll notice

00:12:59.340 --> 00:13:04.570
that because we set that permission at the
top level it has cascaded down to this part

00:13:04.570 --> 00:13:08.710
of our site, now we're going to override that value.

00:13:08.710 --> 00:13:13.129
We click the pencil to edit that and
we set this course to have no access.

00:13:13.129 --> 00:13:18.019
Now we have blocked public users
from visiting these course pages.

00:13:18.019 --> 00:13:24.409
We then need to go and give those specific
credentials for that course access to this course.

00:13:24.409 --> 00:13:28.959
So down at the bottom we're going to enter in a custom
permission and this is where it's part of your job

00:13:28.960 --> 00:13:32.960
to define what are these strings we're going to
define access to these different areas.

00:13:32.960 --> 00:13:37.900
What are these strings that uniquely identify
a student or instructor and their affiliation

00:13:37.899 --> 00:13:40.590
with the course from your own information architecture.

00:13:40.590 --> 00:13:46.990
So you click edit, you change the access level and you
enter in the unique string that defines that credential.

00:13:46.990 --> 00:13:50.779
Now we have some other ways of defining credential
I'm not going to talk about in this session but that are

00:13:50.779 --> 00:13:56.169
in our documentation so that you can do variable
substitution and create credentials that are based

00:13:56.169 --> 00:13:59.219
on the information that you pass in to iTunes U.

00:13:59.220 --> 00:14:05.370
Well once you've changed that access, to
edit, now I have done what I need to do

00:14:05.370 --> 00:14:08.669
to give an instructor access to edit that course.

00:14:08.669 --> 00:14:18.169
So now that I've done that let me go
through a couple of different cases.

00:14:18.169 --> 00:14:21.589
First example, the user on the right is an instructor.

00:14:21.590 --> 00:14:27.019
Their an instructor for two courses and so their going to,
when your system has authorized a user in to that system

00:14:27.019 --> 00:14:31.169
into iTunes U, your going to need to pass us
those two strings that they are instructors for

00:14:31.169 --> 00:14:34.740
and then by default their going to
get these last two credentials.

00:14:34.740 --> 00:14:39.399
There's four credentials that iTunes U assigns
by default based on how you entered the site.

00:14:39.399 --> 00:14:46.019
Everyone gets the all credential and that's how
we know that we have a public visitor potentially.

00:14:46.019 --> 00:14:53.949
If you've authenticated through your school's authorization
authentication authorization mechanism for any iTunes,

00:14:53.950 --> 00:14:57.430
entry in iTunes U, your also going to
get an authenticated credential.

00:14:57.429 --> 00:15:00.219
So those two are ones that are built
in to the system to help make it easier

00:15:00.220 --> 00:15:07.029
to assign these very high level group designations
that will make it easier to determine what's public

00:15:07.029 --> 00:15:10.059
and what's private for anonymous visitors.

00:15:10.059 --> 00:15:15.389
So this user's coming in with those four credentials and
because of that now you can see what the site hierarchy

00:15:15.389 --> 00:15:21.970
on the left there that they're going to have access to two
courses and the events and campus community section.

00:15:21.970 --> 00:15:23.610
So what does that look like?

00:15:23.610 --> 00:15:30.830
When they load iTunes U, this is the page that they
see, the events section only has those two courses.

00:15:30.830 --> 00:15:37.129
Here's another example, a student,
they just come in with one credential,

00:15:37.129 --> 00:15:42.259
when they load that page that's what they get.

00:15:45.879 --> 00:15:52.110
So we've put together a basic iTunes U site that has a
few public sections, courses that are based on credentials

00:15:52.110 --> 00:15:58.419
and this is the typical set up that we've seen a schools
utilize as they begin to use iTunes U and experiment

00:15:58.419 --> 00:16:04.370
with all its capabilities is set up a few courses and set
up a few areas that are generally open for other's to use

00:16:04.370 --> 00:16:12.779
and really sharing techniques about pod casting or recording
some campus events and sharing that with all the users.

00:16:12.779 --> 00:16:18.990
So now I'm going to talk about how you get further in to this,

00:16:18.990 --> 00:16:22.340
we've seen kind of how you would use
it, how you might plan out a site.

00:16:22.340 --> 00:16:27.330
How are we going to integrate this with
your institutions identity management.

00:16:27.330 --> 00:16:36.320
As I said, iTunes U doesn't manage identity so there
needs to be a sequence of events here to transition the user

00:16:36.320 --> 00:16:43.220
from some online web page in to iTunes U, and
so this sequence starts out within the web browser

00:16:43.220 --> 00:16:46.120
so I've got the icon for Safari
here to represent the web browser.

00:16:46.120 --> 00:16:50.870
There going to be some where on line and your own
course management system or some other page

00:16:50.870 --> 00:16:54.019
that they click on a link to access iTunes U.

00:16:55.120 --> 00:16:59.360
So that page needs to submit a
form, do what ever it needs to do.

00:16:59.360 --> 00:17:06.039
The user may already be in a session for web
application on your site, but basically if you know that,

00:17:06.039 --> 00:17:12.190
then your requesting access to iTunes U, your
campus, something on your campus needs to respond

00:17:12.190 --> 00:17:17.559
and say this user should have access to iTunes U and
these are the credentials we're going to pass for this user.

00:17:17.559 --> 00:17:21.779
So this is, this is where you come in, where
you need to write some custom logic to be able

00:17:21.779 --> 00:17:24.309
to determine what that user should be able to do.

00:17:24.309 --> 00:17:28.559
Once you have that and you know what
credentials that user should carry with them,

00:17:28.559 --> 00:17:34.919
you forward that on to the iTunes U server and you pass
that in a secure way, which I'll go over in a second.

00:17:34.920 --> 00:17:41.580
If it all passes our checks on the iTunes U server side
we send back a URL that contains a session identifier

00:17:41.579 --> 00:17:44.240
that will establish a session on behalf of that user.

00:17:44.240 --> 00:17:51.750
You can then forward that back to the browser and if the
user has iTunes installed they'll hand it off to iTunes

00:17:51.750 --> 00:17:56.950
and iTunes U will load the appropriate
page within the iTunes U environment

00:17:56.950 --> 00:17:59.990
and if they don't have iTunes it
will tell them to install iTunes.

00:17:59.990 --> 00:18:08.519
So that's the sequence of events that happens when
we're, what we expect to happen when your campus begins

00:18:08.519 --> 00:18:12.759
to integrate their authentication
authorization in to iTunes U.

00:18:12.759 --> 00:18:18.559
So let's step down in to step two which
is really to detail that's matters most.

00:18:18.559 --> 00:18:23.569
What is it that we're passing from
your campus to the iTunes U server?

00:18:23.569 --> 00:18:29.399
This is the transfer authorization data
for iTunes U, we need to see an identity,

00:18:29.400 --> 00:18:33.620
a time stamp and a set of credentials
and the identity is optional.

00:18:33.619 --> 00:18:36.299
What do we use identity for?

00:18:36.299 --> 00:18:42.559
I said you didn't have to pass it but if you do pass it, it
helps us keep track and add to our logs what user did what

00:18:42.559 --> 00:18:47.509
and if that's important to you, then you
can add an identity and it will display

00:18:47.509 --> 00:18:50.599
in the usage reports what users did what.

00:18:50.599 --> 00:18:56.639
It also helps if your using the shared and drop boxed
features, so that we can automatically insert meta data

00:18:56.640 --> 00:19:03.700
that says Jane doe uploaded this file
on May eleventh two thousand and seven.

00:19:03.700 --> 00:19:08.250
So if you pass identity those are the sorts of
things we use it for, as I said it's optional.

00:19:08.250 --> 00:19:16.880
What I've seen some schools do is instead of passing it in
a clear readable format like this, they put it in to a hash

00:19:16.880 --> 00:19:24.570
that they understand how to interpret
and that it's opaque to Apple.

00:19:24.569 --> 00:19:30.990
The time stamp and then a set of credentials, I've got two
credentials here separated by a semi colon in the middle.

00:19:30.990 --> 00:19:39.839
You take this information, you sign it using a shared secret
that we provided when we provisioned the iTunes U sit

00:19:39.839 --> 00:19:45.990
for your school and send it over SSL to our servers.

00:19:45.990 --> 00:19:48.559
That establishes the session.

00:19:48.559 --> 00:19:54.200
Let me step through this, I know a lot of people have been
working to get their schools integrated with iTunes U

00:19:54.200 --> 00:19:59.410
and some of the details of creating these measures
and passing it, I've seen a lot of people stumble

00:19:59.410 --> 00:20:04.560
and come up short in getting this to work
and so I want to step through some code here.

00:20:04.559 --> 00:20:12.139
We provide some example code on the iTunes U support
site and the key part of it here I have on this slide

00:20:12.140 --> 00:20:15.440
which shows how to build this credential string and sign it.

00:20:15.440 --> 00:20:17.920
So I'm going to step through this.

00:20:17.920 --> 00:20:22.340
So first off we're putting together a string of credentials.

00:20:22.339 --> 00:20:29.740
I'm expecting that hearing this variable, but part of your
job is to determine what groups is this user a part of,

00:20:29.740 --> 00:20:36.370
what affiliations do they have with any courses and to put
that in to this variable, but ultimately once we do that,

00:20:36.369 --> 00:20:41.239
we want to URL and code it so that we can
pass it safely to Apple with out any lunging

00:20:41.240 --> 00:20:43.880
of data and then we get this type of an out put.

00:20:43.880 --> 00:20:50.230
So we first build that part of the string
and then we want to move on to identity.

00:20:50.230 --> 00:20:53.450
If you have identity, you add this
in there again it's optional,

00:20:53.450 --> 00:20:56.930
you can skip these two lines of code if you wanted to.

00:20:56.930 --> 00:21:05.860
I have it here, so I URL and code that data and then
that gets appended and then I need a time stamp.

00:21:05.859 --> 00:21:10.909
The time stamp is important because the
transfer of this information is only good

00:21:10.910 --> 00:21:13.840
for a short amount of time, ninety seconds.

00:21:13.839 --> 00:21:16.480
So if this message is not returned to the browser

00:21:16.480 --> 00:21:21.339
and the user doesn't establish a
session at iTunes U, it's invalid.

00:21:21.339 --> 00:21:28.149
You have the time stamp and now you've
got that appended on as part of the string

00:21:28.150 --> 00:21:30.900
and then the last part is to produce a signature.

00:21:30.900 --> 00:21:38.940
And in java this is pretty simple, there's a function
for doing this, you provide the data you want to sign

00:21:38.940 --> 00:21:43.910
and the key and it returns it and we append
that to the buffer and we end up with this.

00:21:43.910 --> 00:21:50.170
You pass that to iTunes U and you'll
get an authorized session and in this case

00:21:50.170 --> 00:21:54.650
for two instructors we have edit access to those courses.

00:21:58.230 --> 00:22:04.220
So in implementing this transfer logic, there's a
couple of steps I've seen people make mistakes on.

00:22:04.220 --> 00:22:09.490
The server time is not accurate, we talked about adding
that time stamp, that time stamp needs to be in sync

00:22:09.490 --> 00:22:17.190
with our servers so we synchronize to a gmt, using the ntp
protocol, I suggest you do the same thing with your server

00:22:17.190 --> 00:22:25.120
so that we'll never have our servers get out
of sync on the clocks and then the symptom

00:22:25.119 --> 00:22:30.829
of that is I hear some people say that our script
is working and now it's not, what happened?

00:22:30.829 --> 00:22:36.470
And if you use the debug page, I'll talk about in a second,
you'll see probably that the times got out of sync

00:22:36.470 --> 00:22:43.339
and there's clock drift going on and we're not
accepting the message because we think it's invalid.

00:22:43.339 --> 00:22:45.919
You notice that we URL and coded those values.

00:22:45.920 --> 00:22:51.800
It's important that they're getting coded so
that the data doesn't get lunged by a proxy

00:22:51.799 --> 00:22:56.659
or some http transfer of information in the middle.

00:22:56.660 --> 00:23:04.240
I seen credentials not separated properly by semi colons
and it's just real common where the strings are really close

00:23:04.240 --> 00:23:08.789
but they don't match, your missing a semi colon or
a semi colon is a period or something like that,

00:23:08.789 --> 00:23:14.849
so copy and paste errors, so the thing
to do is to use our debugging page.

00:23:14.849 --> 00:23:20.829
So when your transferring information to iTunes U
to establish a session, you can append a debug suffix.

00:23:20.829 --> 00:23:24.929
It comes with the information that we
provided when we provisioned your site.

00:23:24.930 --> 00:23:31.490
You add that on to the URL that you post and then you get
the debug page instead of transferring to the iTunes U

00:23:31.490 --> 00:23:34.990
and the heart of the matter is at the bottom line.

00:23:34.990 --> 00:23:38.430
It tells you exactly what you should
have access to do with these credentials.

00:23:38.430 --> 00:23:42.750
You have browsing, downloading,
editing, uploading and editing access.

00:23:42.750 --> 00:23:48.039
If you don't see that and you're expecting to get in
as a sited administrator, then something went wrong

00:23:48.039 --> 00:24:00.190
and so read carefully above on the debug
page and you'll be able to see what happened.

00:24:00.190 --> 00:24:07.320
Alright, so, we've covered planning the site and how
to authorize an authenticated user in to iTunes U.

00:24:07.319 --> 00:24:18.609
In March we had some web services and so I want
Thomas to come up here and describe those for us.

00:24:18.609 --> 00:24:19.359
(applause)

00:24:19.359 --> 00:24:20.069
>> Thanks Eric.

00:24:20.069 --> 00:24:23.289
My name is Thomas Burkholder
for those that don't know me.

00:24:23.289 --> 00:24:29.000
We're going to talk about iTunes U Web Services
today and what iTunes U web services is.

00:24:29.000 --> 00:24:30.799
We'll go to the big idea here.

00:24:30.799 --> 00:24:39.009
The big idea is and the main idea of web services is that
there are many things with web services or with iTunes U

00:24:39.009 --> 00:24:40.539
that are not trivial to do with UI.

00:24:40.539 --> 00:24:49.230
And there are many times that you want to integrate
your iTunes U site with services that are not

00:24:49.230 --> 00:24:54.069
within Apple's control, so if you want to integrate
with an (inuadible) or other systems your going to want

00:24:54.069 --> 00:24:59.179
to do bulk uploads or bulk provisioning of the
site, it's a little bit hard to do with just a UI,

00:24:59.180 --> 00:25:03.250
so this was our first attempt and our initial
foray in to the world of web services,

00:25:03.250 --> 00:25:07.690
APIs and probably not our last, there will be more.

00:25:07.690 --> 00:25:11.900
So I think I've covered everything
on that slide so moving right along.

00:25:11.900 --> 00:25:16.050
So what it is and what it isn't,
just to make it a little more clear.

00:25:16.049 --> 00:25:22.349
You can make wholesale editions to your site, deletions
and changes, you can access some features that are not

00:25:22.349 --> 00:25:25.589
yet exposed in the UI, occasionally there
are some things we find easier to expose

00:25:25.589 --> 00:25:28.259
in the XML and not in the UI, at least at first.

00:25:28.259 --> 00:25:32.930
It's a way of understanding your site a little bit
better, you'll find that the complete hierarchy

00:25:32.930 --> 00:25:36.750
of your site is a little hard to understand
since your looking at it page by page in the UI,

00:25:36.750 --> 00:25:41.450
but when you open it in XML, I don't know if you're
an engineer like me, you find that a little bit easier

00:25:41.450 --> 00:25:44.700
to understand when you can list everything
with it's parent and it's very easy

00:25:44.700 --> 00:25:47.090
to understand, you'll see that as we go to that slide.

00:25:47.089 --> 00:25:53.189
Couple things that it's not, it's not an archiving
mechanism and it's not a hierarchical file system.

00:25:53.190 --> 00:25:57.890
It's not a truck, more like a series
of two, had to throw it in.

00:25:57.890 --> 00:26:03.190
So what that means for not an archiving mechanism and
not a hierarchical file system is there are things ,

00:26:03.190 --> 00:26:07.009
your going to look at this and your going to see its very
hierarchical, it's very logical how it's laid out.

00:26:07.009 --> 00:26:13.599
But it doesn't work exactly like you might expect a file
system to and so just bear in mind that although some

00:26:13.599 --> 00:26:16.199
of this looks like that it's not the same thing.

00:26:16.200 --> 00:26:21.240
And its not a full archiving mechanism yet because
we've not yet output the actual bits of the content

00:26:21.240 --> 00:26:26.160
that you've uploaded, there's some bandwidth issues
with that and it's another idea so its inadvisable

00:26:26.160 --> 00:26:30.290
to consider this a mechanism to archive your
site, you should still keep your content locally

00:26:30.289 --> 00:26:33.569
and locked to rely on us to archive it with this.

00:26:33.569 --> 00:26:37.869
Okay the basics. We'll talk about a few
things before we go right in to code here.

00:26:37.869 --> 00:26:43.859
The objects you can manipulate, you can manipulate
courses, groups, permissions, credentials and tracks.

00:26:43.859 --> 00:26:49.879
If you looked on the original slide that Eric showed you,
you'll see that we we're looking at a whole site and within

00:26:49.880 --> 00:26:53.350
that site you saw several sections and
within the sections you saw courses

00:26:53.349 --> 00:26:58.589
and for the moment what we are manipulating is courses
and the things underneath it which are groups and a group

00:26:58.589 --> 00:27:01.909
in principle matches up to a tab
if you've seen a tab on the screen.

00:27:01.910 --> 00:27:03.390
Well why didn't we call it a tab?

00:27:03.390 --> 00:27:07.190
Well it's just an engineer kind of thing, if we
called it a tab then if we change the representation

00:27:07.190 --> 00:27:10.269
on the screen sometime in the future we
give you an alternate representation,

00:27:10.269 --> 00:27:14.900
you know then we would have a bad name so we
call it a group, it makes it nice and generic.

00:27:14.900 --> 00:27:18.720
Permissions, credentials and tracks, Eric covered
permissions and credentials a little bit earlier.

00:27:18.720 --> 00:27:23.970
Those are items that either apply at each different level of
the hierarchy that provide access to different groups

00:27:23.970 --> 00:27:27.839
of users and we'll go over some of
that also as w e go through as well.

00:27:27.839 --> 00:27:30.899
And tracks as well as I think he also covered.

00:27:30.900 --> 00:27:34.030
The basic operations that you do on these objects,

00:27:34.029 --> 00:27:37.579
there's one special operation called show
tree and that shows your entire site.

00:27:37.579 --> 00:27:40.419
Outside of that, everything falls
in to one of three categories,

00:27:40.420 --> 00:27:43.940
which are add methods, delete methods and merge methods.

00:27:43.940 --> 00:27:50.309
So for each of these kinds of objects you have add methods,
delete methods and merge methods with a few exceptions,

00:27:50.309 --> 00:27:56.289
but in particular you have things like add course, delete
group, merge track, stuff like that, so it's very logical,

00:27:56.289 --> 00:27:59.240
you know your operation your name
and your operation and your object

00:27:59.240 --> 00:28:04.240
and all these web services, they
fall in to these categories.

00:28:04.240 --> 00:28:08.799
There's a few things that you won't see there, that you
will see on the hierarchy it self and the output,

00:28:08.799 --> 00:28:12.329
things like site, sections and divisions,
we don't yet have ways of adding,

00:28:12.329 --> 00:28:16.710
deleting or merging those, that will come eventually.

00:28:16.710 --> 00:28:23.380
The inter action mechanism it self, everything
we do at iTunes U for now with changing these,

00:28:23.380 --> 00:28:28.510
changing your site with web services, api
and for other uploads that you'll see is all

00:28:28.509 --> 00:28:30.759
through a standard http upload mechanism.

00:28:30.759 --> 00:28:34.579
So if you're familiar with how that works
and the http protocol, it's just like that.

00:28:34.579 --> 00:28:39.210
But the URL that you upload to, you have
to get because this has to be secure,

00:28:39.210 --> 00:28:45.120
you have to get through another mechanism we return
that to you through the get upload URL api mechanism.

00:28:45.119 --> 00:28:48.799
This is covered in the documentation and
we won't cover it in very much detail here

00:28:48.799 --> 00:28:51.149
because it's a whole subject on to itself.

00:28:51.150 --> 00:28:55.880
But suffice if I say, I'd just like to transfer a
script that you seen Eric go over, it has to be signed

00:28:55.880 --> 00:29:01.290
and when it is signed properly and its got all the right
parameters, you get an upload URL that you can then upload

00:29:01.289 --> 00:29:04.430
to and you can see a simple example we have there.

00:29:04.430 --> 00:29:09.850
Just to talk a little a bout site structure
as it's seen in abstract form for a second

00:29:09.849 --> 00:29:16.619
and Eric covered this a little bit as well but talking about
from an abstract perspective you have your site at the root

00:29:16.619 --> 00:29:20.839
and then inside the site you have several sections
and inside those sections you have courses

00:29:20.839 --> 00:29:24.589
and inside the courses you tend to have
groups and inside the group you have tracks.

00:29:24.589 --> 00:29:28.730
It gets a little more complicated than that as
some of you may know from seeing several sites.

00:29:28.730 --> 00:29:32.769
We also have this concept of a
division which we're introducing

00:29:32.769 --> 00:29:35.869
that terminology more at the data
level than at the UI level.

00:29:35.869 --> 00:29:42.649
It just looks like another welcome page, a lot like the page
you saw coming in to the site and that basically shows sort

00:29:42.650 --> 00:29:48.190
of a sub section of your site, obviously we couldn't
call it a section, already had one of those.

00:29:48.190 --> 00:29:53.190
So division idea is a lot like your site root but it's
rooted inside your site and you can have several levels

00:29:53.190 --> 00:29:55.049
of these as we go three deep as you see here.

00:29:55.049 --> 00:29:58.730
So the thing to think about that is that
it's something that is basically a lot

00:29:58.730 --> 00:30:02.099
like a site and it can contain these other objects.

00:30:02.099 --> 00:30:07.750
The main take home point for this slide here is, you
can't just contain any object in any other object,

00:30:07.750 --> 00:30:11.259
a section can only be contained inside a division or a site.

00:30:11.259 --> 00:30:15.009
A course is only contained in a section,
groups are only contained in courses.

00:30:15.009 --> 00:30:18.150
So the very somewhat rigid structure.

00:30:18.150 --> 00:30:23.620
We'll talk about the first directive
we have here which is called show tree.

00:30:23.619 --> 00:30:29.199
Show tree is the single directive we have that shows
you your entire site structure and it's integral

00:30:29.200 --> 00:30:35.549
to how we interact with the site because
later on when we do all our merge mechanisms,

00:30:35.549 --> 00:30:39.480
merging is done by essentially clipping
little bits out of the show tree results.

00:30:39.480 --> 00:30:44.160
So this is really probably the most
important thing to do with your site.

00:30:44.160 --> 00:30:46.460
Once you've got this working, you
can really work on everything else.

00:30:46.460 --> 00:30:48.509
So there's three flavors of this.

00:30:48.509 --> 00:30:52.890
Because when I initially did this, we spat out so much
data it became really hard to read and got huge files.

00:30:52.890 --> 00:30:59.130
We wanted to be able to print it down, here and there,
so we've got minimal, most and maximal and that allows us

00:30:59.130 --> 00:31:05.350
to see you know, just, just the bare bones that's the titles
and the structure versus you know, a little bit more data,

00:31:05.349 --> 00:31:09.039
down to you know, just way more data than
you can possibly need when you say maximal.

00:31:09.039 --> 00:31:15.779
And that's, so going over the XML you'll
see here, the show tree entity, very simple.

00:31:15.779 --> 00:31:19.730
And by the way, as we go through these examples,
you'll see you know, it'll start with you know,

00:31:19.730 --> 00:31:21.529
the directive itself as if there's nothing before.

00:31:21.529 --> 00:31:25.029
You know, when you're sending an XML document,
obviously you have to have this header here

00:31:25.029 --> 00:31:27.379
where it says XML version 1 point 0 etcetera.

00:31:27.380 --> 00:31:32.500
There's an envelope around all of our directives
called iTunes U document and then inside

00:31:32.500 --> 00:31:36.509
that are the actual directives and you can have as
many as you want, which will be executed in series.

00:31:36.509 --> 00:31:40.980
But for the most part as we go through this,
you'll see that they're just referred to you know

00:31:40.980 --> 00:31:44.279
in toto as if they're just their own item.

00:31:44.279 --> 00:31:48.049
So this is the base for the most
simple kind of show tree document

00:31:48.049 --> 00:31:50.269
that you can send, that you can upload to our server.

00:31:50.269 --> 00:31:54.779
When you do a htp upload of this, it's going to spit out
the upload that we're going to show on the next slide.

00:31:54.779 --> 00:32:00.279
But because that's sort of a two step process, you have to
get the upload URL and then upload it and because you do it

00:32:00.279 --> 00:32:05.500
so commonly, we also provided a shortcut which is
sort of in parallel with the upload action itself.

00:32:05.500 --> 00:32:08.029
You can, if you look at the URL the bottom of this slide,

00:32:08.029 --> 00:32:11.629
you can very easily just produce
this output in a single step.

00:32:11.630 --> 00:32:13.500
Because we're doing it so much.

00:32:13.500 --> 00:32:16.869
Moving right along.

00:32:16.869 --> 00:32:18.789
The first output.

00:32:18.789 --> 00:32:24.480
So this is a very, very small representation
of a site and you can see that down

00:32:24.480 --> 00:32:30.440
at the bottom level here there's a group inside the
core, inside a section which itself is inside a site

00:32:30.440 --> 00:32:34.400
and this is just to give you an idea of
what's going on in this very small site.

00:32:34.400 --> 00:32:38.820
We've actually occluded this group, there's a lot more that
you're going to see on the next slide that goes into the group.

00:32:38.819 --> 00:32:40.879
There's just not enough room on the slide.

00:32:40.880 --> 00:32:44.300
Other things to notice about this output are the handles.

00:32:44.299 --> 00:32:50.369
Every level of our site, every one of these objects,
you know, the site and the section and the course,

00:32:50.369 --> 00:32:54.109
all of these objects have handles and that's one of
the things you'll see in a lot of the directives.

00:32:54.109 --> 00:32:55.939
We use that a lot to locate these objects.

00:32:55.940 --> 00:33:00.920
It's a little bit like an inode in a file system if
you're familiar with that, but it's a unique identifier

00:33:00.920 --> 00:33:03.690
for which you can identify these objects.

00:33:03.690 --> 00:33:07.130
There will be other ways, but for
now, that's what we've got.

00:33:07.130 --> 00:33:12.070
So moving into the, zooming into this
group a little bit you'll see, you'll see,

00:33:12.069 --> 00:33:16.649
I wanted to talk a little bit about
this permission as well here.

00:33:16.650 --> 00:33:21.720
You see, we talked about the permission a little
bit earlier and it's really important to note

00:33:21.720 --> 00:33:24.049
that actually this happens at every level of the site.

00:33:24.049 --> 00:33:26.339
You can put this, this permission applies to the whole site.

00:33:26.339 --> 00:33:29.000
If it was inside the section it
would apply to the section only.

00:33:29.000 --> 00:33:31.529
If it was inside the course, it would apply only to that.

00:33:31.529 --> 00:33:34.579
But looking at the group, zooming
in on the group there for a second,

00:33:34.579 --> 00:33:39.399
we want to talk a little bit about
(laughs) some of what's in here.

00:33:39.400 --> 00:33:45.350
Most of these objects, including the group you know,
almost all of them will have a name you know and a handle.

00:33:45.349 --> 00:33:47.339
You can kinda depend on that for everything.

00:33:47.339 --> 00:33:51.259
Inside the track itself you can kinda see there'll
be multiple tracks inside an ordinary group

00:33:51.259 --> 00:33:52.750
that have more than one track.

00:33:52.750 --> 00:33:58.660
But this one we just show one track and you can see a
number of things that come out in the track display.

00:33:58.660 --> 00:34:03.080
You know, like the track number and the disk
number, it's duration and things like that.

00:34:03.079 --> 00:34:06.789
So we spit all of that out.

00:34:06.789 --> 00:34:07.920
Moving right along.

00:34:07.920 --> 00:34:10.700
Talking about a permission again,
Eric covered this a little bit before,

00:34:10.699 --> 00:34:13.819
but I wanted to drive the point a little bit further home.

00:34:13.820 --> 00:34:17.440
Permission essentially binds a credential
object to a folder and when I say folder here,

00:34:17.440 --> 00:34:20.220
I mean any of these objects that
contain other objects in our tree.

00:34:20.219 --> 00:34:22.339
So group of course is such a section.

00:34:22.340 --> 00:34:26.490
So credential is a role describing user access.

00:34:26.489 --> 00:34:34.019
When you add that to the access level such as no access
download drop box, those things represent a permission

00:34:34.019 --> 00:34:39.230
and those permissions are bound to any
one of these objects and then that,

00:34:39.230 --> 00:34:42.130
that permission is then scoped
from an inherited perspective.

00:34:42.130 --> 00:34:45.510
So everything underneath that inherits that permission.

00:34:45.510 --> 00:34:51.060
So you'll see this these permission
puts a lot in your show tree outputs.

00:34:51.059 --> 00:34:55.590
So moving on to one of the most
basic operations, adding objects.

00:34:55.590 --> 00:34:59.519
You can add at the moment courses, groups,
permissions, credentials and tracks.

00:34:59.519 --> 00:35:05.509
Typically for an add object, you supply a parent handle
and you take the handle from your show tree output

00:35:05.510 --> 00:35:13.570
at this point, you take that handle and you say, I want to
add an object to this parent and when you add an object,

00:35:13.570 --> 00:35:19.180
it creates an object and it takes all of the
items and the entity that you supply and adds

00:35:19.179 --> 00:35:20.960
and creates that object using that entity.

00:35:20.960 --> 00:35:22.010
So it essentially merges it in.

00:35:22.010 --> 00:35:26.280
We'll talk a little bit more about merge later, but
effectively, whenever you add, you're just saying,

00:35:26.280 --> 00:35:29.330
take this XML and make the internal object representation.

00:35:29.329 --> 00:35:31.489
We'll see that on the next page in the example.

00:35:31.489 --> 00:35:34.319
And as I mentioned before, you have
to be careful about your parent.

00:35:34.320 --> 00:35:38.940
You obviously will get an error if you try and
add a course for instance, directly to a site.

00:35:38.940 --> 00:35:41.159
You have to add a course to a section.

00:35:41.159 --> 00:35:45.460
Okay, talking about an add example, we have
our simple Cupertino U site here

00:35:45.460 --> 00:35:48.280
and we're going to add a course to the my courses section.

00:35:48.280 --> 00:35:51.150
This is the example before the add.

00:35:51.150 --> 00:35:59.460
When we execute this XML here, it's going to add a single
course called theory of Rectophronology 210 lab,

00:35:59.460 --> 00:36:03.539
which has a single group inside it called
Numbskulls, with apologies to Terry Pratchet.

00:36:03.539 --> 00:36:10.590
So this is a very simple one and one thing I want to point
out here, the add course has an option to provide a template

00:36:10.590 --> 00:36:17.730
and if you're familiar with templates in UI of the of iTunes
U, with templates you can cause a new course to be added

00:36:17.730 --> 00:36:24.150
from a template set up before which is kinda set up
default graphics and other things inside the course itself.

00:36:24.150 --> 00:36:30.380
So it can often be really handy and you can do the
same thing in XML just by supplying a template handle.

00:36:30.380 --> 00:36:32.440
So that's the XML we would use.

00:36:32.440 --> 00:36:39.170
After we've added it, you'll see the extra course appear
under the courses, this should be my courses, but it should,

00:36:39.170 --> 00:36:45.380
in the course section it shows
theory of rectofronology 210 lab.

00:36:45.380 --> 00:36:47.650
So very simple.

00:36:48.929 --> 00:36:49.739
Deleting objects.

00:36:49.739 --> 00:36:51.509
There's no undelete.

00:36:51.510 --> 00:36:54.370
Maybe someday, but right now use at your own risk.

00:36:54.369 --> 00:36:57.339
If you delete something it's really
gone, just like if you use the UI.

00:36:57.340 --> 00:37:03.430
It's no more, more or less dangerous
than the UI, just bear it in mind.

00:37:03.429 --> 00:37:08.269
Typically, delete is implemented by providing the handle of
what you want to delete, just like when you added a course,

00:37:08.269 --> 00:37:11.199
you to provide the handle of the
parent you wanted to add it to.

00:37:11.199 --> 00:37:16.210
When you delete an object, you say what you want,
what the handle is of the object you're deleting.

00:37:16.210 --> 00:37:20.099
One thing to note, when you're deleting a permission,
permissions are a little bit of a special object.

00:37:20.099 --> 00:37:24.730
They don't have a handle of their own, so you have to
identify them through a combination of factors, a parent

00:37:24.730 --> 00:37:26.809
like what it's parent is and what it's credential name is.

00:37:26.809 --> 00:37:35.170
And note that delete works on nearly all objects and
removes the specified objects plus all child objects.

00:37:35.170 --> 00:37:36.220
That's just like in the UI.

00:37:36.219 --> 00:37:42.699
If you delete a section, it's all gone, including all the
courses in the section and all the tracks in those courses.

00:37:42.699 --> 00:37:45.730
Unlike the UI, those tracks will not move into the trash.

00:37:45.730 --> 00:37:48.730
I believe in some cases in the UI,
those tracks move into the trash.

00:37:48.730 --> 00:37:54.420
Not here. In the delete example we have
here, we're going to delete the same course.

00:37:54.420 --> 00:37:55.659
Beforehand you can see that.

00:37:55.659 --> 00:37:57.179
We're going to execute this XML.

00:37:57.179 --> 00:38:01.669
This XML actually does more than delete just a single
course, but that's all you'll be able to see because,

00:38:01.670 --> 00:38:07.960
the permission and the credential we're deleting are
objects that are effectively invisible to the UI.

00:38:07.960 --> 00:38:11.960
Anyway, as you can see here, when we said
delete permission, we have provide a parent

00:38:11.960 --> 00:38:13.880
and a credent, parent handle and the credential name.

00:38:13.880 --> 00:38:19.700
We can actually delete that credential independently
as well and obviously with the ellipses here,

00:38:19.699 --> 00:38:24.139
I'm just removing a little bit of the details,
just because it won't fit on the slide.

00:38:24.139 --> 00:38:28.269
And then ultimately we're going to delete the
course, just by specifying its handle.

00:38:28.269 --> 00:38:31.119
Very simple.

00:38:31.119 --> 00:38:36.380
Afterward, that was a little bit of a graphics
glitch, but you can see it blew up our course.

00:38:36.380 --> 00:38:38.390
It's gone.

00:38:38.389 --> 00:38:39.839
Okay, so merge objects.

00:38:39.840 --> 00:38:42.530
Merge is probably the most powerful concept we've got.

00:38:42.530 --> 00:38:46.510
The intention of merge is to be able to copy and
modify results from your show tree operation,

00:38:46.510 --> 00:38:50.090
paste them back into a merge object directive.

00:38:50.090 --> 00:38:54.000
So with merge, you can cause, in a single operation,

00:38:54.000 --> 00:39:00.989
you can choose to reorder courses say delete
a group, add another course, things like that.

00:39:00.989 --> 00:39:07.019
Just by, the basic idea is you have your site output,
you have your show tree output and if you just decide

00:39:07.019 --> 00:39:13.019
to you know, modify around and edit out what you want,
change what you want and then upload it all wholesale

00:39:13.019 --> 00:39:15.929
and then the site should then look
that way, which is pretty powerful.

00:39:15.929 --> 00:39:19.179
But there's some caveats.

00:39:19.179 --> 00:39:25.159
So to kinda, to kinda drill down a little bit into
what merge actually does, the first thing it's going to do

00:39:25.159 --> 00:39:29.339
when you decide to merge an object, it's going to look at
properties of the object, like the name of the object

00:39:29.340 --> 00:39:36.820
and it's going to rename it to that, to that name if
you've, if you've set a new name it's going to you know,

00:39:36.820 --> 00:39:42.039
change that or other items like if you were merging a track
and you specified a track duration, it's going to change that.

00:39:42.039 --> 00:39:45.779
So simple things that just modify
the object that you specified.

00:39:45.780 --> 00:39:49.910
If you specified child objects and that don't
already exist, then it's going to add those.

00:39:49.909 --> 00:39:55.719
So if I decided to merge a course and provide it a group
inside that course entity, that didn't already exist,

00:39:55.719 --> 00:40:00.000
if a group by that name didn't already
exist, then it's going to add that object.

00:40:00.000 --> 00:40:05.500
And if you provided an object that already did exist,
so if I told it to merge a course, it found that course

00:40:05.500 --> 00:40:09.449
and I specified a group in my XML and that
group also existed within that course,

00:40:09.449 --> 00:40:12.299
it's going to merge that version of
the group into that course as well.

00:40:12.300 --> 00:40:15.240
So this merge is very much an inherited thing.

00:40:15.239 --> 00:40:16.109
It's a recursive thing.

00:40:16.110 --> 00:40:17.730
It goes down the entire tree.

00:40:17.730 --> 00:40:25.280
So by merging a course, you cause all the groups underneath
it to be merged and the tracks underneath that to be merged.

00:40:25.280 --> 00:40:27.610
If we had a merged site, it would do everything.

00:40:27.610 --> 00:40:32.000
It would cause every, all the sections to be
merged, the divisions and everything else, etcetera.

00:40:32.000 --> 00:40:35.570
But we don't have a merged site just yet.

00:40:35.570 --> 00:40:39.120
It's worth noting that there's also
another thing that merge can do.

00:40:39.119 --> 00:40:46.190
If you set destructive to be true, destructive also tells
it to say hey, if you see something that isn't in the XML

00:40:46.190 --> 00:40:50.800
but does exist in the site, then delete that.

00:40:50.800 --> 00:40:53.269
Not necessarily recommended, but if you're really trying

00:40:53.269 --> 00:40:57.409
to make your site look exactly like
your XML, then this will do it.

00:40:57.409 --> 00:41:00.909
And lastly, it can set the order
according to the input order.

00:41:00.909 --> 00:41:06.659
So if all I change is the order of two groups within a
course, when I send up the XML, it'll just reorder those.

00:41:06.659 --> 00:41:08.469
So pretty versatile thing.

00:41:08.469 --> 00:41:13.259
So we're going to go over three examples for merge
and the first one we can see our before site.

00:41:13.260 --> 00:41:20.390
This is our course page, our theory of rectofornology
210 lab, with one group in it called Numbskulls.

00:41:20.389 --> 00:41:24.210
The first example, in this first example we're
going to just use merge to add a few things.

00:41:24.210 --> 00:41:28.590
We're going to add a permission and we're going to add a group.

00:41:28.590 --> 00:41:31.390
So this example adds a permission
to the existing Numbskulls group

00:41:31.389 --> 00:41:36.859
and also adds a group called auto rectrofornology
a primer, to the previously added course.

00:41:36.860 --> 00:41:39.480
So it's going to do two things in one operation.

00:41:39.480 --> 00:41:46.329
After we've done that, what you'll
see is there's a new, a new tab,

00:41:46.329 --> 00:41:51.529
which is a group called auto rectrofornology a primer.

00:41:51.530 --> 00:41:55.630
The other things are also there, can't really
see them because, they're invisible in the UI.

00:41:55.630 --> 00:41:57.130
Second merge example.

00:41:57.130 --> 00:42:01.200
This example reorders the groups in the
theory of rectrofornology 210 course.

00:42:01.199 --> 00:42:05.000
So all we're specifying here, again we're
specifying the course handle as we did before

00:42:05.000 --> 00:42:10.380
so it knows what course we're merging
and we're specifying the groups by name

00:42:10.380 --> 00:42:12.920
and it's going to use those names to reorder the course.

00:42:12.920 --> 00:42:18.869
It's going to look in those, in that course and it's going to
say hey, I see a group called auto rectrofornology a primer

00:42:18.869 --> 00:42:21.079
and another group called Numbskulls,
but they're in a different order.

00:42:21.079 --> 00:42:23.019
So it's just going to order them this way.

00:42:23.019 --> 00:42:28.750
Very simple and you can see after
we've done, it's reordered.

00:42:28.750 --> 00:42:30.579
Here we go.

00:42:30.579 --> 00:42:34.110
We're supposed to have a zoom in on there, but we don't.

00:42:34.110 --> 00:42:35.180
Third merge example.

00:42:35.179 --> 00:42:36.289
Selective delete.

00:42:36.289 --> 00:42:38.960
This example deletes the Numbskulls group and the theory

00:42:38.960 --> 00:42:42.780
of rectrofornology 210 course, by
omitting it from the list of groups.

00:42:42.780 --> 00:42:46.730
It also deletes any track objects
under and that's a mis edit too.

00:42:46.730 --> 00:42:49.900
It deletes any track objects under Numbskulls.

00:42:49.900 --> 00:42:56.349
So as you'll see, we're using the destructive option and
we're specifying that we're, we're specifying our course

00:42:56.349 --> 00:43:01.299
without the Numbskulls group and that
causes the Numbskulls group to be deleted.

00:43:01.300 --> 00:43:04.280
The only ones that will be preserved
are the ones that are listed here.

00:43:04.280 --> 00:43:12.650
Very simple and after we're done, you can see all we
have left is the auto rectrofornology a primer group.

00:43:12.650 --> 00:43:15.340
That's about it for web services as it stands today.

00:43:15.340 --> 00:43:17.070
There's going to be a few more thing we're adding to it.

00:43:17.070 --> 00:43:23.350
As I mentioned before, we're going to be merging sites and
adding, deleting and merging divisions and sections.

00:43:23.349 --> 00:43:24.549
So this is going to get more powerful.

00:43:24.550 --> 00:43:27.920
We're going to have path based referencing.

00:43:27.920 --> 00:43:32.539
One of the things I wanted to mention was that, everything
that you can see through here, we're referring to everything

00:43:32.539 --> 00:43:36.489
by handle and while every object in the system
does have a handle and they are all unique,

00:43:36.489 --> 00:43:40.979
that's not really the way you want to
manipulate objects in the long term.

00:43:40.980 --> 00:43:43.480
You want to be able to reference them by some form of a past.

00:43:43.480 --> 00:43:47.710
It's a little bit like, the big, the main
problem with handle here is in order to find

00:43:47.710 --> 00:43:52.900
out what object you want to manipulate, you have to show the
entire tree and you know, zoom in on that and say okay,

00:43:52.900 --> 00:43:55.970
this is the object, which is not
necessarily always that easy to automate.

00:43:55.969 --> 00:44:01.959
So later on we're going to move toward this path based
referencing where there is some form of a path,

00:44:01.960 --> 00:44:06.220
a lot like a file system that will allow
you to navigate and specify the object

00:44:06.219 --> 00:44:09.349
that you want to deal with, based on this path.

00:44:09.349 --> 00:44:10.400
And lastly we're going to have a dtd.

00:44:10.400 --> 00:44:14.090
A dtd is just something we haven't
gotten to yet and we will get to.

00:44:14.090 --> 00:44:16.300
It's been a requested by several folks.

00:44:16.300 --> 00:44:18.070
So that's where we're going.

00:44:18.070 --> 00:44:20.519
That's pretty much concludes my part of the presentation.

00:44:20.519 --> 00:44:26.480
I'm going to call Eric back up here and I guess
we'll do some Q and A. Is that the plan Eric?

00:44:26.480 --> 00:44:27.420
Some more Q and A now.

00:44:27.420 --> 00:44:28.619
Okay, we'll answer your questions.

00:44:28.619 --> 00:44:31.000
>> Can you hear me?

00:44:31.000 --> 00:44:35.699
So this slide we just wanted to make sure
know the URL to find all the resources

00:44:35.699 --> 00:44:40.480
for iTunes U. Documentation, sample
code and other resources.

00:44:40.480 --> 00:44:44.909
We've got many pdf's describing different
things you might need to give to your users

00:44:44.909 --> 00:44:50.190
to better understand iTunes U. We have support
forms there where many of you have posted questions.

00:44:50.190 --> 00:44:56.510
We try to answer those and ask you guys to help each other
answer those questions as you run into common issues.

00:44:56.510 --> 00:45:00.370
And if you have any developer contact
questions, there's your contact.

00:45:00.369 --> 00:45:04.549
And I think that's about it.

00:45:04.550 --> 00:45:07.930
Let's make sure I haven't forgotten anything.

00:45:07.929 --> 00:45:09.539
Oh, following this session there is a lab.

00:45:09.539 --> 00:45:16.759
We'll be downstairs and we'll be there to answer your
questions in more depth and that's following this session

00:45:16.760 --> 00:45:20.340
and most of the other sessions that we hope
you attended were previous to this one,

00:45:20.340 --> 00:45:27.120
the Podcast Producer session this morning, I hope many of
you saw they're really showing off a great new technology

00:45:27.119 --> 00:45:32.159
that if you're interested in iTunes U
should really help you automate the work flow

00:45:32.159 --> 00:45:34.980
and the process of getting all the content into iTunes U.

00:45:34.980 --> 00:45:37.699
So yeah, that pretty much covers it.