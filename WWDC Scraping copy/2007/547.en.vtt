WEBVTT

00:00:19.989 --> 00:00:25.399
>> All right, thank you everybody for showing up
for two p.m. session on the last day of WWDC.

00:00:25.399 --> 00:00:30.329
My name is Jussi-Pekka Mantere, I'm the
engineering manager for managed desktop and system imaging.

00:00:30.329 --> 00:00:33.019
And today we're going to talk about managed technologies.

00:00:33.020 --> 00:00:36.200
So how to deploy your systems, how to manage them.

00:00:36.200 --> 00:00:39.980
So we cover technologies that I introduced in Leopard,

00:00:39.979 --> 00:00:44.599
and we tell you how to best deploy Leopard
clients using system imaging utility.

00:00:44.600 --> 00:00:50.829
We'll cover to some extent what differences there
are between Mac OS X Tiger, Mac OS X Leopard,

00:00:50.829 --> 00:00:55.929
and where you'd need to pay attention to
differences in behavior, what utilities are available

00:00:55.929 --> 00:00:59.590
on what platform, and how to manage them both best.

00:00:59.590 --> 00:01:06.140
And if we have time in the end, we'll do
a short Q and A. So let's get into it.

00:01:06.140 --> 00:01:08.019
Click, there we go.

00:01:08.019 --> 00:01:11.329
So how many of you are new to this IT track?

00:01:11.329 --> 00:01:15.450
So how many of you are new to WWDC,
first time attendees?

00:01:15.450 --> 00:01:18.640
Wow. Thank you guys all, welcome back next year.

00:01:18.640 --> 00:01:22.879
We'll probably like have to move this
conference to South Moscone or somewhere.

00:01:22.879 --> 00:01:25.649
So client deployment management,
what does it really deal with?

00:01:25.650 --> 00:01:32.450
So you use our system image utility and
net boot, net install to deploy clients.

00:01:32.450 --> 00:01:38.469
You have managed desktop for user settings, you
can have a environment for preference management,

00:01:38.469 --> 00:01:43.120
you can use Apple Remote Desktop for systems
management such as software updating.

00:01:43.120 --> 00:01:46.540
So the life cycle of the system itself
you can keep up to date with ARD.

00:01:46.540 --> 00:01:54.390
And then we have portable home directories and
external accounts that are new in Leopard for mobility.

00:01:54.390 --> 00:01:56.810
So let's look at our network.

00:01:56.810 --> 00:01:58.560
So what is your typical deployment?

00:01:58.560 --> 00:02:08.310
You shouldn't let the engineers do slides, so let's get
the arts work guys slide here, and that's our network.

00:02:08.310 --> 00:02:11.879
So we have servers, we have administrators,
we have users and workgroups.

00:02:11.879 --> 00:02:14.409
So here's a typical network overview.

00:02:14.409 --> 00:02:19.370
And in there you have mobile clients
as well, so you have wireless users

00:02:19.370 --> 00:02:24.050
on laptops, MacBook Pros, or MacBooks, Powerbooks.

00:02:24.050 --> 00:02:26.930
So how do our technologies work in this environment?

00:02:26.930 --> 00:02:31.060
What are the things that actually
make this work on our side?

00:02:31.060 --> 00:02:34.110
So management pieces for managed desktop.

00:02:34.110 --> 00:02:42.390
We can do user management, we can do group management, and
then we can do systems management for setting unique hosts

00:02:42.389 --> 00:02:49.079
for a particular use, so we can do preferences
on a classroom on lab or a particular department.

00:02:49.080 --> 00:02:55.940
And then for portable home directories, today in Tiger
we can use portable home directories on your laptop,

00:02:55.939 --> 00:03:01.979
with your laptops users, so they can take their network
home directories with them when they're disconnected

00:03:01.979 --> 00:03:07.780
from the network, so basically making them more
mobile with their network home directories intact,

00:03:07.780 --> 00:03:09.960
even when they're disconnected from the network.

00:03:09.960 --> 00:03:13.379
New with Mac OS X Leopard is external accounts.

00:03:13.379 --> 00:03:18.560
So external accounts brings the portable
home directory experience to desktop users.

00:03:18.560 --> 00:03:25.789
So you can have a, let's say office worker who's got a
MacPro at their office, also has a MacPro or Power Mac

00:03:25.789 --> 00:03:32.400
at their home, and now they move their account between the
office system and the local system, use an external drive.

00:03:32.400 --> 00:03:34.879
So this is new to Leopard.

00:03:34.879 --> 00:03:41.669
So portable home directories that now can, that now
make sense with both desktop systems and laptop users.

00:03:41.669 --> 00:03:48.709
And System Image Utility, we can use that to image
either clients or servers, desktop systems or X serves.

00:03:48.710 --> 00:03:54.740
And we can net boot either desktop systems or X serves.

00:03:54.740 --> 00:03:58.490
So to go into little bit detail on managed desktop.

00:03:58.490 --> 00:04:01.920
So what is desktop management, how do we do it?

00:04:01.919 --> 00:04:04.869
So it's direct replaced client management.

00:04:04.870 --> 00:04:08.420
So we have Open Directory, we have Active Directory, LDAP.

00:04:08.419 --> 00:04:13.509
And in there we can manage users
preferences, either by individual user,

00:04:13.509 --> 00:04:17.819
individual computer, or groups
of users, groups of computers.

00:04:17.819 --> 00:04:20.399
And settings are cached for offline use.

00:04:20.399 --> 00:04:25.639
So when these management settings are applied
in the directory system, when mobile clients,

00:04:25.639 --> 00:04:31.099
MacBooks or PowerBooks leave the network,
these management settings are still active.

00:04:31.100 --> 00:04:36.950
So if you have let's say application launch suggestions
enabled on a system, when the user is disconnected,

00:04:36.949 --> 00:04:40.269
let's say using a one to one deployment of a MacBook,

00:04:40.269 --> 00:04:43.099
those settings are still applicable
when they're not on the network.

00:04:43.100 --> 00:04:48.030
So working from home they still get the same management
experience as if they were connected on the network.

00:04:48.029 --> 00:04:51.539
And these settings are refreshed at network transitions.

00:04:51.540 --> 00:04:58.610
So let's say you updated some of the settings for that
user, and they need to be applied overall in the company.

00:04:58.610 --> 00:05:03.050
Well if the users are offline, obviously
they wouldn't get these settings immediately.

00:05:03.050 --> 00:05:08.600
But when the users connect back to the network, so network
comes available, or when the systems wake from sleep,

00:05:08.600 --> 00:05:16.000
if it's a portable, then these settings are refreshed
again, and they become the same as the network's are.

00:05:16.000 --> 00:05:22.819
Managed settings are administered through workgroup
manager, and with Leopard you can actually do some

00:05:22.819 --> 00:05:24.969
of this management through command line tools.

00:05:24.970 --> 00:05:27.710
So you can use Terminal, you can
use Chron, you can use -

00:05:27.709 --> 00:05:28.399
( applause )

00:05:28.399 --> 00:05:28.899
Thank you.

00:05:28.899 --> 00:05:29.949
( applause )

00:05:29.949 --> 00:05:31.939
We tried to make this better for you.

00:05:31.939 --> 00:05:34.149
And using command line tools.

00:05:34.149 --> 00:05:40.459
And for detailed editing of the preferences,
we can, we have in workgroup manager also a,

00:05:40.459 --> 00:05:45.620
almost like a P list editor type interface,
where you can use individual application domains

00:05:45.620 --> 00:05:48.990
that are not supported with our high level GUI.

00:05:48.990 --> 00:05:53.790
There you can actually go and add individual keys
for individual applications that are not visible

00:05:53.790 --> 00:05:57.650
or accessible through the user interface.

00:05:57.649 --> 00:06:03.109
And new with Leopard is ability to discover
the active settings through System Profiler.

00:06:03.110 --> 00:06:09.470
So if you're doing support, or have to support let's
say a network where you have multiple administrators,

00:06:09.470 --> 00:06:13.100
and then you have multiple users going to
different systems, and you're trying to find

00:06:13.100 --> 00:06:15.689
out why aren't things behaving quite right.

00:06:15.689 --> 00:06:19.689
So now you can ask the user, or just walk up
to the system and bring up system profiler,

00:06:19.689 --> 00:06:23.180
and you can tell where these management
settings originated from.

00:06:23.180 --> 00:06:28.759
And the user can also save these settings as a
system profiler report, so then that can be looked

00:06:28.759 --> 00:06:33.659
at by let's say Apple support if you need
to file a radar or a tech support request.

00:06:33.660 --> 00:06:39.990
So that's very useful for discovering what
the state of the management settings are.

00:06:39.990 --> 00:06:45.519
And also new with Leopard is ability to discover
settings before they're actually applied.

00:06:45.519 --> 00:06:51.229
So with the mcx query tool, you can
arbitrarily choose a user, choose a computer,

00:06:51.230 --> 00:06:58.300
choose a workgroup that they log on, and tell what settings
would be in effect if this user were to log on on a system.

00:06:58.300 --> 00:07:01.530
So this is almost like effective -

00:07:01.529 --> 00:07:02.779
( applause )

00:07:02.779 --> 00:07:03.829
Thank you.

00:07:03.829 --> 00:07:03.969
( applause )

00:07:03.970 --> 00:07:10.980
Effective management inspection,
to coin a word, I don't know.

00:07:10.980 --> 00:07:15.560
One thing for management is that you
have to have well behaved applications.

00:07:15.560 --> 00:07:21.139
So if the application that you're trying to manage
doesn't use the Apple standards for preferences,

00:07:21.139 --> 00:07:27.099
they're not using CF preferences, they're not
using NS defaults, then you have a problem.

00:07:27.100 --> 00:07:33.189
So you'd want to encourage your application vendors to
take a look at the slides that we presented two years ago,

00:07:33.189 --> 00:07:36.040
that was making your applications management friendly.

00:07:36.040 --> 00:07:42.600
And there we go into detail how to create well
behaved applications that adhere to the Apple way

00:07:42.600 --> 00:07:49.500
of using preferences, so that then their applications
become manageable and deployable in some environments.

00:07:49.500 --> 00:07:52.209
So, what is new in Mac OS X Leopard?

00:07:52.209 --> 00:07:58.719
So we've updated the workgroup manager, plug ins
in there, so we have new support for new plug ins,

00:07:58.720 --> 00:08:01.680
and enhanced others where that made sense.

00:08:01.680 --> 00:08:04.410
New to Leopard, application launch restrictions.

00:08:04.410 --> 00:08:09.540
So this is a big thing for us, because now
we can actually make real hard decisions

00:08:09.540 --> 00:08:14.450
on what applications can be launched, what
can't be launched, and these decisions stick.

00:08:14.449 --> 00:08:20.620
And we also now support widget management, so you can
tell which Dashboard widgets a user or group can launch.

00:08:20.620 --> 00:08:22.879
( applause )

00:08:22.879 --> 00:08:24.969
Go Dashboard management.

00:08:24.970 --> 00:08:26.080
Hierarchical management.

00:08:26.079 --> 00:08:30.849
So now you have basically one, you have
to choose how to manage your groups.

00:08:30.850 --> 00:08:35.120
It's basically a group of settings that
you have to apply to an individual group,

00:08:35.120 --> 00:08:38.570
and those settings are not shared with any other group.

00:08:38.570 --> 00:08:44.760
So that becomes maybe unwieldy so a hierarchical
management should address that manageability aspect of it.

00:08:44.759 --> 00:08:47.460
And command line tools, system profile reporting,

00:08:47.460 --> 00:08:53.500
and external accounts effectively taking
portable home directories on external drives.

00:08:53.500 --> 00:08:58.649
So preference management, what have
we updated in workgroup manager?

00:08:58.649 --> 00:08:59.699
So applications.

00:08:59.700 --> 00:09:04.720
So we have now widgets access in the applications
preference, application launch restrictions,

00:09:04.720 --> 00:09:13.649
that's being revamped so that now we use the Leopard signing
technologies in workgroup manager to authorize applications.

00:09:13.649 --> 00:09:18.019
The log in plug in has been augmented
so that we can now manage whether

00:09:18.019 --> 00:09:19.960
or not you can add a guest account to a system.

00:09:19.960 --> 00:09:26.090
So if you set up let's say kiosk machines, you can force
guests to be either on or off, and hierarchical management

00:09:26.090 --> 00:09:29.399
so you can restrict which groups can access which systems.

00:09:29.399 --> 00:09:30.870
Formability.

00:09:30.870 --> 00:09:34.440
We've added support for external
accounts so we can enforce policies

00:09:34.440 --> 00:09:37.180
where external accounts can be created or not created.

00:09:37.179 --> 00:09:38.449
Account expiry.

00:09:38.450 --> 00:09:43.180
For mobile home directories, portable
home directories and mobile accounts,

00:09:43.179 --> 00:09:47.149
there has been an issue where accounts would become stale.

00:09:47.149 --> 00:09:52.529
And account expiry should help read
some of these like left behind accounts.

00:09:52.529 --> 00:09:59.909
Parenting controls mirrors pretty much what the
desktop has, so we have time limits support there.

00:09:59.909 --> 00:10:04.909
And Time Machine, you can set up
systems to centrally back up,

00:10:04.909 --> 00:10:09.000
use Time Machine against a AFP share, or even an NFS share.

00:10:09.000 --> 00:10:10.909
And finally, preference editor.

00:10:10.909 --> 00:10:13.279
Now we have support for bi-host host preferences.

00:10:13.279 --> 00:10:17.629
So if you're trying to do let's say
request password at a screensaver,

00:10:17.629 --> 00:10:20.250
you can do that now through bi-host preferences.

00:10:20.250 --> 00:10:26.490
And also if you've gone through the other sessions for
standard server, so using Mac OS X out of the box

00:10:26.490 --> 00:10:32.210
and configured for workgroup server, you can get
these applications that are configured automatically

00:10:32.210 --> 00:10:38.700
to use the user's iChat account or iCal account,
user's Mail account, they're all preset.

00:10:38.700 --> 00:10:44.879
You can actually get almost similar behavior
using the preference editor in workgroup manager,

00:10:44.879 --> 00:10:49.460
but without using the standard server configuration.

00:10:49.460 --> 00:10:52.280
So application launch restrictions.

00:10:52.279 --> 00:10:56.500
So this is based on code signing,
and that's new technology in Leopard.

00:10:56.500 --> 00:11:00.860
And effectively any changes into the
binary that you have approved to be run,

00:11:00.860 --> 00:11:04.700
any changes made to the binary will void the signature.

00:11:04.700 --> 00:11:08.200
So effectively, users will not
be able to edit P lists any more.

00:11:08.200 --> 00:11:09.740
So how is this implemented?

00:11:09.740 --> 00:11:15.289
We have the kernel, inside the kernel there's, we
have a mechanism for mandatory access controls.

00:11:15.289 --> 00:11:18.809
This comes from free BSD world or trusted BSD.

00:11:18.809 --> 00:11:21.709
On top of that we built a enforcement kernel extension.

00:11:21.710 --> 00:11:25.320
So basically something that funnels
all the application launches through.

00:11:25.320 --> 00:11:29.629
And for that, then on top of that we have a policy engine,

00:11:29.629 --> 00:11:33.200
and this is implemented as part
of the parent controls engine.

00:11:33.200 --> 00:11:37.200
And that tells, can this user launch this application.

00:11:37.200 --> 00:11:40.170
And helping all this is application identification.

00:11:40.169 --> 00:11:45.620
So this is effectively code signing telling
that is this binary still the same binary

00:11:45.620 --> 00:11:50.720
that was blessed when
the admin first set up these permissions.

00:11:50.720 --> 00:11:53.379
App launch, and computer lists.

00:11:53.379 --> 00:11:55.019
So this is hierarchical management.

00:11:55.019 --> 00:12:01.210
So today if you have to set up a computer lists
that have various management settings that overlap,

00:12:01.210 --> 00:12:04.490
like here we have software update login window energy saver.

00:12:04.490 --> 00:12:10.350
So depending on how many permutations of these settings you
have, you'd have to have as many individual computer lists.

00:12:10.350 --> 00:12:16.649
So with computed groups now, new in Leopard we'll
bring you, so you still have the same set of systems,

00:12:16.649 --> 00:12:20.879
and you can now divvy up individual
settings between computers.

00:12:20.879 --> 00:12:22.309
So here we have just energy saver -

00:12:22.309 --> 00:12:23.529
( applause )

00:12:23.529 --> 00:12:24.850
Thank you.

00:12:24.850 --> 00:12:29.670
Energy saver, and these settings
apply to a subset of these machines.

00:12:29.669 --> 00:12:34.990
And then we have let's say login window settings
that apply to a different subset of these machines.

00:12:34.990 --> 00:12:42.110
But because these settings are inherited and they can
exist in parallel, so you can just apply any given setting

00:12:42.110 --> 00:12:46.180
to any given machine or group, and they
all become active at the same time.

00:12:46.179 --> 00:12:49.579
And this is also useful for groups.

00:12:49.580 --> 00:12:57.060
So let's say we have groups that you want to divide
up, let's say everybody gets, or no one gets Dashboard.

00:12:57.059 --> 00:13:04.149
So here we have a base policy, one group that contains
everybody, and a global setting in that sense.

00:13:04.149 --> 00:13:09.840
And then we can detail this even further, and say the
dock behavior would be something for part of users,

00:13:09.840 --> 00:13:15.590
and for portable home directories we have another
setting, and customize even further and further.

00:13:15.590 --> 00:13:20.850
So here we can create these narrow groups that are
focused to the one preference that you want to manage,

00:13:20.850 --> 00:13:27.700
and then just have people added to the groups that are
applicable, or even have groups that then contain groups.

00:13:27.700 --> 00:13:31.460
And I'll show you a little bit of this at the demo later.

00:13:31.460 --> 00:13:33.440
And command line tools.

00:13:33.440 --> 00:13:40.640
So DSCL now has a module for, how
many people are familiar with DSCL?

00:13:40.639 --> 00:13:42.580
Excellent, almost half the room, great.

00:13:42.580 --> 00:13:43.370
Go to command line.

00:13:43.370 --> 00:13:52.350
So DSCL will now allow you to use managed client
settings through either P lists or XML formatted,

00:13:52.350 --> 00:13:55.560
or using the default write style and notation.

00:13:55.559 --> 00:14:01.949
And that'll almost bring up all the functionality that you'd
want to do if you have applications that are not supported

00:14:01.950 --> 00:14:06.410
by let's say the high level plug ins, or
you want to automate some of these settings.

00:14:06.409 --> 00:14:13.230
So let's say you deploy systems, and you have a
SAP backend that'll provision users.

00:14:13.230 --> 00:14:17.550
You can provision users just like you provision
mail servers, you provision their home directories.

00:14:17.549 --> 00:14:22.169
Now you can provision management settings through
the command line, or the scripts that you use.

00:14:22.169 --> 00:14:24.370
So that'll be very useful we hope.

00:14:24.370 --> 00:14:26.629
And again, managed MCX query.

00:14:26.629 --> 00:14:34.490
So here we can use the introspection or effective inspection
for preferences before the preferences come active.

00:14:34.490 --> 00:14:39.009
And system profiler, that'll be
very useful for getting support,

00:14:39.009 --> 00:14:43.259
a view of what the management settings
at any given time are.

00:14:43.259 --> 00:14:44.919
Or for even the user.

00:14:44.919 --> 00:14:48.449
So if the user thinks that what is happening
on my system that I didn't know before,

00:14:48.450 --> 00:14:52.860
they can go to system profiler and
discover what settings are active.

00:14:52.860 --> 00:14:56.120
So let's go to the demos.

00:14:56.120 --> 00:15:04.250
And I think we've appeased the demo gods by
offering them managed, we offered them Mac Manager.

00:15:04.250 --> 00:15:04.639
( laughter )

00:15:04.639 --> 00:15:08.090
So I think that'll make the demos run good.

00:15:08.090 --> 00:15:10.220
So no more Mac Manager in 10.5.

00:15:10.220 --> 00:15:14.220
I think it's time to move onto 10 something.

00:15:14.220 --> 00:15:17.379
If you can have, oh I need to go to demo.

00:15:17.379 --> 00:15:19.539
See here, okay.

00:15:19.539 --> 00:15:24.669
So here we have Record Manager, app we all know and love.

00:15:24.669 --> 00:15:27.479
And let's go look at some of the settings we have here.

00:15:27.480 --> 00:15:31.389
So we have some groups set up here.

00:15:31.389 --> 00:15:38.490
So we have this system administrator's group, we
have a chess club, and we have some nested groups.

00:15:38.490 --> 00:15:41.810
So in the system admin's group we have the chess club.

00:15:41.809 --> 00:15:46.879
So apparently anybody who makes it to the
chess club becomes a system admin, good.

00:15:46.879 --> 00:15:48.429
( laughter )

00:15:48.429 --> 00:15:51.620
And we have some managed settings here.

00:15:51.620 --> 00:15:59.919
So for the system admins, they have their dock set up so
that they get to see console, they get to see directory,

00:15:59.919 --> 00:16:06.860
system profiler, and they have application restrictions
so that they can only launch these four apps.

00:16:06.860 --> 00:16:10.659
So if you're in the system admin
group, no Safari for you, sorry.

00:16:10.659 --> 00:16:11.699
( laughter )

00:16:11.700 --> 00:16:16.290
So it'll be I guess links in terminal, so -

00:16:16.289 --> 00:16:17.110
( laughter )

00:16:17.110 --> 00:16:24.419
Right? And here we have then the chess
club, and chess club just has the dock.

00:16:24.419 --> 00:16:29.729
And anybody who's a member of the chess club
will get chess in their dock added to it,

00:16:29.730 --> 00:16:32.550
because we merged the user's dock settings.

00:16:32.549 --> 00:16:36.269
So let's look at some of the users we have then.

00:16:36.269 --> 00:16:38.720
So here we have Harry Hacker.

00:16:38.720 --> 00:16:43.779
So he seems to be a member of the
chess club, so good for Harry.

00:16:43.779 --> 00:16:51.120
And if you look at what management settings we have
set up for Harry, well Harry now can launch only chess.

00:16:51.120 --> 00:16:56.779
So apparently it was determined that Harry should
really focus on non-extracurricular activities,

00:16:56.779 --> 00:17:00.889
and he should focus on chess and using system preferences.

00:17:00.889 --> 00:17:04.819
So these now are, this is now our demo setup.

00:17:04.819 --> 00:17:11.289
So Harry Hacker is a member of a group, chess club,
and he has application launch restrictions enabled.

00:17:11.289 --> 00:17:16.019
And let's see if Harry can actually
circumvent these settings.

00:17:16.019 --> 00:17:29.019
So if we go to this system, here we have our login list,
and Harry is logging on, and oops, rather not caps on.

00:17:30.460 --> 00:17:34.529
Harry logs in, we have new nice desktop pictures by the way.

00:17:34.529 --> 00:17:41.389
Tries to launch Safari, well turns
out that Safari's not allowed for him.

00:17:41.390 --> 00:17:48.110
And for some reason Harry can't launch
anything at all, no address book, nothing.

00:17:48.109 --> 00:17:55.389
But since we had Harry be part of the chess club, and all
chess club members were part of the system admin's group,

00:17:55.390 --> 00:17:57.650
Harry now has Terminal and system profiler here.

00:17:57.650 --> 00:18:00.190
So let's see can Harry launch chess.

00:18:02.559 --> 00:18:06.079
And I guess we should have killed Mac manager earlier.

00:18:06.079 --> 00:18:08.449
( laughter )

00:18:08.450 --> 00:18:10.600
There we go, chess comes up.

00:18:10.599 --> 00:18:15.829
And let's see if we can launch
Terminal then, okay Terminal launches.

00:18:15.829 --> 00:18:18.549
So Harry has access to some applications.

00:18:18.549 --> 00:18:24.609
So Harry being a clever guy, decides that hmm, I've heard
of like circumventing application launch restrictions

00:18:24.609 --> 00:18:28.579
by editing the info P lists of an application.

00:18:28.579 --> 00:18:37.129
So let's see if I can launch Safari by making
a local copy of Safari, and then editing Safari

00:18:37.130 --> 00:18:41.190
so that I'll make it appear as if it was chess.

00:18:41.190 --> 00:18:48.460
So here's Safari, made a copy of
that, and let me copy chess as well.

00:18:48.460 --> 00:18:50.220
And copy chess.

00:18:50.220 --> 00:18:52.299
So now I have, I've made local copies.

00:18:52.299 --> 00:18:56.059
These are now on my desktop, so I can
modify these to my heart's content.

00:18:56.059 --> 00:19:01.470
So chess still launches from my desktop, but Safari doesn't.

00:19:01.470 --> 00:19:11.059
So thinking that we can just go and edit the P list,
what Harry will do here is, he's using VI, okay.

00:19:11.059 --> 00:19:13.619
Content info dot P list.

00:19:13.619 --> 00:19:20.399
So this effect will tell the Mac OS, tells Mac OS
X what application belongs to whatever bundles.

00:19:20.400 --> 00:19:28.320
And there's a key called identifier,
identifier, CF bundle identifier.

00:19:28.319 --> 00:19:32.129
So let's copy this, and we know
that hmm, we can launch chess,

00:19:32.130 --> 00:19:35.340
so maybe that has something to
do with the bundle identifier.

00:19:35.339 --> 00:19:41.649
So quit this, and let's try to make Safari look like chess.

00:19:41.650 --> 00:19:49.100
So identifier, identifier, and
let's just delete this and add that.

00:19:49.099 --> 00:19:53.879
So Safari now, okay we called it
chess, so it should launch, right?

00:19:53.880 --> 00:19:58.070
And if we try to launch Safari, no luck.

00:19:58.069 --> 00:20:00.689
So, because we use code signing.

00:20:00.690 --> 00:20:08.180
The code signing piece now tells that with this
signature, this blob of data can be loaded into run time.

00:20:08.180 --> 00:20:13.680
So if the application changes, any variants of it, I can
change the app name, it doesn't affect the signature.

00:20:13.680 --> 00:20:19.350
But if anything that's determined to be crucial
to the application's run time, like an info P list

00:20:19.349 --> 00:20:26.089
or its executables, if they change, then the
signature is broken, and nothing goes after that.

00:20:26.089 --> 00:20:32.490
And one thing that you can do also is, I
still can edit chess and make it look like,

00:20:32.490 --> 00:20:40.349
if it was let's say Chess 10, and launch Chess 10.

00:20:40.349 --> 00:20:43.279
A single byte will invalidate the signature.

00:20:43.279 --> 00:20:49.759
So this should be very effective way of ensuring that
the applications that you allow your users to use,

00:20:49.759 --> 00:20:51.779
really are the applications that
you blessed.

00:20:51.779 --> 00:20:55.500
And we don't see right now how
you can do much better than this.

00:20:55.500 --> 00:20:59.549
I'm sure we'll do in 10.6, but
this is the best we have right now.

00:20:59.549 --> 00:21:00.319
And -

00:21:00.319 --> 00:21:03.809
( applause )

00:21:03.809 --> 00:21:09.619
Yep, it took a while to get here, but now we are there, so.

00:21:09.619 --> 00:21:17.539
And if I don't save this chess application, and change it
back, well even the modification (inaudible) has changed,

00:21:17.539 --> 00:21:23.819
but the content of the file is now identical
to what it was before, so we're good on that.

00:21:23.819 --> 00:21:29.369
So Harry may wonder, it's like hmm, he's just part of
the chess club, and obviously he's being managed in a way

00:21:29.369 --> 00:21:31.939
that he should be restricted from some applications.

00:21:31.940 --> 00:21:35.880
Like he doesn't get to use Safari, no Mail, so what gives?

00:21:35.880 --> 00:21:43.170
Well, since he's a member of the admin group now by virtue
of being in the chess club, he can use System Profiler.

00:21:43.170 --> 00:21:49.529
So in System Profiler we have now the managed desktop
settings, and you can actually, can you read those?

00:21:49.529 --> 00:21:52.629
Probably not.

00:21:52.630 --> 00:22:00.050
And here if we select the application access settings, so
here's where the application access settings came from.

00:22:00.049 --> 00:22:06.309
And we can now see that huh, actually Harry's
settings are not only coming from his own domain,

00:22:06.309 --> 00:22:10.779
so Harry's user settings are not the
only things that are active at this time.

00:22:10.779 --> 00:22:16.259
We also have settings that are
inherited from the system admin group.

00:22:16.259 --> 00:22:23.240
And Harry's not a direct member of the system admin
group, so these are coming from a group within a group.

00:22:23.240 --> 00:22:29.799
So that's something that the MCX query
told, and then system profiler will then show you.

00:22:29.799 --> 00:22:33.319
Okay. So that's Harry's world.

00:22:33.319 --> 00:22:40.220
So if you go back to our server, and let's look
like how these things would have been seen here.

00:22:40.220 --> 00:22:49.380
So if I now go back to the group view, if I
looked at, actually I should look at the user.

00:22:49.380 --> 00:22:53.740
So if I look at Harry, so here we know
Harry is now a member of the chess club.

00:22:53.740 --> 00:22:56.410
But here's this one button that's kind of crucial.

00:22:56.410 --> 00:22:58.140
Show inherited groups.

00:22:58.140 --> 00:23:05.509
So here if you have nested groups, it's quite important
to go in and see what groups actually are effect

00:23:05.509 --> 00:23:08.559
when they use (inaudible), because these groups are nested.

00:23:08.559 --> 00:23:16.539
And here you can tell that huh, system admins
apparently are, is, or contains the chess club.

00:23:16.539 --> 00:23:21.399
So these preferences are inherited from that.

00:23:21.400 --> 00:23:23.120
So that's that.

00:23:23.119 --> 00:23:26.189
And on the details editor view.

00:23:26.190 --> 00:23:29.400
So let's look at some other groups we have here.

00:23:29.400 --> 00:23:32.460
So we have this thing called iChat and iCal users.

00:23:32.460 --> 00:23:37.490
And we have turned on application
launch restrictions on them as well,

00:23:37.490 --> 00:23:40.380
but we also have something here in the details view.

00:23:40.380 --> 00:23:47.710
So this is now what you'd see in the standard sort of
configuration, this preference keys for applications

00:23:47.710 --> 00:23:55.259
that I tied to the configuration mechanisms that take
place when clients bind to a standard server environment.

00:23:55.259 --> 00:23:58.099
So we have iCal settings and iChat settings.

00:23:58.099 --> 00:24:07.269
So if I look at the iCal settings for example, I can see
that we have some dictionary that has some keys here.

00:24:07.269 --> 00:24:11.480
So accounts to import, and
there's some GUI looking thing.

00:24:11.480 --> 00:24:16.920
And if I click on these things, you don't
really get much information on what's there.

00:24:16.920 --> 00:24:20.769
So there, that seems to be a URI,
and we have a server description.

00:24:20.769 --> 00:24:24.289
But you know, I couldn't really
make heads or tails out of this one.

00:24:24.289 --> 00:24:30.159
So in Mac OS X Leopard, we have
added some preference manifests.

00:24:30.160 --> 00:24:39.150
So if I import the preference manifest for managed desktop
applications, or managed clients from system, system,

00:24:39.150 --> 00:24:51.130
library, core services, and import the
managed client preference manifest.

00:24:51.130 --> 00:24:57.060
So we have quite a few preference manifests here now
listed, and suddenly the iCal and iChat settings became,

00:24:57.059 --> 00:25:00.899
instead of being italicized, which
means that they're unknown

00:25:00.900 --> 00:25:03.910
to workgroup manager, now they actually became regular text.

00:25:03.910 --> 00:25:14.259
And now if I look at the iCal settings, and go bring up the
same domain, it now has huh, the dictionary keys are kind

00:25:14.259 --> 00:25:17.529
of different, and it says iCal preferences.

00:25:17.529 --> 00:25:20.660
So this description field used to be empty.

00:25:20.660 --> 00:25:25.910
And the calendar URL, oh okay, so now it's
actually telling me that there's a format to this.

00:25:25.910 --> 00:25:32.900
So we use percent at to replace the user's short
name at run time when these preferences are applied.

00:25:32.900 --> 00:25:38.280
We have principal URI, and there again
we can use the percent at notation.

00:25:38.279 --> 00:25:45.029
So we have added preference manifests for some of
the standard server configuration applications,

00:25:45.029 --> 00:25:52.750
but then if you don't use that configuration, you can still
get some support for client configuration by doing this,

00:25:52.750 --> 00:25:56.900
by applying these managed settings from the details view.

00:25:56.900 --> 00:26:04.890
And lastly if I bring up Terminal, and look at these
settings again from yet another different point of view.

00:26:04.890 --> 00:26:13.270
So DSCL, so directory services command line tool,
if I go and navigate to my directory server,

00:26:13.269 --> 00:26:22.559
LDAT groups for example, and I go to the iChat and
iCal users, and if I do a read on this directory node,

00:26:22.559 --> 00:26:29.500
we see that okay, we have all kinds of
gobbly gook here for all kinds of things.

00:26:29.500 --> 00:26:33.539
There's managed settings and like raw
data, and like I have no idea what this is.

00:26:33.539 --> 00:26:39.549
So let's see what this reads if we use
the NCX read as opposed to just read.

00:26:39.549 --> 00:26:42.490
So that tells me oh, okay.

00:26:42.490 --> 00:26:49.099
So we have a preference for iCal managed settings,
and it tells that the key is accounts to import.

00:26:49.099 --> 00:26:54.199
And for iChat, we also have iChat management,
basically saying well this user will be user

00:26:54.200 --> 00:26:57.160
at server dot WWDC at Apple dot com.

00:26:57.160 --> 00:27:03.360
So this is now a way of enhancing your user
experience where you can get client settings applied

00:27:03.359 --> 00:27:07.509
that are then dynamically transformed
per user when the user logs in.

00:27:07.509 --> 00:27:12.089
so you can have iChat automatically
configured when the user launches iChat

00:27:12.089 --> 00:27:16.399
for the first time, or launches iCal for the first time.

00:27:16.400 --> 00:27:19.009
So I think that concludes my demo.

00:27:19.009 --> 00:27:22.470
So if you can go back to the slides please.

00:27:23.619 --> 00:27:25.859
Back to the slides.

00:27:25.859 --> 00:27:33.269
And then we actually conclude the managed desktop
portion, and let me invite Bruce Gaya

00:27:33.269 --> 00:27:36.009
up to the stage, and he'll take,
tell you about external accounts.

00:27:36.009 --> 00:27:36.049
( applause )

00:27:36.049 --> 00:27:40.839
So far so good.

00:27:44.309 --> 00:27:47.440
>> Hello. Play with the clicker, make sure it works.

00:27:47.440 --> 00:27:49.710
Ah wrong way.

00:27:49.710 --> 00:27:50.049
There we go.

00:27:50.049 --> 00:27:51.940
External accounts.

00:27:51.940 --> 00:27:54.820
Okay. So you should all be familiar with network logins.

00:27:54.819 --> 00:28:01.919
And a network login is where you have an account on a
directory server, and you have a home on a file server.

00:28:01.920 --> 00:28:08.450
And when you log in, you use the account from the directory
server, and your files are in the place on the file server.

00:28:08.450 --> 00:28:11.110
Okay, in Panther we introduced mobile accounts.

00:28:11.109 --> 00:28:16.079
What we did in mobile accounts is we take
the network account and cached it locally.

00:28:16.079 --> 00:28:19.899
And we also have credentials, so
you can log in when you're offline.

00:28:19.900 --> 00:28:22.790
And to complement that, we also,
you have a local home directory,

00:28:22.789 --> 00:28:25.569
and that's separate from your network home directory.

00:28:25.569 --> 00:28:30.769
In Tiger we introduced home synchronization, and we
called the whole thing portable home directories.

00:28:30.769 --> 00:28:36.230
And we basically took the mobile account caching,
plus you can synchronize your local home directory

00:28:36.230 --> 00:28:40.110
with your network home directory such that you
can go offline for a while, make these changes,

00:28:40.109 --> 00:28:42.679
come back to the network, let the synchronization run,

00:28:42.680 --> 00:28:45.580
everything gets pushed up back
to the network home directory.

00:28:45.579 --> 00:28:48.059
It's very nice.

00:28:48.059 --> 00:28:50.379
For Leopard we're introducing external accounts.

00:28:50.380 --> 00:28:51.650
And so what do we do?

00:28:51.650 --> 00:28:58.950
We take the PHP technology, and we're going to
add an on disk account and credentials cache.

00:28:58.950 --> 00:29:06.390
And we're adding the ability to take this
disk and take it to a computer, establish on,

00:29:06.390 --> 00:29:10.200
well be able to establish your
account on that computer temporarily,

00:29:10.200 --> 00:29:12.410
log in on that computer, do your stuff on that computer.

00:29:12.410 --> 00:29:16.850
Then when you're done, log out, disconnect the disk,
and now you can take the disk with all your data on it,

00:29:16.849 --> 00:29:22.269
with your home on it, take it to another computer,
present it, and you're able to log in on that computer.

00:29:22.269 --> 00:29:25.150
So you can take your account with
you from computer to computer.

00:29:25.150 --> 00:29:30.740
Did I get the right one?

00:29:30.740 --> 00:29:41.289
Okay, let's get the right direction.

00:29:41.289 --> 00:29:42.259
Okay, external accounts.

00:29:42.259 --> 00:29:43.250
I think we're back.

00:29:43.250 --> 00:29:44.549
How's it work?

00:29:44.549 --> 00:29:48.720
So inside of the firewall, this is what's in your intranet,

00:29:48.720 --> 00:29:52.630
where all your computers should be
bound to a single directory service.

00:29:52.630 --> 00:29:57.400
When you present your disk to a computer on the
network, what happens is there's tokens stored

00:29:57.400 --> 00:30:02.509
when you created this external account in
this disk, and it helps you to bind to your,

00:30:02.509 --> 00:30:07.230
or it helps you to find your directory service, so
when you log in with an account when it's on your net,

00:30:07.230 --> 00:30:09.640
what's really happening is all the authentication stuff

00:30:09.640 --> 00:30:12.750
and this account information's actually
coming right from the directory server.

00:30:12.750 --> 00:30:18.440
So essentially this is pretty much the same as a
network login, except for that you have the disk there.

00:30:18.440 --> 00:30:22.600
So you're basically saying I'm you know, you know who I
am, I've got this network account, and here's a disk I want

00:30:22.599 --> 00:30:26.219
to use for my home directory, and it does it.

00:30:26.220 --> 00:30:31.829
Now there are machines that are not on your,
or not bound to the same directory service.

00:30:31.829 --> 00:30:35.679
In this case, when you present your account, it
doesn't really know anything about the account,

00:30:35.680 --> 00:30:40.570
so what you're asked to do is enter a
computer administrator name and password.

00:30:40.569 --> 00:30:43.460
So essentially what you're doing is you're
doing a dynamic import at that point in time,

00:30:43.460 --> 00:30:49.829
saying import this into this computer for
now, and I'll demo that in a little while.

00:30:49.829 --> 00:30:51.819
And so you can log in and use your account.

00:30:51.819 --> 00:30:55.099
If you go offline, let's say go to
a home computer, it's the same deal.

00:30:55.099 --> 00:30:58.039
Basically you have to enter a local
administrator's name and password,

00:30:58.039 --> 00:31:01.680
and once you do that you can take your
account to that computer and log in.

00:31:01.680 --> 00:31:05.769
Go to grandma's computer and she'll be impressed, okay?

00:31:05.769 --> 00:31:07.720
Okay, external accounts.

00:31:08.880 --> 00:31:11.200
Okay, what is external account?

00:31:11.200 --> 00:31:13.319
Said it's a PhD on an external disk.

00:31:13.319 --> 00:31:17.659
So even if you don't go mobile with this
thing, you don't even have a mobile computer,

00:31:17.660 --> 00:31:21.350
it's still very nice because you get local
disk performance with a network account.

00:31:21.349 --> 00:31:25.169
Okay, it doesn't go over the network, network is fine.

00:31:25.170 --> 00:31:30.710
So also, if you have a PHD, this applies
to Tiger too, and you have a system image,

00:31:30.710 --> 00:31:32.650
and you do server backup, you've got that in recovery.

00:31:32.650 --> 00:31:33.670
And what does that mean?

00:31:33.670 --> 00:31:38.320
It means that an external account
is in some ways disposable,

00:31:38.319 --> 00:31:40.720
in the sense that if you lose it,
you can get your data back.

00:31:40.720 --> 00:31:43.460
So that's very nice, especially
when the thing's all on a disk.

00:31:43.460 --> 00:31:48.480
So keep the backups running, and
keep on doing synchronization.

00:31:48.480 --> 00:31:49.710
Where should this be good to use?

00:31:49.710 --> 00:31:57.000
If you have computer labs, many of you do, of course you
can go from computer to computer to computer, your students

00:31:57.000 --> 00:32:01.200
or your corporate citizens can log
in at each one with their accounts.

00:32:01.200 --> 00:32:03.029
An interesting one which I use.

00:32:03.029 --> 00:32:06.940
I actually bought with my own money an iMac for home.

00:32:06.940 --> 00:32:13.090
At work I have a Mac Pro, but what I do
is I have an external account at work,

00:32:13.089 --> 00:32:15.980
I'm using this prototype mode, and I'm living on it.

00:32:15.980 --> 00:32:19.910
And so all my, I mean all the source code
and everything else is on my external disk.

00:32:19.910 --> 00:32:24.460
I use it at work, when I want to go home I unplug
it, just go to my iMac at home and then plug it

00:32:24.460 --> 00:32:26.340
in there, and I can use it on my iMac at home.

00:32:26.339 --> 00:32:29.529
And this is great, and Apple didn't
pay for the iMac at home, I did.

00:32:29.529 --> 00:32:34.339
But my iMac at home actually has
a larger display than my portable,

00:32:34.339 --> 00:32:37.049
so actually I prefer to use that
for coding than my portable.

00:32:37.049 --> 00:32:38.329
So I really like this.

00:32:38.329 --> 00:32:43.769
And I actually like to work sometimes, you know, it's
a lot easier to take a disk back and forth than it is

00:32:43.769 --> 00:32:45.970
to take a portable back and forth to work.

00:32:45.970 --> 00:32:47.870
Okay, multi user workstations.

00:32:47.869 --> 00:32:53.929
Some of you will configure a particular machine
such that it has a video or extra stuff on it,

00:32:53.930 --> 00:32:56.190
there's an excellent way to utilize that.

00:32:56.190 --> 00:32:59.150
You can take your disk to this
machine, log in, use it, you know,

00:32:59.150 --> 00:33:02.210
you log out and then someone else can use that machine.

00:33:02.210 --> 00:33:04.829
So how are you going to manage?

00:33:04.829 --> 00:33:11.349
Well we have Leopard workgroup manager, some new features
there, and also remember that external accounts like PHDs,

00:33:11.349 --> 00:33:13.759
like mobile accounts will retain their managed settings,

00:33:13.759 --> 00:33:17.579
even when they're offline, even
when they're on another computer.

00:33:17.579 --> 00:33:21.169
Okay, time to demo.

00:33:21.170 --> 00:33:25.450
Okay, I'd like to go to the demo
slides, and this is the right one.

00:33:25.450 --> 00:33:28.390
Okay, so this is workgroup manager again.

00:33:28.390 --> 00:33:34.890
I have a user here, and I'm going to set
up this user to use an external account.

00:33:34.890 --> 00:33:39.390
So not Harry Hacker, let's go back to this overview.

00:33:39.390 --> 00:33:42.410
Accounts, let's do Stanley Student.

00:33:42.410 --> 00:33:46.759
Okay. There, for Stanley Student,
I have a nice picture for him.

00:33:46.759 --> 00:33:52.119
So I'm going to go to preferences for
Stanley Student, and go to the mobility pane.

00:33:52.119 --> 00:33:56.089
Click on mobility, click always, and I'm going

00:33:56.089 --> 00:34:00.509
to say create a mobile account whenever
this user logs in, which is what I want.

00:34:00.509 --> 00:34:06.440
There's a new checkbox here, don't show,
or rather show don't ask me again checkbox.

00:34:06.440 --> 00:34:09.079
I know some people had, this was
troublesome that this always appeared.

00:34:09.079 --> 00:34:13.340
But for this case I'm not going to require a
confirmation, so whenever this person logs in,

00:34:13.340 --> 00:34:17.690
I'm going to immediately create a
mobile account, an external account,

00:34:17.690 --> 00:34:20.809
and I'll show you how to set that up in the next pane here.

00:34:20.809 --> 00:34:23.929
So apply now, then go to options.

00:34:23.929 --> 00:34:26.769
Okay, this is new for Leopard, always.

00:34:26.769 --> 00:34:30.590
This one up here is very nice, encrypt
contents with file vault, okay.

00:34:30.590 --> 00:34:32.289
So now I can sit here and, yeah, thank you.

00:34:32.289 --> 00:34:34.059
( applause )

00:34:34.059 --> 00:34:38.570
There's two options for that, there's
actually, go through three options here.

00:34:38.570 --> 00:34:43.360
One is you can require a computer master password,
and so what I suggest is that you get master passwords

00:34:43.360 --> 00:34:46.980
on all your computers first so that when
you create a file vault account of that,

00:34:46.980 --> 00:34:49.030
you have the master password to decrypt it.

00:34:49.030 --> 00:34:53.670
But if you want it to work anyway, you can do this first
option I have up here, which is to say well, you know,

00:34:53.670 --> 00:34:57.389
even if you don't have a master
password, create file vault anyway.

00:34:57.389 --> 00:34:59.259
It's up to you how you set that up.

00:34:59.260 --> 00:35:01.690
This other one here, restrict size, okay.

00:35:01.690 --> 00:35:07.090
I'm basically creating a home inside of a disk
image, a disk image now with these settings is going

00:35:07.090 --> 00:35:09.850
to have a fixed size to two hundred and fifty megabytes.

00:35:09.849 --> 00:35:14.769
So this is very nice when I want to limit the
amount of space which is used on my server.

00:35:14.769 --> 00:35:19.849
So I can limit the users' local home size to two hundred
and fifty megabytes, and then because he's synching,

00:35:19.849 --> 00:35:23.069
he's going to be synching up to the server,
basically he's not going to use too much more

00:35:23.070 --> 00:35:24.570
than two hundred and fifty megabytes up on my server.

00:35:24.570 --> 00:35:27.539
So that's another way I can do
this without using server quotas.

00:35:27.539 --> 00:35:29.230
This is new in Leopard.

00:35:29.230 --> 00:35:31.090
Okay. Where do I want this home started?

00:35:31.090 --> 00:35:37.070
For this user you can either select on startup
volume which you had at Leopard, excuse me,

00:35:37.070 --> 00:35:41.930
in Tiger you could only create things on the
startup volume, mobile counts on the startup volume.

00:35:41.929 --> 00:35:47.500
You could choose a path, but in this case I'm going to
say user chooses, and I'm going to say external volumes.

00:35:47.500 --> 00:35:51.119
So that's going to create a external account.

00:35:51.119 --> 00:35:57.190
And so when the user logs on, if they present a disk there,
they'll be able to create a external account on that disk.

00:35:57.190 --> 00:36:02.340
I'll mention in passing now that for external
accounts, the disk must be formatted with HFS plus.

00:36:02.340 --> 00:36:07.720
So if you're going to deploy this, think about everything
has to be you know, HFS plus to be an external account.

00:36:07.719 --> 00:36:11.119
Okay, here's another one to mention in passing again.

00:36:11.119 --> 00:36:14.929
Account expiry, this is for mobile accounts, not
external accounts, but just to let you see it.

00:36:14.929 --> 00:36:22.829
You can set a checkbox such that a mobile account
will expire after a certain amount of days.

00:36:22.829 --> 00:36:28.079
I'm going to rules, rules are pretty much
the same as Tiger, this tells what you synch.

00:36:28.079 --> 00:36:33.469
Set always, there's a checkbox here at the top which allows
you to turn off synching with one checkbox like that,

00:36:33.469 --> 00:36:36.219
that would turn off synchronization
for log in and log out synch.

00:36:36.219 --> 00:36:39.289
That will turn it on.

00:36:39.289 --> 00:36:46.050
The rules here have gotten a little more fancy
in Leopard, let me see if I can zoom in on this.

00:36:46.050 --> 00:36:53.530
Okay, you see that this default rule has a star in it,
so now we support wildcards in this, in our exclusions.

00:36:53.530 --> 00:36:56.990
( applause )

00:36:56.989 --> 00:36:57.819
One other thing.

00:36:57.820 --> 00:37:03.420
There's some new match types, and
this one here is regular expressions.

00:37:03.420 --> 00:37:11.550
So if you want to use NS predicate style regular
expressions you can use them right there like that, okay.

00:37:11.550 --> 00:37:15.730
( applause )
And I'm going to revert and say always, apply now.

00:37:15.730 --> 00:37:18.800
Okay. Now let's do background synch, same thing.

00:37:18.800 --> 00:37:23.120
I'm just going to do the default thing,
synch everything in the background.

00:37:23.119 --> 00:37:25.900
Options, just one thing kind of new here.

00:37:25.900 --> 00:37:31.559
We have a checkbox which will allow you to show
the little menu extra for synching in the menu bar.

00:37:31.559 --> 00:37:35.179
And it works very reliably in Leopard so far.

00:37:35.179 --> 00:37:39.409
Okay. Now I basically have this user set up.

00:37:39.409 --> 00:37:41.460
One other thing now.

00:37:41.460 --> 00:37:44.500
We'll go to preferences, and I have mobility set up here.

00:37:44.500 --> 00:37:46.440
I'm going to look at the details.

00:37:46.440 --> 00:37:52.360
Now in the previous demo we had add at preference
manifest, and one of those was for home synch right there.

00:37:52.360 --> 00:37:56.990
So I'm going to edit now, and look at
the details of what I've set up here.

00:37:56.989 --> 00:37:59.639
It shows me all these different keys, right.

00:37:59.639 --> 00:38:03.230
One of them is when you synch, whether
you synch at log in and log out.

00:38:03.230 --> 00:38:09.309
Someone wanted, at another session wanted to be able to
change whether you synchronized both at log in and log out,

00:38:09.309 --> 00:38:13.699
or just log in, or just log out so you can change
this, one of these keys here, and that will do it.

00:38:13.699 --> 00:38:18.509
And now let me see if I can zoom in first,
and then show you all these wonderful keys.

00:38:19.780 --> 00:38:21.560
There we go.

00:38:21.559 --> 00:38:24.989
Now okay, look at all the things
you can set up here in details.

00:38:24.989 --> 00:38:28.559
Some people wanted to decide you know, they
didn't want to see synch conflicts at their site,

00:38:28.559 --> 00:38:32.079
they wanted the user to always win at certain times, they
wanted the users not to win, they didn't want the users

00:38:32.079 --> 00:38:36.989
to see errors, they wanted to set various things, there's
some timeouts you can set here for different dialogs.

00:38:36.989 --> 00:38:48.250
It's all available now in Leopard,
so go wild and have a great time.

00:38:48.250 --> 00:38:52.940
( applause )
Okay. So this user's all set up.

00:38:52.940 --> 00:38:57.119
Okay, I'm going to go to demo B here.

00:38:57.119 --> 00:39:01.599
Okay. So here we are.

00:39:01.599 --> 00:39:06.190
Now on this disk here I've set up an external account.

00:39:06.190 --> 00:39:08.019
So let's just plug it in here.

00:39:08.019 --> 00:39:12.909
And I also want to say this particular computer, I've
called it Home Sweet Home, it's not on the network,

00:39:12.909 --> 00:39:16.339
so this is kind of typical let's
say setup of a home computer.

00:39:16.340 --> 00:39:20.480
So this is the first time it's seen
this account, so I'm going to plug it in.

00:39:20.480 --> 00:39:25.730
And as the disk spins up in a moment,
we should be, there we go, yeah.

00:39:25.730 --> 00:39:30.760
So it's now prompting you to ask
if it's okay to allow this account.

00:39:30.760 --> 00:39:35.140
And I'm going, you can say you know, permanently by
checking that checkbox, but I'm going to say allow once.

00:39:35.139 --> 00:39:41.670
I have to enter the admin's name
and password, and there's the user.

00:39:41.670 --> 00:39:43.099
( applause )

00:39:43.099 --> 00:39:45.989
Now I'm going to log on.

00:39:50.650 --> 00:39:56.930
Okay. So just to say this is the full user,
it's the full setup, has the files that I left

00:39:56.929 --> 00:40:00.000
on the desktop last time, everything's pretty much the same.

00:40:00.000 --> 00:40:04.960
Here's the menu extra where you
can synchronize and do stuff.

00:40:04.960 --> 00:40:10.059
But essentially that's it, I'm going to show you that I'm
offline, but briefly going to try to do synchronization,

00:40:10.059 --> 00:40:12.989
but it's not going to be able to find
the server here, just briefly.

00:40:12.989 --> 00:40:15.439
It didn't find it so it's not going to synch.

00:40:15.440 --> 00:40:21.860
But I have one other thing here, okay let's
deny that so this is off, unplug this, okay.

00:40:21.860 --> 00:40:29.480
Another thing here actually, this is a two gigabyte
memory stick, and I'm going to plug this in right now.

00:40:32.920 --> 00:40:38.210
And just allow, actually I'm going to
do this and remember this time.

00:40:41.599 --> 00:40:44.069
So now that user's there, so now I
can log in as that user if I wish to.

00:40:44.070 --> 00:40:46.480
Now this is lots of fun to play with so I got to do it once.

00:40:46.480 --> 00:40:49.010
So you pull the plug, it's gone.

00:40:49.010 --> 00:40:49.040
( applause )

00:40:49.039 --> 00:40:55.230
Plug it in again, it's back, okay.

00:40:55.230 --> 00:40:57.010
( applause )

00:40:57.010 --> 00:40:59.250
So that's it, okay.

00:40:59.250 --> 00:41:07.190
Thank you, now we'll go back to the slides.

00:41:07.190 --> 00:41:09.530
Okay, external accounts.

00:41:09.530 --> 00:41:12.760
So hardware, and this is a big question.

00:41:12.760 --> 00:41:14.510
So what should you use for external account?

00:41:14.510 --> 00:41:16.650
Here's another wonderful small disk I have.

00:41:16.650 --> 00:41:20.910
I recommend that you use what are called portable disks.

00:41:20.909 --> 00:41:22.329
They're hard and for some abuse, you know.

00:41:22.329 --> 00:41:26.969
They can be dropped, and they're okay for
vibrations, and they're not going to die on you.

00:41:26.969 --> 00:41:30.519
A second choice would be for desktop disks.

00:41:30.519 --> 00:41:34.210
They're just as good as portable disks, but of course
you have to have to find a power supply for them,

00:41:34.210 --> 00:41:38.740
in some cases they're a lot bigger, they
don't have vibration protection perhaps.

00:41:38.739 --> 00:41:40.419
Flash based.

00:41:40.420 --> 00:41:43.590
Okay, you saw it work, it does work.

00:41:43.590 --> 00:41:46.100
And you wonder how long it's going to work.

00:41:46.099 --> 00:41:54.420
( laughter )
The problem is that all media has you know, disks they
talk about mean time to failure, and that's an average.

00:41:54.420 --> 00:41:56.750
So some fail soon, some fail later.

00:41:56.750 --> 00:42:01.320
So at some point all media, including these
disks and flash drives are going to fail,

00:42:01.320 --> 00:42:04.950
so you have to think about what you want,
what your recovery plan is going to be.

00:42:04.949 --> 00:42:09.919
And I don't have any figures on whether
flash drives will fail early or not,

00:42:09.920 --> 00:42:14.019
it's just something for you to consider in your deployments.

00:42:14.019 --> 00:42:16.889
Okay, last thing, people always ask me about iPods.

00:42:16.889 --> 00:42:25.139
Okay. First of all they have to be formatted as HFS plus,
but it's really up to you if you want to use iPods or not.

00:42:25.139 --> 00:42:29.159
You have to consider what'll happen when you
lose your data, I want to get my clicker here.

00:42:29.159 --> 00:42:32.989
When you lose your data, if you're
backing up with PHD synchronization,

00:42:32.989 --> 00:42:34.739
you've got your data backup, so you're okay.

00:42:34.739 --> 00:42:40.349
So you have think if there's anything of value on your
device that would make you feel bad if you lost it.

00:42:40.349 --> 00:42:45.000
So that's my advice about using iPods.

00:42:45.000 --> 00:42:46.920
Okay, security.

00:42:46.920 --> 00:42:51.659
So you should require a file vault,
or basically just readable by anybody.

00:42:51.659 --> 00:42:55.579
You know that on OS X if you take the
disk and plug it in, and you're admin,

00:42:55.579 --> 00:42:57.190
of course you can look at every file on here.

00:42:57.190 --> 00:43:00.769
If it's not protected by File Vault,
anybody would be able to read this when,

00:43:00.769 --> 00:43:04.259
you know, just by connecting to a machine.

00:43:04.260 --> 00:43:08.230
Okay. Command line tools, so we added some.

00:43:08.230 --> 00:43:12.460
There's a great mobile count command line tool,
it'll allow you to create a mobile account.

00:43:12.460 --> 00:43:16.820
You can have synchronization on or off, you can have
file vault on or off, and you can be at any path

00:43:16.820 --> 00:43:19.510
for your home, and that'll make an external account.

00:43:19.510 --> 00:43:24.370
So I was trying to think about how I would do deployment,
and one way to deploy things is that you might want

00:43:24.369 --> 00:43:28.489
to image disks that already are set up for a
particular user, you know, file vault and all,

00:43:28.489 --> 00:43:31.799
and then just hand off the disks like that,
and that'd be a very nice way to deploy.

00:43:31.800 --> 00:43:34.310
And you could do it with a command line tool.

00:43:34.309 --> 00:43:40.320
A second command line tool is the
home synch command line tool.

00:43:40.320 --> 00:43:44.840
And if you just say home synch, you can
find it inside of those bundles there.

00:43:44.840 --> 00:43:48.680
Home synch minus S will do a synch home now.

00:43:48.679 --> 00:43:52.839
Some people didn't like the way that we did periodic
synchronization, so if you don't want to use the way

00:43:52.840 --> 00:43:54.829
that we do it, you could just have
a little tool in the background

00:43:54.829 --> 00:43:58.230
that calls this thing whenever you want,
and we'll do a synch on demand that way.

00:43:58.230 --> 00:44:03.469
Minus, home synch minus R, actually
there's a process in Leopard,

00:44:03.469 --> 00:44:07.159
it's called file synch age, which
actually does the synchronization.

00:44:07.159 --> 00:44:12.819
We keep our preferences in another file
called com dot Apple home synch dot P list,

00:44:12.820 --> 00:44:16.620
that's in the user's library dot preferences folder.

00:44:16.619 --> 00:44:21.730
And when you do the home synch minus R, it will copy
the contents of that and basically make the API calls

00:44:21.730 --> 00:44:28.340
in the mirror agent, excuse me, not mirror agent, file
synch agent such that it picks up the new settings.

00:44:28.340 --> 00:44:34.350
Inside of that file, the home synch dot P list file,
there's a whole bunch of unmanaged synch rules,

00:44:34.349 --> 00:44:38.380
and the structure's exactly the same as
that in the home synch preference manifest.

00:44:38.380 --> 00:44:42.099
So if you don't want to use workgroup manager, but
you want to manage this with fine grained things,

00:44:42.099 --> 00:44:45.900
say I want to synch this folder, not that folder,
all that sort of stuff, you can all do it, and again,

00:44:45.900 --> 00:44:49.710
go wild with the home synch preference manifest.

00:44:51.179 --> 00:44:53.940
Okay, one other thing.

00:44:53.940 --> 00:45:01.579
Ah. Leopard has a so-called synchronization server, but
it's not really a server, it's a small process that sits

00:45:01.579 --> 00:45:04.559
on Leopard's server, and you turn it on this way.

00:45:04.559 --> 00:45:11.009
You go into server admin, into the settings, and
in the general part you'll see this checkbox.

00:45:11.010 --> 00:45:15.590
Turn that on, and this is a process, and what
it does is when the synchronization starts,

00:45:15.590 --> 00:45:22.630
the clients will talk to this process, and
basically using the spotlight, you know,

00:45:22.630 --> 00:45:25.130
data there, just basically tell us what's changed.

00:45:25.130 --> 00:45:29.670
So when you do a synch, you'll basically skip the whole
checking process, and just immediately go to copying data.

00:45:29.670 --> 00:45:33.599
So this should actually be quite
fast for doing synchronization.

00:45:33.599 --> 00:45:38.079
This is the command line way to do it,
suggest you write that down real quick.

00:45:38.079 --> 00:45:46.380
( laughter )
In I think the current version of Leopard
you also have to make a default right call

00:45:46.380 --> 00:45:50.329
at each client to turn on the file synch server.

00:45:50.329 --> 00:45:53.239
That will not be in the shipping product, in the
shipping product it will happen automatically.

00:45:53.239 --> 00:45:54.339
So thank you very much.

00:45:54.340 --> 00:45:55.010
Now let's go back to -

00:45:55.010 --> 00:45:55.720
( applause )

00:45:55.719 --> 00:46:05.029
Thank you.

00:46:05.030 --> 00:46:06.480
>> All right, thank you Bruce.

00:46:06.480 --> 00:46:10.539
Everybody's I hope looking forward to
External Accounts, this is great stuff.

00:46:10.539 --> 00:46:15.739
Extension mobility, having your
own hard drive, so go with that.

00:46:15.739 --> 00:46:15.899
( applause )

00:46:15.900 --> 00:46:19.970
So System Image Utility, system imaging.

00:46:19.969 --> 00:46:21.349
Where do you use system imaging?

00:46:21.349 --> 00:46:22.630
So switching topics.

00:46:22.630 --> 00:46:29.579
How to deploy Mac OS X Leopard on a hundred systems,
how to deploy diagnostic systems when your systems go bad,

00:46:29.579 --> 00:46:33.819
like when hard drives fail,
how to customize how Leopard is installed.

00:46:33.820 --> 00:46:39.720
You'd want to add iWork, you'd want to add
iLife, or Microsoft Adobe applications.

00:46:39.719 --> 00:46:46.559
And how to restrict what systems can boot
from whatever system image, or NetBoot image.

00:46:46.559 --> 00:46:50.139
So two tools, system image utility, server admin.

00:46:50.139 --> 00:46:54.879
And what's new for Mac OS X Leopard with system imaging.

00:46:54.880 --> 00:46:58.309
So system image utility's totally revamped.

00:46:58.309 --> 00:47:03.480
So we effectively threw out the
old code, started from scratch.

00:47:03.480 --> 00:47:03.719
And -

00:47:03.719 --> 00:47:05.569
( applause )

00:47:05.570 --> 00:47:08.530
You guys loved 10.4, come on.

00:47:08.530 --> 00:47:15.460
So system utilities now in two modes, one is the
assistant mode, and one is the advanced mode.

00:47:15.460 --> 00:47:19.720
So in the assistant mode it's really easy
to create images, in the advanced mode,

00:47:19.719 --> 00:47:23.679
using advanced mode, using automated workflows, go crazy.

00:47:23.679 --> 00:47:28.039
This is the system admins want to tweak every
little setting that they have access to.

00:47:28.039 --> 00:47:32.849
So we have lots of actions you can tailor,
we have support for this partitioning.

00:47:32.849 --> 00:47:38.929
So if you want to deploy let's say systems that would
have a boot partition, this is the way to go.

00:47:38.929 --> 00:47:43.989
Command line image creation, repeating
workflows from automated command line tool.

00:47:43.989 --> 00:47:48.779
And then on the deployment side, server
admin now can tell what clients have,

00:47:48.780 --> 00:47:51.950
are installing, and how far their installs are going.

00:47:51.949 --> 00:47:56.149
So instead of seeing like you have fifteen clients
are connected, you can tell seven clients are

00:47:56.150 --> 00:48:00.000
about seven percent done installing
the latest Mac OS X Leopard release.

00:48:00.000 --> 00:48:00.469
So -

00:48:00.469 --> 00:48:02.319
( applause )

00:48:02.320 --> 00:48:08.400
Yay. And image assistant, so what is this like?

00:48:08.400 --> 00:48:12.050
So this is basically one two image
creation, there is no step three.

00:48:12.050 --> 00:48:19.060
You launch system image utility, it's still called
system image utility, and you have some sources selected.

00:48:19.059 --> 00:48:25.730
So you have valued volumes either install
DVDs, or Mac OS X 10.5 volumes.

00:48:25.730 --> 00:48:33.090
So if you select any of these images, the default
settings are for DVD we create a net install image,

00:48:33.090 --> 00:48:37.120
for a bootable drive we create a net boot image.

00:48:37.119 --> 00:48:38.539
That's step one.

00:48:38.539 --> 00:48:43.909
You click on continue, and then in this
case we are creating a net boot from DVD,

00:48:43.909 --> 00:48:47.799
you plug in the administrative
settings, admin name, password.

00:48:47.800 --> 00:48:54.030
You click create, there is no step three,
after this your image is ready to be deployed.

00:48:54.030 --> 00:48:57.560
So that should make the basic image creation,

00:48:57.559 --> 00:49:02.929
like without any customizations very straight
forward and accessible to many admins.

00:49:02.929 --> 00:49:05.469
So that's image assistant.

00:49:05.469 --> 00:49:07.629
But then there's the workflow.

00:49:07.630 --> 00:49:12.059
So now that the system image utility
is implemented using Automator actions,

00:49:12.059 --> 00:49:15.190
you have access to each individual element.

00:49:15.190 --> 00:49:18.829
So in 10.4, you had different
panels for different settings.

00:49:18.829 --> 00:49:23.849
Well you didn't really know like what to
use where, and how they apply, and yeah.

00:49:23.849 --> 00:49:28.650
Now you can actually take the pieces that
you want, and set just those settings.

00:49:28.650 --> 00:49:35.119
So you can apply just those pieces into the image,
like creating an admin account for a net boot system,

00:49:35.119 --> 00:49:38.449
or doing package selection on a package based install,

00:49:38.449 --> 00:49:42.899
or customized packages for a net
boot or net install image creation.

00:49:42.900 --> 00:49:47.470
And these workflows you can then use,
either from system image utility,

00:49:47.469 --> 00:49:51.109
you can use them from Automator,
you can create them in Automator.

00:49:51.110 --> 00:49:53.070
And you can use them from command line.

00:49:53.070 --> 00:49:57.480
So you can have a chron job that creates
like the daily build of your current Leopard,

00:49:57.480 --> 00:50:00.929
like you get daily discs in Leopard,
and Microsoft releases and what not.

00:50:00.929 --> 00:50:02.339
And you'll have up to date information.

00:50:02.340 --> 00:50:09.750
So where this matters is like you get a new set of systems,
like two months we release the thirty two core Mac Pro,

00:50:09.750 --> 00:50:12.099
and it comes with disks that you don't have yet.

00:50:12.099 --> 00:50:15.210
So the current Mac OS X disks don't boot that system.

00:50:15.210 --> 00:50:21.280
Well to get you a net install or net boot systems
that there are customized to your environment,

00:50:21.280 --> 00:50:26.330
all you have to do is re-execute the workflow
against these new DVDs that you just received as part

00:50:26.329 --> 00:50:30.920
of the hardware bundle, and voila,
you have a new net boot image,

00:50:30.920 --> 00:50:34.200
you have a new net install specifically
tailored to that system.

00:50:34.199 --> 00:50:36.460
So that should be very useful.

00:50:36.460 --> 00:50:36.889
And -

00:50:36.889 --> 00:50:38.679
( applause )

00:50:38.679 --> 00:50:40.529
Yeah, please.

00:50:41.769 --> 00:50:46.989
And because it's an automated workflow,
you can integrate with other actions.

00:50:46.989 --> 00:50:52.219
So if you went to the previous system imaging session on
Wednesday, Mike showed you how

00:50:52.219 --> 00:50:57.089
to do some of the custom image
actions, or image customization actions.

00:50:57.090 --> 00:51:01.039
There are some stock Apple ones you
could find useful like burn to disk.

00:51:01.039 --> 00:51:07.400
If you've created a let's say net install, net boot,
net install system image, you could burn that to disk,

00:51:07.400 --> 00:51:10.660
and maybe even boot from that and install.

00:51:10.659 --> 00:51:13.779
And from Automator.

00:51:13.780 --> 00:51:21.610
So here's a way to execute the same workflows over and
over again, yet because we're using Automator variables,

00:51:21.610 --> 00:51:24.220
you can tailor some of the elements in the image.

00:51:24.219 --> 00:51:30.069
It's not always going to be called my system
image, it can be called my system image of today,

00:51:30.070 --> 00:51:34.300
or my system image for something, by
just changing Automator variables.

00:51:34.300 --> 00:51:41.240
So you can customize the image ID, anything that you
can have, anywhere you can insert a Automator variable,

00:51:41.239 --> 00:51:43.689
in the source pad, in the destination pad.

00:51:43.690 --> 00:51:46.639
You can replace those values from the command line.

00:51:46.639 --> 00:51:50.339
So without further ado, oh we do
image deployment.

00:51:50.340 --> 00:51:52.140
Okay, there's a demo coming up

00:51:52.139 --> 00:51:53.969
Image Deployment.

00:51:53.969 --> 00:51:58.379
So as I mentioned, we have improved
status reporting so you can now see

00:51:58.380 --> 00:52:03.710
from server admin what the installation
progress is on, of the clients.

00:52:03.710 --> 00:52:06.110
And per image client filtering.

00:52:06.110 --> 00:52:11.450
This is significant because now you can actually say
that I'm, I only have access to one net boot server,

00:52:11.449 --> 00:52:16.009
yet I'd want to do my prototyping
and my production on the same server.

00:52:16.010 --> 00:52:21.360
So I don't really want to co-mingle those, just
because like if somebody by accident boots into my,

00:52:21.360 --> 00:52:25.420
erase my hard drive image, I'll probably
get support calls, that's not good.

00:52:25.420 --> 00:52:28.930
So what I'll do is I'll filter that
one image on the production server

00:52:28.929 --> 00:52:32.759
and say it's only my test machines
that will get to see these images.

00:52:32.760 --> 00:52:36.620
So you can now have very fine grain
control over which systems get to see

00:52:36.619 --> 00:52:39.210
which net boot images from a single server.

00:52:39.210 --> 00:52:45.929
So in previous, in Mac OS X Tiger and previous,
this image filtering option was a global setting.

00:52:45.929 --> 00:52:52.210
So you couldn't do it image by image,
but with Mac OS X Leopard sure you can.

00:52:52.210 --> 00:52:53.369
And boot PD.

00:52:53.369 --> 00:52:56.150
Now we have access to boot PD relay.

00:52:56.150 --> 00:53:05.940
So if your IT staff is reluctant deploying let's say
DHCP helpers, or somehow has some animosity towards

00:53:05.940 --> 00:53:14.670
like port nine sixty nine, sixty seven, sixty eight, there
you can actually have boot PD act as a DHCP relay agent.

00:53:14.670 --> 00:53:20.420
So you set up one boot PD server on your
network, and even without DHCP helper apps,

00:53:20.420 --> 00:53:25.869
you can now point the boot PD relay to
another net boot server on a distant network

00:53:25.869 --> 00:53:36.839
that wouldn't regularly see the DHCP request from the
clients, and you can boot your net boot clients from that.

00:53:36.840 --> 00:53:36.980
And -

00:53:36.980 --> 00:53:37.079
( applause )

00:53:37.079 --> 00:53:38.420
And read only volume support.

00:53:38.420 --> 00:53:43.039
So previously you couldn't serve let's say from a CD-ROM,

00:53:43.039 --> 00:53:45.099
well that doesn't really make sense,
but Xsan.

00:53:45.099 --> 00:53:52.900
If you had Xsan read only clients, you wouldn't be able
to, without going through some interesting mechanisms,

00:53:52.900 --> 00:53:57.410
you couldn't really serve those
images readily from Mac OS X server.

00:53:57.409 --> 00:54:03.069
Now we can actually have a single Xsan volume,
and share that amongst five different servers,

00:54:03.070 --> 00:54:08.700
and only one of them would be the master
toggle server that enables disables the images.

00:54:08.699 --> 00:54:14.039
And all four, the rest four of them would be
just reading all the copies of that image form.

00:54:14.039 --> 00:54:21.559
So it can do a form of load balancing using Xsan and read
only images, without having to worry that if some admin goes

00:54:21.559 --> 00:54:25.110
to one machine and disables images,
then how will that affect the others.

00:54:25.110 --> 00:54:29.390
It's just one image form, and deployed by Xsan

00:54:29.389 --> 00:54:31.879
And now we go to demos.

00:54:31.880 --> 00:54:37.510
So let me bring Brian Nesse to the stage
and he'll show you how this system images now looks.

00:54:37.510 --> 00:54:43.840
( applause )

00:54:43.840 --> 00:54:49.150
>> Yeah, that one, yes, okay.

00:54:49.150 --> 00:54:49.730
All right.

00:54:49.730 --> 00:54:55.889
So as you've seen, this is workgroup
manager, we are not going to demo that.

00:54:57.159 --> 00:55:06.299
Okay. So system image utility, as you've seen
in the slide, this is basically where you start.

00:55:06.300 --> 00:55:10.830
Instead of doing continue however,
we are going to click customize.

00:55:10.829 --> 00:55:15.119
And if any of you were in the Automator
session yesterday evening

00:55:15.119 --> 00:55:21.150
at five o'clock I think it was, this is an am workflow view.

00:55:21.150 --> 00:55:27.619
We have taken an embedded Automator
in our application, and here you go.

00:55:27.619 --> 00:55:32.109
So we have, we start out by putting this
define image source in here for you,

00:55:32.110 --> 00:55:35.820
cause that's a first step that you have to start somewhere.

00:55:35.820 --> 00:55:45.940
And then we're going to take and we're
going to customize our source a little bit.

00:55:45.940 --> 00:55:52.300
Just going to scan the disk quickly and figure out
what's there to install, and bring up this thing.

00:55:52.300 --> 00:55:55.670
And we're just going to turn some stuff
off here, we don't like printers.

00:55:55.670 --> 00:55:55.930
( applause )

00:55:55.929 --> 00:55:56.960
going to make them go away.

00:55:56.960 --> 00:55:58.760
( applause )

00:55:58.760 --> 00:56:03.820
And then we're going to do one
of these very dangerous things,

00:56:03.820 --> 00:56:10.559
and we're going to enable automated
installation, erasing my hard disk.

00:56:10.559 --> 00:56:11.710
( laughter )

00:56:11.710 --> 00:56:14.510
going to call him Mac.

00:56:14.510 --> 00:56:21.720
And then now that we've defined our
hard disk, now we need to set it up.

00:56:21.719 --> 00:56:24.109
So we're going to do this.

00:56:24.110 --> 00:56:27.130
( applause )

00:56:27.130 --> 00:56:32.530
You've seen system, or if you've seen the
disk utility this will look quite familiar.

00:56:32.530 --> 00:56:45.680
going to give him a percentage of the available disk
space, we're going to define this guy, going to call him PC.

00:56:45.679 --> 00:56:49.369
And then we're going to make him an MS-DOS file system.

00:56:49.369 --> 00:56:56.319
Now you can see right here we're trying to be a little
helpful, we're trying to tell you that this will not work

00:56:56.320 --> 00:57:02.880
on a Power PC based Macintosh, because
this requires a GUID partition table,

00:57:02.880 --> 00:57:06.530
so you will not be able to boot this on your G5.

00:57:06.530 --> 00:57:11.380
Let's see, was I going to do anything else?

00:57:11.380 --> 00:57:22.170
Oh yes, I had a server package that I wanted to install
here, so I'm going to put this in here, and I'm going to go out

00:57:22.170 --> 00:57:33.289
and find it on my hard drive here, drag him in, and that
will cause the server package to get installed after laying

00:57:33.289 --> 00:57:36.960
down all this stuff that we defined up here.

00:57:36.960 --> 00:57:47.780
And then you simply say I'm ready to create, drop that
in there, and we will attempt, if you're actually running

00:57:47.780 --> 00:57:51.850
on your server machine, we will attempt
to go find your net boot folders,

00:57:51.849 --> 00:57:54.769
assuming that's probably where you want to save them.

00:57:54.769 --> 00:57:58.599
Otherwise you can put it wherever you like.

00:57:58.599 --> 00:58:08.829
Simply give it a name, and that's the name for, that's
where it's going to, that's what it's going to be called

00:58:08.829 --> 00:58:21.420
on the drive, and then this is your name that you're
going to see in the net boot server, on the net boot server.

00:58:21.420 --> 00:58:27.430
And then you can add, oops, hey we don't use e's here.

00:58:27.429 --> 00:58:34.889
And you can add an additional description if you want more
data, and then an image index, which if you've ever done one

00:58:34.889 --> 00:58:37.549
of these, you know what that's all about.

00:58:37.550 --> 00:58:45.019
You can then save this for future use, and
oddly enough there's one there already.

00:58:45.019 --> 00:58:52.449
We'll replace it, and you'll see it
appears over here in your workflow list,

00:58:52.449 --> 00:58:56.939
so you can bring it back at a later point.

00:58:56.940 --> 00:59:01.300
All right, now we're going to leave
this, close this guy out.

00:59:01.300 --> 00:59:05.810
Okay, here's one that I created earlier, and I'm just going to
double click on it, and you'll see that it actually brings

00:59:05.809 --> 00:59:09.380
up Automator, because it is indeed an Automator workflow.

00:59:09.380 --> 00:59:18.059
And this one is a little different in that
you'll see down here in the creation action,

00:59:18.059 --> 00:59:23.110
I have actually used variables instead of typing in text.

00:59:23.110 --> 00:59:29.450
So I've got an image name, and then I'm going
to modify that image name for the volume name

00:59:29.449 --> 00:59:31.539
that you see displayed, and for the description.

00:59:31.539 --> 00:59:36.909
And then hiding down here where you can't quite
see it, there's an image index that I can assign

00:59:36.909 --> 00:59:40.239
that automatically from the command line as well.

00:59:40.239 --> 00:59:46.000
Now I don't really need this visible,
so we'll put that away.

00:59:46.000 --> 00:59:51.840
And going to widen this up a little
bit so that it doesn't wrap.

00:59:53.690 --> 00:59:59.019
Get my handy little cheat sheet
here cause I don't know how to type.

00:59:59.019 --> 01:00:06.650
So what this is going to do, and you saw this in the slide
as well, we're calling the Automator command line tool,

01:00:06.650 --> 01:00:12.970
giving it my image name, and my image index,
and then just telling it to execute this one

01:00:12.969 --> 01:00:15.889
that I've conveniently placed on the desktop here.

01:00:15.889 --> 01:00:22.449
Now when I run this, you'll see step three
by the way, this is actually step three.

01:00:22.449 --> 01:00:29.869
You have to authenticate, and what you see up
here is, up in the menu bar here you'll see

01:00:29.869 --> 01:00:33.969
that Automator is telling you that it's doing something.

01:00:33.969 --> 01:00:40.379
And you'll see here we've got some logging going on
right now, and you'll see that the text that I put

01:00:40.380 --> 01:00:46.559
in has been appropriately dropped into all the
appropriate places, so it's in the image description,

01:00:46.559 --> 01:00:55.529
it's here in my image name, and it's attached
to here where it's being written out.

01:00:55.530 --> 01:00:58.920
And then my image index, which I also assigned.

01:00:58.920 --> 01:01:00.010
And that's the demo.

01:01:00.010 --> 01:01:00.870
( applause )

01:01:00.869 --> 01:01:09.289
Back to you Steve.

01:01:09.289 --> 01:01:10.750
>> Well thank you Brian.

01:01:10.750 --> 01:01:11.840
Did you like?

01:01:11.840 --> 01:01:12.650
( applause )

01:01:12.650 --> 01:01:18.710
Yes. So that's System Image Utility,
and that's pretty much our session.

01:01:18.710 --> 01:01:22.000
If I can have the slides please.

01:01:22.000 --> 01:01:24.019
So, here we go.

01:01:24.019 --> 01:01:29.190
So, to cap it up, if you have any
feedback regarding any of the technologies,

01:01:29.190 --> 01:01:32.240
please send it to Mac OS X server at Apple dot com.

01:01:32.239 --> 01:01:35.609
Skip Levens is our technology evangelist
for Mac OS X server.

01:01:35.610 --> 01:01:39.430
The developer side test documentation, sample code,

01:01:39.429 --> 01:01:43.719
we'll post some configuration
information there as well at a later date.

01:01:43.719 --> 01:01:48.259
And for other sessions, hmm, let's see.

01:01:48.260 --> 01:01:55.030
Oops. So right after this there's a building image,
building system images for logical deployment,

01:01:55.030 --> 01:01:58.360
so that's about customization and customizing images.

01:01:58.360 --> 01:02:01.519
We also have a system imaging lab,
and the engineering team will be

01:02:01.519 --> 01:02:05.340
at the system imaging lab right after this, at the IT lab.

01:02:05.340 --> 01:02:10.070
And then we have understanding managed deployment,
which is still at this room, at five o'clock.

01:02:10.070 --> 01:02:15.289
So if you want to see how some other third
party tools, like Casper and what not,

01:02:15.289 --> 01:02:18.730
and doing some secure deployments
are used, come to that session.