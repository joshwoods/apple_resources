WEBVTT

00:00:08.660 --> 00:00:09.810
Good morning.

00:00:09.900 --> 00:00:11.250
Welcome.

00:00:11.350 --> 00:00:14.630
We're very excited to be here this
morning and welcome to our session 313,

00:00:14.630 --> 00:00:15.820
Introducing Dashcode.

00:00:15.860 --> 00:00:19.100
We have got a great hands-on
session for you today.

00:00:19.100 --> 00:00:21.160
We hope that you've all
got the sample code,

00:00:21.160 --> 00:00:22.440
the listing up there.

00:00:22.650 --> 00:00:24.950
Have that with you so you can
follow through and you're going

00:00:24.950 --> 00:00:26.320
to learn a lot about Dashcode.

00:00:26.480 --> 00:00:27.620
I'm Tim Bumgarner.

00:00:27.620 --> 00:00:31.800
I'm a senior software engineer at
Apple and a member of the Dashcode team.

00:00:31.800 --> 00:00:34.400
Let's look and see what we're
going to be doing today.

00:00:34.400 --> 00:00:36.230
So here's our agenda here this morning.

00:00:36.240 --> 00:00:40.440
We're going to take a minute and
talk about why we built Dashcode.

00:00:40.440 --> 00:00:43.060
Why did we go ahead and create this
application for building widgets?

00:00:43.060 --> 00:00:47.380
Then we're going to spend the bulk of our
time this morning on a hands-on session.

00:00:47.380 --> 00:00:51.220
We're going to be creating a
countdown widget from start to finish.

00:00:51.220 --> 00:00:54.980
And part of that process is
we're going to design the widget.

00:00:54.980 --> 00:00:58.930
We're going to take a template,
start with that, adjust the look and feel

00:00:58.930 --> 00:01:00.140
of it to make it our own.

00:01:00.140 --> 00:01:02.630
And then we're going to add
additional functionality that

00:01:02.630 --> 00:01:04.220
doesn't come with the template.

00:01:04.220 --> 00:01:05.750
We'll do that using some JavaScript.

00:01:05.820 --> 00:01:07.760
So, and of course,
whenever you start writing code,

00:01:07.760 --> 00:01:09.610
you're probably going to
have to debug that code.

00:01:09.610 --> 00:01:12.220
So we're going to walk through a
little process of the debugging.

00:01:12.220 --> 00:01:14.900
So make sure you have the sample code.

00:01:14.900 --> 00:01:17.490
Now, there are two ways to
do a hands-on session.

00:01:17.490 --> 00:01:20.270
If you've got the sample code,
you can follow along.

00:01:20.270 --> 00:01:21.540
We do have milestones.

00:01:21.540 --> 00:01:24.800
So if you get behind, you can always,
we'll clue you in on when to

00:01:24.800 --> 00:01:26.380
start with the next milestone.

00:01:26.440 --> 00:01:32.030
Or you can just sit here and
watch up on the screen and

00:01:32.060 --> 00:01:56.420
follow along that way as well.

00:01:56.420 --> 00:01:56.420
Then we're also, at the end,
we're going to show you that we

00:01:56.420 --> 00:01:56.420
can open up existing widgets.

00:01:56.420 --> 00:01:56.420
And we're hopeful we'll have some Q&A,
but not terribly hopeful.

00:01:56.420 --> 00:01:56.420
So hopefully we don't run too long.

00:01:56.420 --> 00:01:56.420
So why Dashcode?

00:01:56.420 --> 00:01:56.420
So why did we build this?

00:01:56.420 --> 00:01:56.420
Now, if you look at this set of steps,
this workflow, this is how you've had to

00:01:56.420 --> 00:01:56.420
create widgets thus far.

00:01:56.420 --> 00:01:56.420
You had to, the images that you
needed for your widget,

00:01:56.420 --> 00:01:56.420
the front and the back,
you had to create those yourselves

00:01:56.420 --> 00:01:56.420
using something like Photoshop or
a graphics editor of your choice.

00:01:56.420 --> 00:01:59.850
Well, I don't know about you,
but Photoshop's not one of my skills.

00:01:59.890 --> 00:02:02.060
And so the back is extremely challenging.

00:02:02.060 --> 00:02:26.400
It has some textures.

00:02:26.400 --> 00:02:26.400
But once you've got your images together,
then you needed to use the

00:02:26.400 --> 00:02:26.400
HTML and CSS to provide the
structure for your widget,

00:02:26.400 --> 00:02:26.400
defining all of your elements.

00:02:26.400 --> 00:02:26.400
And you would use your favorite
text editor to do that as well.

00:02:26.400 --> 00:02:26.400
And then to add
functionality to your widget,

00:02:26.400 --> 00:02:26.400
you needed to use some JavaScript code,
and you had to write that.

00:02:26.400 --> 00:02:26.400
And then the fun begins.

00:02:26.400 --> 00:02:26.400
And then it's the process of bundling
it up into a bundle in the Finder,

00:02:26.400 --> 00:02:26.400
double-clicking it,
and then you have to write it down.

00:02:26.400 --> 00:02:29.100
running it in dashboard and
see that it doesn't work,

00:02:29.100 --> 00:02:31.500
go back, edit the stuff,
and go through that whole process.

00:02:31.500 --> 00:02:33.160
And it's not very efficient,
it's not very good.

00:02:33.160 --> 00:02:35.500
And you don't even have
any debugging facilities.

00:02:35.630 --> 00:02:39.060
So let's see what DashCode
brings to the table for us.

00:02:40.180 --> 00:02:41.270
The images are created for you.

00:02:41.440 --> 00:02:44.140
So we actually create the front,
the back.

00:02:44.140 --> 00:02:46.150
You can customize those images.

00:02:46.280 --> 00:02:49.640
All of the buttons and parts that
we have come with our own images

00:02:49.640 --> 00:02:51.300
and you can customize those as well.

00:02:51.400 --> 00:02:53.740
So for by and large,
you don't have to create those images.

00:02:53.770 --> 00:02:54.760
We do a good job for you.

00:02:54.960 --> 00:02:57.890
You still can use your custom images,
however.

00:02:59.470 --> 00:03:01.820
Now we auto-generate the
HTML and CSS for you.

00:03:01.860 --> 00:03:03.830
So as you drag in parts,
you're moving elements

00:03:03.840 --> 00:03:06.360
around in the Canvas,
we're constantly writing

00:03:06.370 --> 00:03:10.000
those changes out to the HTML,
the CSS, and the JavaScript.

00:03:10.130 --> 00:03:12.570
And we start out with
some very nice templates.

00:03:12.720 --> 00:03:14.990
They come with lots of JavaScript code
written for you already,

00:03:14.990 --> 00:03:18.340
so that reduces the amount of
code that you have to write.

00:03:19.120 --> 00:03:22.260
Instead of just testing in Dashboard,
you actually get to run it

00:03:22.260 --> 00:03:23.630
inside of Dashcode itself.

00:03:23.760 --> 00:03:26.000
You can use the debugger
to its full extent.

00:03:26.210 --> 00:03:29.000
That eliminates, in essence,
this whole package.

00:03:29.000 --> 00:03:31.000
You don't need to package it up,
run it from the Finder,

00:03:31.000 --> 00:03:32.000
run it in Dashboard.

00:03:32.000 --> 00:03:34.000
It's all just taken care of for you.

00:03:34.000 --> 00:03:37.600
You can also deploy your widget
when you're ready to give that

00:03:37.600 --> 00:03:39.860
widget out for your own purposes.

00:03:41.370 --> 00:03:43.140
So there's some additional
things we bring to the table.

00:03:43.140 --> 00:03:44.290
We have project-wide search.

00:03:44.330 --> 00:03:46.260
So we have a spotlight
view built into Dashcode.

00:03:46.270 --> 00:03:50.700
So it's very easy to find the variables
and things that you're looking for.

00:03:51.400 --> 00:03:52.760
We also have parts.

00:03:52.780 --> 00:03:53.920
We have a whole library of parts.

00:03:53.960 --> 00:03:57.300
We have sliders, buttons, gauges,
indicators,

00:03:57.300 --> 00:04:00.600
lots of different things that we've
built to make your widgets much

00:04:00.650 --> 00:04:03.610
more beautiful and functional.

00:04:03.740 --> 00:04:06.960
We also have built most of those
parts on top of the Apple Classes.

00:04:06.960 --> 00:04:10.540
So if you've seen the session yesterday,
Christian talked about Apple Classes.

00:04:10.640 --> 00:04:12.260
We just built right on top of it.

00:04:12.270 --> 00:04:14.510
You don't even need
to know how they work.

00:04:14.510 --> 00:04:15.870
You just drag them in.

00:04:17.290 --> 00:04:18.360
and we have workflow steps.

00:04:18.360 --> 00:04:20.880
There's a little view in the bottom
left-hand corner of Dashcode that

00:04:20.930 --> 00:04:24.780
actually walks you through the process of
what's necessary to create your widget.

00:04:24.790 --> 00:04:27.400
And we'll finish up here
with widget opening,

00:04:27.450 --> 00:04:28.860
opening up an existing widget.

00:04:28.860 --> 00:04:31.250
And we'll have a demo at
the end for that as well.

00:04:31.410 --> 00:04:35.000
So would you rather use the
old broken or new hotness?

00:04:35.040 --> 00:04:37.610
Yeah, so that's the question.

00:04:39.100 --> 00:04:41.890
Now, what I'd like to do is
bring up and invite Max.

00:04:41.900 --> 00:04:43.500
It's in the spec, Drukman.

00:04:43.710 --> 00:04:45.490
I don't know how many times
he's told me it's in the spec,

00:04:45.500 --> 00:04:48.980
so he's our UI designer on the project.

00:04:48.980 --> 00:04:51.910
And he's going to give us a quick
tour of Dashcode to give you a feel.

00:04:52.010 --> 00:04:52.670
Max, take it away.

00:04:52.680 --> 00:04:53.490
Thank you, Tim.

00:04:53.490 --> 00:04:54.860
Good morning, everybody.

00:04:54.860 --> 00:05:00.750
This is a hands-on session, but for now,
we're going to start hands-off while

00:05:00.750 --> 00:05:03.810
I take you on a tour of Dashcode so
we're all familiar with it when we

00:05:03.810 --> 00:05:05.420
start building our widget together.

00:05:07.330 --> 00:05:10.240
So, sit back, relax,
watch me do some work,

00:05:10.310 --> 00:05:13.050
let your coffee kick in a little bit,
and I'm going to show

00:05:13.050 --> 00:05:14.200
you around Dashcode.

00:05:14.200 --> 00:05:16.620
Now, the first thing you'll notice
when Dashcode launches is

00:05:16.620 --> 00:05:18.080
that it's template driven.

00:05:18.200 --> 00:05:21.730
As Tim mentioned,
the templates give you a lot of

00:05:21.730 --> 00:05:24.200
power and really get your projects
up and running very quickly.

00:05:24.200 --> 00:05:26.200
I'm going to dive right in here.

00:05:26.200 --> 00:05:28.680
You're going to want to check these out,
but we're going to start

00:05:28.680 --> 00:05:30.200
with the Podcast Widget.

00:05:30.200 --> 00:05:34.650
And let's have a look at what
the Podcast Widget does for us.

00:05:35.460 --> 00:05:40.160
This template creates a widget that
displays and plays a podcast episode.

00:05:40.210 --> 00:05:43.120
Well,
it doesn't get a lot simpler than that.

00:05:43.120 --> 00:05:44.230
Let's check it out.

00:05:44.280 --> 00:05:48.220
I'm going to click the choose button,
and Dashcode is going to create a new,

00:05:48.220 --> 00:05:51.840
untitled widget project based
on that template for me.

00:05:51.840 --> 00:05:55.390
Now I'm going to show you around
the Dashcode interface a little bit,

00:05:55.390 --> 00:05:58.720
and then take you through some workflow.

00:05:58.720 --> 00:06:03.240
So front and center, right here,
we have the Canvas.

00:06:03.240 --> 00:06:07.420
Now the Canvas is Dashcode's
interactive visual editor,

00:06:07.560 --> 00:06:11.680
where I can do things like
change the size of my widget,

00:06:11.990 --> 00:06:15.500
Select elements in my widget,
move them around with

00:06:15.500 --> 00:06:19.050
guidelines to help me,
and directly edit

00:06:19.160 --> 00:06:22.010
elements like this text.

00:06:25.800 --> 00:06:27.500
Yay.

00:06:27.500 --> 00:06:31.080
Directly to the left of the
canvas is the Navigator.

00:06:31.080 --> 00:06:36.070
The Navigator gives me a structural
view of my widget and lets me select

00:06:36.150 --> 00:06:39.170
elements on both the front and the back.

00:06:40.210 --> 00:06:43.900
Moving on down in the Navigator,
we have the Attributes view.

00:06:43.920 --> 00:06:46.860
Now the Attributes view is
where you manage all of the meta

00:06:46.860 --> 00:06:50.300
information about your widget,
such as its identity,

00:06:50.430 --> 00:06:53.720
its access and extensions, properties,
localization.

00:06:54.020 --> 00:06:56.380
We'll get back to this
in just a few minutes.

00:06:56.390 --> 00:07:01.740
Now Dashcode also gives you
access to previewing and editing

00:07:01.780 --> 00:07:05.740
important images in your widget,
such as the default image,

00:07:05.880 --> 00:07:10.880
which is the image that splashes in
Dashboard while your widget is loading,

00:07:10.880 --> 00:07:14.210
and the widget icon,
which is the iconic representation of

00:07:14.400 --> 00:07:17.760
your widget in the Dashboard widget bar.

00:07:18.470 --> 00:07:19.600
So that's the Navigator.

00:07:19.600 --> 00:07:23.160
Now directly below that is
the Workflow Steps view.

00:07:23.160 --> 00:07:27.920
As Tim mentioned, this is a built-in help
system that's template-based,

00:07:27.920 --> 00:07:30.380
so the help is different
with each template.

00:07:30.590 --> 00:07:35.840
And it walks you through the
process of taking your project from

00:07:35.840 --> 00:07:39.320
basic template to finished product.

00:07:39.480 --> 00:07:41.160
The steps are really handy.

00:07:41.160 --> 00:07:45.460
They really help you along the way,
show you what's going on.

00:07:45.460 --> 00:07:49.070
They help keep you on track in the
process and even show you around

00:07:49.070 --> 00:07:52.950
the interface to tell you where to
set certain important properties.

00:07:52.990 --> 00:07:58.220
In fact, I'm going to use the steps to
build a widget while I show

00:07:58.220 --> 00:08:00.900
you the Dashcode workflow.

00:08:00.900 --> 00:08:02.840
So let's have a quick look here.

00:08:02.840 --> 00:08:06.430
We can see that there are
five steps in this template.

00:08:06.700 --> 00:08:08.680
Two are marked as required.

00:08:08.680 --> 00:08:12.220
I'm just going to do the required
steps today to keep it quick.

00:08:12.220 --> 00:08:15.480
Let's see what the steps want us to do.

00:08:15.480 --> 00:08:19.500
So step one,
set the source podcast for your widget.

00:08:19.500 --> 00:08:20.400
Seems simple enough.

00:08:20.400 --> 00:08:23.120
Looks like I've got to
set a podcast property.

00:08:23.180 --> 00:08:27.600
Well, I want to know where to do that and
I'm going to let the step tell me.

00:08:27.650 --> 00:08:31.620
If you'll notice, there's a little button
next to the label.

00:08:31.620 --> 00:08:33.140
That's called the go-to button.

00:08:33.200 --> 00:08:36.130
And whenever you see that in Dashcode,
you can click it and it will

00:08:36.130 --> 00:08:38.920
take you to the place in the
interface that it's referring to.

00:08:38.920 --> 00:08:44.610
I'm going to click on it and it's going
to take me back to the attributes view.

00:08:44.960 --> 00:08:48.650
And not only that,
it actually focused in on the field

00:08:48.650 --> 00:08:51.140
that I need to enter the data in.

00:08:51.220 --> 00:08:54.080
And that's the podcast URL.

00:08:54.080 --> 00:08:57.510
So it just so happens
I have a podcast right here.

00:08:57.520 --> 00:08:58.980
And how do I set it?

00:08:58.980 --> 00:08:59.980
It's pretty simple.

00:08:59.980 --> 00:09:03.040
I'm going to drag it out of
Safari and drop it in there.

00:09:03.040 --> 00:09:06.370
So I've now just set the feed.

00:09:06.690 --> 00:09:09.710
So basically,
I'm done with one of my steps.

00:09:09.820 --> 00:09:12.150
I'm going to mark it
as done and close it.

00:09:12.320 --> 00:09:16.720
I'm essentially halfway through
the required steps of turning

00:09:17.140 --> 00:09:20.240
this template into my widget.

00:09:20.240 --> 00:09:22.530
Let's see what the next step is.

00:09:23.320 --> 00:09:27.560
It's provide an identifier and
version number for your widget.

00:09:27.580 --> 00:09:31.480
This is very important because it's
the thing that uniquely identifies

00:09:31.570 --> 00:09:33.200
your widget as being yours.

00:09:33.310 --> 00:09:34.380
Let's see where we set that.

00:09:34.410 --> 00:09:36.640
I'm going to click the
Go To button again.

00:09:36.660 --> 00:09:39.540
And you can see that we
stayed in the attributes view,

00:09:39.570 --> 00:09:42.170
but now we're focused
on a different field,

00:09:42.170 --> 00:09:45.400
and that is the widget identifier field.

00:09:46.060 --> 00:09:49.750
So I'm going to enter a unique
identifier for my widget.

00:09:50.020 --> 00:09:51.910
It's in reverse notation.

00:09:51.950 --> 00:09:56.680
So com.company.widget.name
of your widget.

00:09:58.670 --> 00:10:02.090
whatever you want to call it.

00:10:02.090 --> 00:10:04.840
And the version number,
I'm going to leave at version one

00:10:05.020 --> 00:10:08.770
since this is the first time this
widget has seen the light of day.

00:10:08.970 --> 00:10:12.840
I've set the attribute now,
so I'm going to mark it as done.

00:10:12.840 --> 00:10:13.910
That's basically it.

00:10:14.010 --> 00:10:15.560
I'm done.

00:10:15.560 --> 00:10:17.960
This widget is now ready to roll.

00:10:17.960 --> 00:10:22.970
But of course, I don't want to stop there
because I really want to make this

00:10:22.970 --> 00:10:25.140
widget look like it's my widget.

00:10:25.140 --> 00:10:28.420
We don't want hundreds of widgets
out there that look exactly

00:10:28.420 --> 00:10:30.200
like our templates anyway.

00:10:30.200 --> 00:10:33.850
Here's where you want to get
into customizing the look

00:10:33.850 --> 00:10:37.190
and feel of your widget.

00:10:39.000 --> 00:10:42.730
Nice, but I may want to change
the color of something,

00:10:42.900 --> 00:10:44.400
like the background.

00:10:44.450 --> 00:10:48.340
Now, the background element is,
you can see over here in the Navigator,

00:10:48.660 --> 00:10:51.580
which has opened up to show
me what I have selected.

00:10:51.730 --> 00:10:54.020
It's an element called Front Image.

00:10:54.020 --> 00:10:58.000
So that's the image that represents
the background of the widget.

00:10:58.000 --> 00:11:01.320
And I can change its look
by going to the Inspector.

00:11:01.320 --> 00:11:04.450
Just click the Inspector button
and it brings up the Inspector,

00:11:04.450 --> 00:11:09.610
which lets me set all the important
attributes of of a selected object.

00:11:09.700 --> 00:12:56.500
[Transcript missing]

00:12:57.430 --> 00:13:00.120
I'm going to show you how
I do that in just a second.

00:13:00.120 --> 00:13:03.060
So I've added a button now,
but what does it do?

00:13:03.060 --> 00:13:05.130
Well,
it doesn't do much of anything because

00:13:05.130 --> 00:13:06.490
I haven't told it what to do yet.

00:13:06.540 --> 00:13:11.800
But I can do that very simply
using the Inspector again.

00:13:11.800 --> 00:13:14.660
So with this element selected,
I can go back to the

00:13:14.770 --> 00:13:18.420
Inspector to the last tab,
which is the Behaviors Inspector.

00:13:18.490 --> 00:13:21.560
Now the Behaviors Inspector is
where I wire up functionality

00:13:21.560 --> 00:13:23.200
to the elements of my widget.

00:13:23.560 --> 00:13:26.650
So I can turn this into a
button by simply setting a

00:13:26.650 --> 00:13:28.770
handler on the onClick event.

00:13:28.780 --> 00:13:31.970
I'm going to do that
just by double-clicking,

00:13:31.980 --> 00:13:35.990
which turns it into an autofill
field and also a pop-up.

00:13:36.080 --> 00:13:40.530
So I happen to know already that
there's a function called Subscribe that

00:13:40.530 --> 00:13:44.330
will do exactly what I want,
and that is pass off the URL of

00:13:44.390 --> 00:13:48.720
the feed I've given it to iTunes
so it can be subscribed to.

00:13:48.720 --> 00:13:51.180
So all I need to do is say Subscribe.

00:13:51.180 --> 00:13:53.260
So now I've wired up my event.

00:13:53.380 --> 00:13:58.140
This is now a button that my users
can use to subscribe to the podcast.

00:13:58.140 --> 00:14:01.950
And you'll notice also that
once I wired up this event,

00:14:01.950 --> 00:14:03.950
I got a Go To button again.

00:14:03.960 --> 00:14:07.240
So the Go To buttons, again,
wherever you see them,

00:14:07.240 --> 00:14:09.520
they will take you to the
related part of the interface.

00:14:09.520 --> 00:14:12.190
So I'm going to click on that,
and it'll take me right

00:14:12.190 --> 00:14:13.370
to the source code.

00:14:13.380 --> 00:14:16.340
So here in the Embedded
Source Code Editor,

00:14:16.340 --> 00:14:19.450
I have this function
that I've just wired up.

00:14:19.540 --> 00:14:22.720
So I can go in and start
editing right away.

00:14:23.210 --> 00:14:25.570
Or check it out and see
what exactly it does.

00:14:25.580 --> 00:14:27.100
This is obviously a pretty simple one.

00:14:28.360 --> 00:14:32.320
Now the source code editor gives me
access to obviously the JavaScript file,

00:14:32.440 --> 00:14:35.650
but in addition the
CSS and the HTML as well.

00:14:35.780 --> 00:14:39.050
So I can go in and edit
by hand if I want to.

00:14:40.010 --> 00:14:41.170
But I probably don't want to.

00:14:41.340 --> 00:14:45.660
I certainly don't want to.

00:14:45.660 --> 00:14:48.280
For those of you who have
built Widgets yourself,

00:14:48.280 --> 00:14:51.460
you know that there are
more files than that.

00:14:51.460 --> 00:14:53.440
Don't worry,
we're not hiding those from you either.

00:14:53.450 --> 00:14:56.980
I can bring up a files view,
which replaces the steps view and

00:14:57.290 --> 00:15:01.740
gives me access to all of the files,
including the Apple classes,

00:15:01.740 --> 00:15:04.680
an English project, all the images.

00:15:04.680 --> 00:15:06.360
It's all there for me.

00:15:06.360 --> 00:15:07.840
Now, what have I done?

00:15:07.880 --> 00:15:10.220
I've taken a template,
I've given it a feed,

00:15:10.220 --> 00:15:13.860
I've given it a unique ID,
I've customized its look a little,

00:15:13.860 --> 00:15:16.940
and I've added some functionality.

00:15:16.940 --> 00:15:20.040
So now the next thing I want
to do is see if it works.

00:15:20.040 --> 00:15:23.500
All I need to do in Dashcode
is hit the run button.

00:15:23.500 --> 00:15:26.480
And it launches in
Dashcode's run environment,

00:15:26.480 --> 00:15:30.670
exactly like it would in Dashboard
without the hassle of having to

00:15:30.670 --> 00:15:32.740
package it up and install it.

00:15:32.740 --> 00:15:35.500
And it runs exactly like
it would in Dashboard.

00:15:35.500 --> 00:15:37.410
It's a full working widget.

00:15:37.460 --> 00:15:39.320
everything

00:15:39.820 --> 00:15:42.800
Here are my episodes of my podcast.

00:15:42.880 --> 00:15:44.690
Let's go ahead and see
if I did my work right.

00:15:44.700 --> 00:15:47.470
Ah, here we go.

00:15:47.510 --> 00:15:49.470
How drunk was Mel Gibson?

00:15:49.470 --> 00:15:51.790
Let's find out.

00:15:55.750 --> 00:15:58.190
How drunk was Mel Gibson?

00:15:58.240 --> 00:16:02.700
Hi, I'm June Thomas with the Slate
Explainer podcast for Tuesday,

00:16:02.700 --> 00:16:03.780
August 1st.

00:16:03.810 --> 00:16:05.490
All right, well,
we don't have time for that.

00:16:05.530 --> 00:16:07.770
You'll have to find out how
drunk Mel Gibson was on your own.

00:16:07.780 --> 00:16:10.220
But let's say, so what else did I do?

00:16:10.220 --> 00:16:11.860
I stuck a button on there.

00:16:11.960 --> 00:16:14.140
Let's see if that works, too.

00:16:14.140 --> 00:16:15.780
Subscribe to podcast.

00:16:15.780 --> 00:16:16.930
What does it do?

00:16:16.930 --> 00:16:17.410
Hey!

00:16:17.460 --> 00:16:20.360
Look at that.

00:16:25.930 --> 00:16:27.560
It's a whole demo that worked.

00:16:27.560 --> 00:16:31.020
All right.

00:16:31.710 --> 00:16:32.460
That's my demo.

00:16:32.670 --> 00:16:35.270
Back to you, Tim.

00:16:35.500 --> 00:16:36.060
TIM BUMGARDNER: Thanks, Max.

00:16:36.060 --> 00:16:38.200
Awesome.

00:16:38.200 --> 00:16:39.970
Back to slides.

00:16:41.810 --> 00:16:43.620
All right, this is where it gets fun.

00:16:43.750 --> 00:16:45.220
We're going to start
our hands-on section.

00:16:45.220 --> 00:16:46.960
So hopefully you've all
got your sample code.

00:16:46.980 --> 00:16:50.070
And we're going to go through this,
in essence, a very similar process,

00:16:50.070 --> 00:16:51.800
creating a countdown timer.

00:16:51.890 --> 00:16:55.540
So this is what we're going to do in our
hands-on section of today in the session.

00:16:55.540 --> 00:16:57.160
We're going to take a template,
and we're going to

00:16:57.160 --> 00:16:58.280
customize its appearance.

00:16:58.280 --> 00:17:01.220
Just as Matt showed,
we don't want 1,000 widgets out there

00:17:01.220 --> 00:17:02.790
that look exactly like our templates.

00:17:03.000 --> 00:17:05.580
You should take something, create it,
and make it uniquely yours.

00:17:05.580 --> 00:17:08.020
And then we're going to add some
custom code to this widget that

00:17:08.170 --> 00:17:11.230
will add additional functionality
that's not built into the template.

00:17:11.420 --> 00:17:13.650
And then we're also going to
take advantage of the parts.

00:17:13.750 --> 00:17:15.940
And then we'll go through the
process of testing the widget.

00:17:15.940 --> 00:17:17.850
And then we'll finally show
you how to deploy the widget.

00:17:17.950 --> 00:17:20.990
So that's what we're going to cover
in our hands-on section today.

00:17:21.080 --> 00:17:24.350
So we'll start off with the first part,
which is designing a widget.

00:17:24.430 --> 00:17:27.660
And these are where we're going to
get started creating our templates.

00:17:27.660 --> 00:17:28.530
We're going to choose a template.

00:17:28.650 --> 00:17:29.830
It'll be a countdown template.

00:17:29.950 --> 00:17:33.090
We're going to set up the specific
options for that template.

00:17:33.180 --> 00:17:35.200
And then we're going to
change up the graphics a bit,

00:17:35.200 --> 00:17:35.920
jazz it up.

00:17:36.010 --> 00:17:37.900
And then we're going to add a
custom image to show that not

00:17:37.910 --> 00:17:40.280
only do we have built-in images,
but you can still use all

00:17:40.280 --> 00:17:41.000
of your custom images.

00:17:41.000 --> 00:17:44.940
So in order to do that,
I'm going to bring Max right back up.

00:17:45.000 --> 00:17:46.140
Yeah, don't go away.

00:17:46.200 --> 00:17:47.360
Come on.

00:17:47.360 --> 00:17:50.960
He's going to walk you through this
first section of our hands-on session.

00:17:50.960 --> 00:17:53.440
And again,
if you don't have the sample code,

00:17:53.440 --> 00:17:54.070
just watch us.

00:17:54.180 --> 00:17:56.260
And if you get behind,
we do have milestones

00:17:56.260 --> 00:17:57.000
in the next section.

00:17:57.000 --> 00:17:57.730
All right, Max?

00:17:57.760 --> 00:17:59.750
Hi, it's me again.

00:17:59.970 --> 00:18:02.540
I was just getting
comfortable down there.

00:18:02.580 --> 00:18:04.920
All right, so here's where we're
going to go hands on.

00:18:04.920 --> 00:18:08.050
So anybody who wants to follow
along in the studio audience,

00:18:08.050 --> 00:18:09.560
let's get going.

00:18:09.560 --> 00:18:12.840
So before we dive in though,
I want to show you what

00:18:12.840 --> 00:18:14.050
it is we're building.

00:18:14.060 --> 00:18:18.280
So I have a widget
running here in Dashboard.

00:18:18.280 --> 00:18:19.920
This is what we're building.

00:18:19.920 --> 00:18:21.400
This guy right here.

00:18:21.400 --> 00:18:24.730
And what this widget is going
to do is it's going to count

00:18:24.920 --> 00:18:27.020
down to the Dashcode lab time.

00:18:27.050 --> 00:18:30.340
Because for some reason the lab
isn't right after our session,

00:18:30.340 --> 00:18:32.670
and you know,
you've got a lot on your mind.

00:18:32.670 --> 00:18:34.260
So we want to remind you.

00:18:34.260 --> 00:18:37.520
So what we're going to
do is build a countdown.

00:18:37.520 --> 00:18:40.600
It's a pretty simple kind of widget,
but I'm going to show you

00:18:40.700 --> 00:18:42.020
how easy it is to do it.

00:18:42.020 --> 00:18:46.100
So as you can tell,
it's got a big piece of custom art on it,

00:18:46.100 --> 00:18:50.080
but the rest of it is really
straight out of the template.

00:18:50.080 --> 00:18:52.120
So let's dive in.

00:18:52.500 --> 00:18:59.090
So for those of you who-- hey,
I don't want you.

00:18:59.570 --> 00:19:01.060
I want you.

00:19:01.060 --> 00:19:03.820
So if you haven't already
got Dashcode running,

00:19:03.840 --> 00:19:07.000
it's where you might imagine.

00:19:07.000 --> 00:19:11.680
It's in Developer, Applications,
a folder you should all be familiar with,

00:19:11.680 --> 00:19:13.780
certainly by now.

00:19:13.780 --> 00:19:16.130
Let's go ahead and launch Dashcode.

00:19:17.900 --> 00:19:19.900
So, you should be seeing what I'm seeing.

00:19:20.030 --> 00:19:21.560
It's the template chooser.

00:19:21.850 --> 00:19:24.900
This time, we're going to start with
a countdown template.

00:19:24.900 --> 00:19:26.900
It's the second one from the left.

00:19:26.900 --> 00:19:27.800
Go ahead and choose it.

00:19:27.840 --> 00:19:29.800
Click the Choose button.

00:19:30.710 --> 00:19:32.040
Is everybody with me?

00:19:32.070 --> 00:19:32.590
Yeah?

00:19:32.930 --> 00:19:33.590
Good.

00:19:33.600 --> 00:19:37.550
Okay, so not much to tell you about this.

00:19:37.640 --> 00:19:39.530
It's a countdown template.

00:19:39.630 --> 00:19:43.280
It counts down days, hours, minutes,
and seconds to a target

00:19:43.280 --> 00:19:44.600
time that you can set.

00:19:44.600 --> 00:19:47.600
Now, I'm going to bring back
my finished widget.

00:19:47.600 --> 00:19:50.600
I'm going to show you, well,
it's a little bit different.

00:19:50.670 --> 00:19:53.600
So you'll notice that the built
widget is taller and narrower.

00:19:53.600 --> 00:19:56.600
The colors have been changed,
and of course that custom art is there.

00:19:56.600 --> 00:19:58.980
Also, we're only counting down hours,
minutes,

00:19:58.980 --> 00:20:01.370
and seconds since our target is today.

00:20:01.640 --> 00:20:04.000
We don't need any days.

00:20:04.300 --> 00:20:09.360
So let's go back and see if
we can build that together.

00:20:09.380 --> 00:20:13.200
Now the first thing we're going to
do is change the size of our widget.

00:20:13.390 --> 00:20:16.990
And the way you do that, very simply,
in the canvas,

00:20:16.990 --> 00:20:20.180
you grab this resize grabber
on the lower right side of the

00:20:20.180 --> 00:20:21.980
widget and start pulling on it.

00:20:22.160 --> 00:20:26.930
Now if you'll notice,
there's a HUD that shows us the value.

00:20:27.240 --> 00:20:29.300
So as we're changing
the size of the widget,

00:20:29.390 --> 00:20:33.120
the numbers are reflecting
what size we're going for.

00:20:33.230 --> 00:20:38.050
And I want to get about 300 by 240.

00:20:38.200 --> 00:20:40.790
That's about what I'm going for,
but it doesn't have

00:20:40.840 --> 00:20:44.390
to be perfectly exact,
because we're all designers here,

00:20:44.390 --> 00:20:46.110
not engineers, right?

00:20:46.360 --> 00:20:49.580
So, 301 by 240,
that's good enough for me.

00:20:49.660 --> 00:20:54.090
So, has everybody got their widget
looking pretty much like this?

00:20:54.600 --> 00:20:57.010
Again, we're all designing,
so it can be pretty close,

00:20:57.010 --> 00:20:59.060
but it doesn't have to be exact.

00:20:59.060 --> 00:21:02.310
So now one thing you'll notice
is that the background image,

00:21:02.310 --> 00:21:08.380
the front image it's called,
resized when I resized the widget.

00:21:08.380 --> 00:21:12.600
Now the reason it did that is
because it's set to do that.

00:21:12.600 --> 00:21:17.440
Let's open up the inspector
and see where that gets set.

00:21:18.800 --> 00:21:21.320
So if you go to the
Metrics Inspector tab,

00:21:21.390 --> 00:21:24.850
that's the one in the middle that
looks like it has a little ruler on it.

00:21:24.940 --> 00:21:27.380
You'll notice that about
two-thirds of the way down,

00:21:27.380 --> 00:21:29.330
there's a section called Auto Resize.

00:21:29.360 --> 00:21:32.600
And I've lost my selection,
so I'm going to go re-select it again.

00:21:32.600 --> 00:21:34.980
And you'll see springs.

00:21:34.980 --> 00:21:38.130
So anybody familiar with the
Interface Builder should know

00:21:38.130 --> 00:21:40.120
more or less what these things do.

00:21:40.120 --> 00:21:44.380
They tell this element to
resize along with its parent.

00:21:44.900 --> 00:21:47.580
We don't want it to do that,
because if you remember from the widget,

00:21:47.580 --> 00:21:49.180
we want it kind of
smaller than the widget.

00:21:49.180 --> 00:21:50.700
So we're going to turn those off.

00:21:50.820 --> 00:21:53.060
Now the way we do that
is just click on them.

00:21:53.080 --> 00:21:56.200
You'll notice that they're in pairs,
horizontal and vertical.

00:21:56.300 --> 00:22:00.100
So you just click on each pair until
you've got no springs set at all.

00:22:00.160 --> 00:22:01.510
Is everybody with me?

00:22:01.520 --> 00:22:02.640
You seeing what I see?

00:22:03.800 --> 00:22:08.800
So now, when I resize my widget,
if I cared to,

00:22:08.800 --> 00:22:13.590
the front image would not resize with it.

00:22:13.750 --> 00:22:16.220
So one other thing I want to
tell you about the front image

00:22:16.310 --> 00:22:19.440
is that in all of our templates,
it comes locked.

00:22:19.540 --> 00:22:22.600
That means you can't resize
it directly in the canvas.

00:22:22.600 --> 00:22:25.830
And the reason for that is because
you usually want to treat this element

00:22:25.930 --> 00:22:28.200
sort of as like a background object.

00:22:28.270 --> 00:22:32.360
So I can do things like drag
select starting on top of it.

00:22:32.460 --> 00:22:36.770
And the way you can
tell that it's locked,

00:22:36.900 --> 00:22:40.040
which is perhaps a little subtle,
but the resize handles

00:22:40.040 --> 00:22:42.690
are gray instead of blue.

00:22:42.910 --> 00:22:44.800
But we're going to unlock this.

00:22:44.800 --> 00:22:47.170
So I want you to make
sure you have it selected.

00:22:47.200 --> 00:22:48.720
Click on it in the canvas.

00:22:48.820 --> 00:22:50.870
And we're going to go up to the menu.

00:22:51.000 --> 00:22:52.140
Arrange.

00:22:52.370 --> 00:22:52.940
Unlock.

00:22:52.940 --> 00:22:56.050
Is everybody following along?

00:22:56.050 --> 00:22:57.220
Who cares to?

00:22:57.220 --> 00:22:58.080
So we're going to unlock it.

00:22:58.080 --> 00:23:01.040
And now that means that I can
grab it and start messing with it.

00:23:01.220 --> 00:23:03.400
And that's exactly
what we're going to do.

00:23:03.400 --> 00:23:07.620
So let's grab the bottom
left corner and resize it.

00:23:07.620 --> 00:23:10.710
And I want to get this to about 100 tall.

00:23:10.710 --> 00:23:14.200
And, oh, I don't know, 230 wide.

00:23:14.200 --> 00:23:17.180
Again, you know, this is design.

00:23:17.180 --> 00:23:19.780
Hey, that looks pretty good.

00:23:21.280 --> 00:23:22.700
Everybody with me on that?

00:23:22.700 --> 00:23:27.720
Is anybody following along?

00:23:27.720 --> 00:23:27.720
Or can I just like, you know, okay.

00:23:28.450 --> 00:23:33.800
So now we've got this thing
pretty much sized the way we want.

00:23:33.800 --> 00:23:35.950
If you'll remember,
there were a few things we want to

00:23:35.950 --> 00:23:37.720
get rid of because we don't need them.

00:23:37.720 --> 00:23:39.460
For instance, the days countdown.

00:23:39.460 --> 00:23:41.330
So let's go ahead and delete those.

00:23:41.330 --> 00:23:43.780
I'm just going to click
on them in the canvas.

00:23:43.780 --> 00:23:47.460
So this first zero on the left,
that's the days counter.

00:23:47.460 --> 00:23:50.930
And you can see in the navigator,
it's telling me what I have selected.

00:23:50.930 --> 00:23:54.210
I'm just going to hit the
delete key to get rid of it.

00:23:54.210 --> 00:23:55.440
Pretty simple.

00:23:56.380 --> 00:23:58.050
The same with the days label.

00:23:58.050 --> 00:23:59.120
We don't need that.

00:23:59.310 --> 00:24:00.020
Delete key.

00:24:00.020 --> 00:24:02.780
And here's where the hand-eye
coordination comes in.

00:24:02.780 --> 00:24:04.700
This separator.

00:24:04.700 --> 00:24:06.140
There we go.

00:24:06.170 --> 00:24:06.820
Hey, I got it.

00:24:06.820 --> 00:24:08.010
Does anybody else have it?

00:24:08.010 --> 00:24:08.740
Okay.

00:24:08.740 --> 00:24:09.310
Delete.

00:24:09.310 --> 00:24:10.140
There you go.

00:24:10.140 --> 00:24:11.090
Pretty simple.

00:24:11.090 --> 00:24:14.260
So now we have,
we're only counting down hours, minutes,

00:24:14.350 --> 00:24:15.110
and seconds.

00:24:15.110 --> 00:24:17.060
That's exactly what we wanted.

00:24:18.660 --> 00:24:21.130
This event label,
we don't need that either.

00:24:21.410 --> 00:24:23.600
Let's go ahead and delete that.

00:24:23.600 --> 00:24:26.070
So basically we're tearing
our template apart.

00:24:26.150 --> 00:24:28.160
I don't know if you noticed that.

00:24:28.180 --> 00:24:31.520
But we're going to start
building it again soon.

00:24:31.890 --> 00:24:39.670
So now the last thing I want to do is
take this whole element and move it down.

00:24:39.670 --> 00:24:42.150
Because if you'll remember
from our built widget,

00:24:42.250 --> 00:24:43.400
it's not at the very top.

00:24:43.510 --> 00:24:47.030
It's about three
quarters of the way down.

00:24:47.700 --> 00:24:49.890
So I'm going to drag select it.

00:24:50.000 --> 00:24:53.390
So I'm going to start a marquee
select outside of the widget

00:24:53.550 --> 00:24:56.600
until I have it all encompassed.

00:24:56.660 --> 00:24:57.300
Let go.

00:24:57.300 --> 00:24:59.100
So now I've selected the whole thing.

00:24:59.100 --> 00:25:02.070
So that's got the front image,
the counter,

00:25:02.070 --> 00:25:05.120
all of those elements are now selected.

00:25:05.220 --> 00:25:06.510
And I'm going to drag them down.

00:25:06.800 --> 00:25:08.990
Now here's a little gotcha.

00:25:09.050 --> 00:25:11.690
Make sure if you're going
to drag this down now,

00:25:11.690 --> 00:25:15.880
make sure you click on what appears to
be the front image because there can be

00:25:15.880 --> 00:25:19.420
some reselection goofiness if you don't.

00:25:19.440 --> 00:25:20.560
So I'm going to just drag this down.

00:25:20.560 --> 00:25:22.510
Hey, look at that.

00:25:22.510 --> 00:25:25.900
If I hold down the shift key,
I can constrain it to an axis,

00:25:25.900 --> 00:25:28.350
which is pretty much what I want to do.

00:25:28.350 --> 00:25:32.520
So I just sort of keep it
pinned to the right side.

00:25:32.520 --> 00:25:34.450
And I want to get this
down so that the Y value,

00:25:34.450 --> 00:25:37.340
if you'll see in the HUD there,
is about 100.

00:25:37.340 --> 00:25:41.330
100 is a very popular number today,
I think.

00:25:41.330 --> 00:25:42.890
At least with me.

00:25:43.220 --> 00:25:45.530
So there, I've just moved it down.

00:25:45.530 --> 00:25:46.890
It's about where I want it.

00:25:46.980 --> 00:25:48.830
Again, it's design, whatever you want.

00:25:48.910 --> 00:25:50.420
Everybody with me?

00:25:50.490 --> 00:25:51.120
Yeah?

00:25:51.120 --> 00:25:52.160
All right.

00:25:52.160 --> 00:25:58.970
So now we'll notice that the info
button is kind of hanging out by itself.

00:25:58.970 --> 00:26:02.370
I want to bring it up
now to match the rest.

00:26:02.430 --> 00:26:04.080
So just grab it and move it up.

00:26:04.480 --> 00:26:07.390
And on this one, you know,
I don't even care what the numbers are.

00:26:07.390 --> 00:26:08.960
I'm just going to do this by eye.

00:26:08.960 --> 00:26:12.750
It just should be, you know,
sort of largely in the lower right

00:26:12.750 --> 00:26:15.170
corner of this group of elements.

00:26:16.920 --> 00:26:18.300
Everybody got that?

00:26:18.340 --> 00:26:19.700
It's pretty simple.

00:26:19.760 --> 00:26:20.700
All right.

00:26:20.700 --> 00:26:25.800
So now we've got the template
aspect of our widget is done.

00:26:25.900 --> 00:26:29.740
But what about that big old graphic?

00:26:29.960 --> 00:26:32.890
Well, that's why we wanted you to
download the source code,

00:26:33.460 --> 00:26:34.900
the sample code.

00:26:34.900 --> 00:26:41.530
So if you've downloaded the sample code,
there's a folder called Milestone 1.

00:26:41.950 --> 00:26:43.760
So go find that.

00:26:43.760 --> 00:26:47.330
And inside it, there are two PNG files.

00:26:47.590 --> 00:26:52.710
There's a Dashcode Lab icon
and Dashcode Lab logo.

00:26:52.770 --> 00:26:54.240
Everybody got that?

00:26:54.280 --> 00:26:56.900
Who cares to?

00:26:57.100 --> 00:27:01.000
So all we need to do now to add
our custom graphic is grab it.

00:27:01.000 --> 00:27:04.980
We're going to grab the logo and
just drag it onto our widget.

00:27:04.980 --> 00:27:09.920
And I'm just going to drop it in
the empty space of our widget.

00:27:10.320 --> 00:27:11.200
There we go.

00:27:11.250 --> 00:27:12.340
I've added my custom art.

00:27:12.430 --> 00:27:17.190
So all I need to do now is make
sure it's placed in the right place.

00:27:17.190 --> 00:27:21.050
I want it to be aligned
with the upper left corner,

00:27:21.050 --> 00:27:23.000
and I want it to be the
full height of my widget.

00:27:23.000 --> 00:27:26.760
So I'm going to just drag it until
I get it into the upper left corner,

00:27:26.820 --> 00:27:30.930
and I know I've gotten there because
the position HUD tells me it's at 0,

00:27:30.980 --> 00:27:35.400
0, which seems like the sensible
number for the upper left corner.

00:27:36.600 --> 00:27:38.160
And so now it's positioned.

00:27:38.160 --> 00:27:41.120
All I need to do now is resize it,
and I'm going to do that by

00:27:41.120 --> 00:27:43.180
dragging the lower right corner.

00:27:43.180 --> 00:27:46.690
So I start dragging,
and I hold down the Shift key

00:27:46.690 --> 00:27:50.810
to keep it constrained so that
I'm not stretching it out,

00:27:50.810 --> 00:27:56.450
and I'm going to make it 240 tall,
which is the height of my widget.

00:27:56.460 --> 00:27:59.360
Once I get it placed, boom, there we go.

00:27:59.410 --> 00:28:01.120
Is everybody with me?

00:28:01.180 --> 00:28:05.160
All right, so now we've added our art.

00:28:05.270 --> 00:28:06.580
We're getting pretty good at this.

00:28:06.580 --> 00:28:10.080
It was pretty darn close,
but now the blue of the background

00:28:10.080 --> 00:28:13.740
of the countdown doesn't quite
look exactly like I want it.

00:28:13.740 --> 00:28:15.600
I want it to harmonize a
little better with my art.

00:28:15.740 --> 00:28:18.990
So let's go ahead and change
the color of that object.

00:28:19.140 --> 00:28:20.740
So select it.

00:28:20.780 --> 00:28:24.020
You can select it in the
canvas or in the navigator.

00:28:24.240 --> 00:28:25.590
Remember, it's called Front Image.

00:28:25.640 --> 00:28:29.300
And let's go back to the inspector.

00:28:29.490 --> 00:28:32.060
Now this time we're going to go
to the Fill and Stroke Inspector,

00:28:32.060 --> 00:28:34.640
just like I did in the tour earlier on.

00:28:34.760 --> 00:28:39.640
We see that it's got a glass
texture and a blue fill.

00:28:39.750 --> 00:28:41.400
Let's change its texture.

00:28:41.490 --> 00:28:46.090
Glass is nice, but I like rounded glass,
which is a glass, but it has this nice

00:28:46.380 --> 00:28:48.060
rounded horizon line.

00:28:48.140 --> 00:28:50.070
Makes it look a little sexier.

00:28:50.190 --> 00:28:54.700
And let's make sure that the color
harmonizes with our placed art.

00:28:54.830 --> 00:28:59.070
So click on the color chip
right below there to bring

00:28:59.230 --> 00:29:01.460
up the standard color picker.

00:29:01.520 --> 00:29:04.510
And we're going to use the
magnifying glass to pick a

00:29:04.580 --> 00:29:06.650
color out of our placed art.

00:29:06.740 --> 00:29:09.040
It's a pretty common
little design technique.

00:29:09.070 --> 00:29:13.870
I'm going to grab the sort of darker
blue of the Dashcode logo that's

00:29:13.870 --> 00:29:19.950
embedded in our beaker and just
click on there to pick that color.

00:29:20.400 --> 00:29:23.730
So now I'm getting some
more color harmony,

00:29:23.740 --> 00:29:24.510
and I'm digging that.

00:29:24.540 --> 00:29:28.740
So the next thing I want to
do is just change the black

00:29:28.740 --> 00:29:30.700
background of the counter.

00:29:30.700 --> 00:29:34.720
And I'm going to do that by selecting it,
this time in the Navigator.

00:29:34.720 --> 00:29:37.770
So if we look in the Navigator,
we see here's the

00:29:37.770 --> 00:29:39.620
structure of our widget.

00:29:39.620 --> 00:29:42.960
There's a group of elements called Timer.

00:29:42.980 --> 00:29:46.880
And that's all this group here,
the background plus all of the digits.

00:29:47.460 --> 00:29:50.750
I'm going to select Timer BG,
which is the background,

00:29:50.790 --> 00:29:51.700
as you might imagine.

00:29:51.700 --> 00:29:55.320
I still like it in black,
but let's turn it to solid.

00:29:56.920 --> 00:30:00.030
So we just pick solid, right?

00:30:00.250 --> 00:30:02.380
And let's give it some opacity.

00:30:02.460 --> 00:30:05.600
So right down here towards the bottom,
you see there's an opacity slider.

00:30:05.670 --> 00:30:08.960
I'm going to shoot for 50%.
Let's see how good I am at this.

00:30:09.210 --> 00:30:12.920
Hey!

00:30:14.670 --> 00:30:16.820
That's hand-eye coordination for you.

00:30:16.890 --> 00:30:19.840
So now I've got that,
and I lost my selection,

00:30:19.840 --> 00:30:23.490
but that's no big deal because
I'm all done with that.

00:30:23.880 --> 00:30:27.790
So now, if you're following along,
we've done all of the,

00:30:27.790 --> 00:30:30.320
just about everything we
need to do to the front.

00:30:30.660 --> 00:30:32.920
There's one little thing left over,
it's a detail,

00:30:32.920 --> 00:30:35.740
but it's a pretty important one,
and that is that the close box

00:30:35.740 --> 00:30:37.460
is kind of hanging off in space.

00:30:37.460 --> 00:30:40.540
And I know Christian would
be upset if we left it there,

00:30:40.590 --> 00:30:42.710
because he's a stickler for that.

00:30:42.850 --> 00:30:46.540
And what I want to do now is just,
I'm just going to drag it so it's

00:30:46.540 --> 00:30:48.840
touching the edge of the beaker.

00:30:48.840 --> 00:30:50.320
And again,
I'm just going to do this by eye.

00:30:51.210 --> 00:30:52.430
There, hey, that was pretty simple.

00:30:52.470 --> 00:30:56.990
Much easier than going and
setting values in an Info.plist,

00:30:57.090 --> 00:30:57.440
certainly.

00:30:57.440 --> 00:31:00.880
So now our front is all done.

00:31:00.880 --> 00:31:03.220
We've got the close box where we want,
we've got a custom art,

00:31:03.220 --> 00:31:06.140
we've got our timer all whiz banged.

00:31:06.200 --> 00:31:10.310
So let's have a look at the back
and see what's going on there.

00:31:10.350 --> 00:31:12.260
Well, there's not much to it.

00:31:12.290 --> 00:31:14.120
It's pretty close to being done.

00:31:14.210 --> 00:31:17.010
The one thing that sort of stands
out is now the close box is

00:31:17.010 --> 00:31:19.060
sort of not in the left corner.

00:31:19.080 --> 00:31:22.140
So I actually want to fix that.

00:31:22.540 --> 00:31:27.670
Now the background image on
the back is called back image,

00:31:27.720 --> 00:31:29.660
which maybe you could have
guessed because the one on the

00:31:29.760 --> 00:31:31.560
front is called front image.

00:31:31.660 --> 00:31:36.480
But the back image is the one I want to
adjust and just like the front image,

00:31:36.560 --> 00:31:37.690
it's locked.

00:31:38.080 --> 00:31:40.520
So, and it also has spring set.

00:31:40.640 --> 00:31:44.550
So just like we did on the front,
we're going to undo all of that.

00:31:44.650 --> 00:31:47.640
So we're going to go back
to the metrics inspector,

00:31:47.770 --> 00:31:50.150
the one in the middle
that looks like a ruler,

00:31:50.150 --> 00:31:52.660
and turn off the springs.

00:31:52.770 --> 00:31:56.840
So that it looks like this,
no springs in this thing.

00:31:56.930 --> 00:31:57.610
Great.

00:31:57.710 --> 00:31:59.400
Everybody with me?

00:31:59.400 --> 00:32:00.600
Good.

00:32:00.700 --> 00:32:05.070
So, the next thing we need to,
who remembers what you need to do next?

00:32:05.460 --> 00:32:06.180
Unlock it.

00:32:06.490 --> 00:32:07.230
Thank you.

00:32:07.280 --> 00:32:10.280
I wish I had a prize.

00:32:10.280 --> 00:32:12.400
The prize will be you
get to keep this widget.

00:32:12.400 --> 00:32:16.440
Go back to the Arrange menu and unlock.

00:32:16.440 --> 00:32:20.200
Now we can move this object around.

00:32:20.200 --> 00:32:23.740
All I want to do now is just move
the left side of this thing in so

00:32:23.740 --> 00:32:26.250
that it's aligned with the close box.

00:32:26.590 --> 00:32:30.830
I'm just going to use the close
box as an alignment guide.

00:32:30.850 --> 00:32:34.520
If I wanted a custom alignment guide,
I could of course drag one out

00:32:34.520 --> 00:32:36.320
of the ruler and put it in place.

00:32:36.320 --> 00:32:40.910
But I'm just going to use
the close box as my guide.

00:32:41.150 --> 00:32:42.880
There, pretty simple.

00:32:43.000 --> 00:32:46.140
And, you know,
if I'm feeling extra fussy,

00:32:46.140 --> 00:32:48.230
I might take the "developed
with Dashcode" logo and

00:32:48.230 --> 00:32:51.820
stick it in the middle,
which I get nice guidelines for.

00:32:51.980 --> 00:32:53.930
You can do that too, if you like.

00:32:53.990 --> 00:32:56.390
But I won't make you.

00:32:56.600 --> 00:33:00.690
So now we've got our front
and our back all laid out.

00:33:01.080 --> 00:33:02.290
Hey, that's cool.

00:33:02.390 --> 00:33:04.200
So what's left to do?

00:33:04.200 --> 00:33:07.580
Almost nothing, except, of course,
we have to tell this to count

00:33:07.580 --> 00:33:08.610
down to the right thing.

00:33:08.610 --> 00:33:13.010
And the place we do that
is in the attributes.

00:33:13.440 --> 00:33:16.960
And there's actually one thing
I sort of forgot to mention.

00:33:17.070 --> 00:33:23.200
In the quick tour I showed you,
we needed to set a widget identifier.

00:33:23.330 --> 00:33:27.600
And let's all do that here, too.

00:33:27.600 --> 00:33:27.600
So,

00:33:27.690 --> 00:33:33.340
The identifier comes on your machine,
com.probably your

00:33:33.340 --> 00:33:36.680
username.widget.untitled.

00:33:36.680 --> 00:33:40.890
So whatever your particular
naming convention is,

00:33:41.100 --> 00:33:43.200
this should probably
be your company name.

00:33:43.250 --> 00:33:44.400
Let's rename this thing.

00:33:44.400 --> 00:33:48.390
I'm going to call it Dashcode Lab.

00:33:50.140 --> 00:33:51.100
and Daaah.

00:33:51.100 --> 00:33:52.860
There we go.

00:33:52.860 --> 00:33:55.100
So is everybody following along?

00:33:55.120 --> 00:33:55.900
Yeah?

00:33:55.900 --> 00:33:57.220
You sleeping?

00:33:57.230 --> 00:33:57.820
Okay.

00:33:58.560 --> 00:33:59.880
Me too.

00:33:59.970 --> 00:34:03.990
So now I've set the identifier,
just like in the tour,

00:34:04.130 --> 00:34:05.620
version one is good.

00:34:05.620 --> 00:34:07.160
This is the first one we've got going.

00:34:07.160 --> 00:34:11.300
Now we're going to skip right
down to the properties area.

00:34:11.300 --> 00:34:15.000
Now on the countdown template,
it's pretty cool.

00:34:15.000 --> 00:34:19.270
There's a number of ways we can
set what the countdown target is.

00:34:19.310 --> 00:34:21.900
Now the countdown target is
what we're counting down to.

00:34:21.900 --> 00:34:25.760
And we can set it by date and time,
that is specifically

00:34:25.830 --> 00:34:27.870
entering a date and a time.

00:34:27.870 --> 00:34:32.700
An iCal event,
so we can just drag an iCal event

00:34:32.700 --> 00:34:34.700
out of iCal into the widget.

00:34:34.700 --> 00:34:39.020
Or a shared calendar,
so we can publish a calendar like on

00:34:39.020 --> 00:34:44.670
.Mac and we can point to it with the
widget so it can constantly update.

00:34:44.750 --> 00:34:47.720
We're going to go with date
and time because we know

00:34:47.730 --> 00:34:49.690
what we're counting down to.

00:34:49.890 --> 00:34:53.550
And so with that selected,
now all we need to do is set

00:34:53.900 --> 00:34:56.800
what the actual target is.

00:34:56.940 --> 00:35:00.040
So it's today, right?

00:35:00.140 --> 00:35:01.540
8.

00:35:01.620 --> 00:35:04.040
Let's see if I remember what the date is.

00:35:04.110 --> 00:35:05.790
10, right?

00:35:05.890 --> 00:35:06.850
Am I right?

00:35:06.950 --> 00:35:10.270
And we want to give you a
few minutes to get there.

00:35:10.480 --> 00:35:17.190
The lab is at 12 noon,
but let's make it for 11:55.

00:35:19.000 --> 00:35:22.890
So, for those of you playing along,
you should be seeing the same thing,

00:35:22.890 --> 00:35:28.070
set for date and time, 8/10/2006,
11:55 AM.

00:35:28.190 --> 00:35:28.390
Right?

00:35:28.650 --> 00:35:30.610
We're all there?

00:35:30.960 --> 00:35:36.690
So when the target is reached,
the widget is going to stop at zero.

00:35:36.820 --> 00:35:39.440
We can tell it to do different things,
and you're going to see a

00:35:39.440 --> 00:35:40.530
little bit of that soon.

00:35:40.750 --> 00:35:43.760
But we're just going to
go with that for now.

00:35:43.980 --> 00:35:46.780
So now we're just about done.

00:35:46.840 --> 00:35:49.100
Let's check out the default
image and see how that looks.

00:35:49.100 --> 00:35:51.300
Hey, it looks pretty good.

00:35:51.350 --> 00:35:54.220
Not only does it look pretty good,
it looks a whole lot like our widget.

00:35:54.310 --> 00:35:58.360
And the reason it does is because
the default image is actually

00:35:58.370 --> 00:36:02.620
being updated for me while
I edit the front of my widget.

00:36:02.620 --> 00:36:06.590
And you'll notice that the time isn't in
there because those are set not to show.

00:36:06.640 --> 00:36:10.440
I could turn those on if I wanted,
but this is generally how you do

00:36:10.460 --> 00:36:15.400
a default image where you have
the basics of the interface but

00:36:15.400 --> 00:36:18.060
not the content show up first.

00:36:18.060 --> 00:36:20.280
So we don't need to do anything here.

00:36:20.280 --> 00:36:21.600
I like it.

00:36:21.720 --> 00:36:23.600
So let's have a look at the widget icon.

00:36:23.600 --> 00:36:25.460
Well, that's pretty bland.

00:36:25.460 --> 00:36:26.890
It's not a great icon.

00:36:26.890 --> 00:36:29.740
So let's jazz it up a little bit.

00:36:29.740 --> 00:36:35.040
Let's go back to our sample
code and that other PNG file,

00:36:35.040 --> 00:36:38.060
Dashcode Lab icon.

00:36:38.060 --> 00:36:41.220
So as you can imagine, How do you do it?

00:36:41.540 --> 00:36:43.610
You drag it in.

00:36:45.030 --> 00:36:46.760
Pretty darn simple.

00:36:46.770 --> 00:36:49.210
So now our icon's done too.

00:36:49.270 --> 00:36:51.260
So we've got our front,
we've got our back,

00:36:51.270 --> 00:36:53.720
we've got our default image,
we've set our attributes,

00:36:53.720 --> 00:36:56.260
we've got our widget icon.

00:36:56.930 --> 00:36:58.160
Is that it?

00:36:58.190 --> 00:36:59.910
I think it is.

00:37:00.220 --> 00:37:02.940
Let's run our widget.

00:37:02.940 --> 00:37:06.980
So everybody who's following along,
on the count of three,

00:37:06.980 --> 00:37:08.100
let's run our widget.

00:37:08.150 --> 00:37:11.180
One, two, three.

00:37:11.250 --> 00:37:14.620
Click run and voila.

00:37:14.620 --> 00:37:15.610
You should be seeing what I'm seeing.

00:37:15.740 --> 00:37:17.120
There we go.

00:37:17.120 --> 00:37:18.580
Everybody?

00:37:18.580 --> 00:37:18.640
Yeah?

00:37:18.640 --> 00:37:20.560
All right, cool.

00:37:20.560 --> 00:37:22.510
Back

00:37:23.290 --> 00:37:24.420
All right, thanks, awesome.

00:37:24.480 --> 00:37:25.090
Very cool.

00:37:25.100 --> 00:37:27.200
Hopefully you're all following
along and got the same results.

00:37:27.200 --> 00:37:30.350
And Max has shown you how easy
it is to start with a template,

00:37:30.350 --> 00:37:33.230
add some custom art to it,
change up the appearance,

00:37:33.230 --> 00:37:36.200
and create something that's
really your own widget.

00:37:36.200 --> 00:37:38.540
Let's look on to our second part,
which will be part two,

00:37:38.610 --> 00:37:40.200
and that's working with the code.

00:37:40.200 --> 00:37:42.870
Now,
if you're not in Dashboard at the moment

00:37:42.920 --> 00:37:47.250
that the countdown timer hits zero,
you're not going to realize it hit zero,

00:37:47.370 --> 00:37:48.200
unless you happen to
be living in Dashboard,

00:37:48.200 --> 00:37:50.150
which really is not the intent
and purpose of Dashboard.

00:37:50.220 --> 00:37:52.200
It's something that moves in and out.

00:37:52.200 --> 00:37:54.310
So we'd actually like to take and
add some additional functionality,

00:37:54.310 --> 00:37:57.960
so it'll actually give us some
visible notification that our

00:37:57.980 --> 00:38:00.160
Dashcode lab is just about to begin.

00:38:00.260 --> 00:38:04.200
So we're going to do that by adding some
code to the target event when it runs.

00:38:04.200 --> 00:38:07.380
And we're going to use Quartz
Composer to actually add some cool

00:38:07.380 --> 00:38:09.200
graphic effects to this as well.

00:38:09.200 --> 00:38:11.280
And then, of course,
any time you're working with code,

00:38:11.280 --> 00:38:13.200
you're probably going to
have to test and debug.

00:38:13.200 --> 00:38:16.200
And so to do that,
I would like to invite another coworker,

00:38:16.200 --> 00:38:20.400
another member of the Dashcode team,
Han-Ming Ong, and he's going to walk

00:38:20.400 --> 00:38:21.820
you through part two.

00:38:22.110 --> 00:38:27.200
Hi, my name is Han-Minng Ong,
an engineer in the Dashcode team.

00:38:27.290 --> 00:38:30.880
So, in this part of the hands-on,
we're going to take what

00:38:30.880 --> 00:38:34.410
Max has done visually,
add more customizations to it, coding,

00:38:34.410 --> 00:38:36.630
to see if we can make
it more interesting.

00:38:36.920 --> 00:38:38.630
Let's get started.

00:38:39.500 --> 00:38:43.400
To do that actually,
we're going to open up milestone two.

00:38:43.450 --> 00:38:47.590
This is because the project we're going
to give you has additional resources

00:38:47.590 --> 00:38:52.400
in there and some code that we've
added in is currently commented out.

00:38:52.420 --> 00:38:56.030
So essentially,
you can save away what Max has done

00:38:56.090 --> 00:38:58.400
or I'm just going to throw it away.

00:39:04.220 --> 00:39:05.430
All right.

00:39:05.570 --> 00:39:07.790
So let's go to your sample code.

00:39:08.060 --> 00:39:10.560
Now, I'm going to go slow because
there are people following.

00:39:10.560 --> 00:39:14.750
And just for the benefit,
I want to be clear.

00:39:15.310 --> 00:39:19.610
So, close milestone one,
twiddle open milestone two,

00:39:19.610 --> 00:39:22.950
and you should see
Dashcode Lab Widget Proj.

00:39:23.070 --> 00:39:24.730
Double click on it.

00:39:26.570 --> 00:39:28.860
Okay, visually this is what Max has done.

00:39:28.920 --> 00:39:30.500
For those who are following,
are you with me?

00:39:30.580 --> 00:39:33.460
Good.

00:39:33.500 --> 00:39:33.500
Thank you.

00:39:35.250 --> 00:39:37.640
So first thing I want to do is,
and this is important,

00:39:37.640 --> 00:39:39.820
like Christian has said,
when you have a new widget,

00:39:39.820 --> 00:39:42.280
you want to customize
the widget identifier.

00:39:42.300 --> 00:39:46.390
Now, this is not really a new widget,
but I want to do it because I can.

00:39:46.690 --> 00:39:51.060
So go to your Attributes view by
clicking Attributes in the Navigator,

00:39:51.060 --> 00:39:55.200
and go to your widget identifier, okay?

00:39:55.200 --> 00:39:59.200
Give me a second.

00:40:02.210 --> 00:40:04.070
Everyone uses the Borac, right?

00:40:04.130 --> 00:40:10.730
Right, I'm going to change it to
Dashcode Lab Part Deux.

00:40:17.170 --> 00:40:18.740
For those who learn
English from the 90 movies,

00:40:18.740 --> 00:40:23.100
you know Pad Deux, especially in English,
means second version.

00:40:23.170 --> 00:40:27.270
So I'm going to change it to version two.

00:40:28.730 --> 00:40:31.710
So with that out of the way,
what's important now is I want

00:40:31.710 --> 00:40:35.670
your eyes to scroll down to the
middle part of the Attributes view,

00:40:35.670 --> 00:40:40.580
where it says "Properties slice".
Now Max has already set the target

00:40:40.730 --> 00:40:45.820
to be five minutes before lab hour,
and he has left the rest as default,

00:40:45.820 --> 00:40:48.700
which means it's going to stop at zero,
the timer.

00:40:48.740 --> 00:40:50.420
If you scroll your eyes
to the right of it,

00:40:50.420 --> 00:40:53.560
you'll see a little checkbox that says
"Do Action". We're going to check that.

00:40:53.700 --> 00:40:57.450
When you check that, what that means is
besides stopping at zero,

00:40:57.450 --> 00:40:59.460
the widget is going to do something.

00:40:59.700 --> 00:41:03.660
And that something is the
JavaScript expression in the text field.

00:41:03.910 --> 00:41:06.600
Right now it says it's an alert.

00:41:06.700 --> 00:41:09.700
So let's do it together.

00:41:09.700 --> 00:41:14.700
I'm going to zoom in for you.

00:41:15.260 --> 00:41:16.690
Check that.

00:41:19.030 --> 00:41:21.420
Click in to select that.

00:41:21.710 --> 00:41:26.790
Now as part of this sample code here,
we have given you some codes in there.

00:41:27.000 --> 00:41:29.870
And one of the codes is
a function called GoLab.

00:41:29.890 --> 00:41:32.910
So let's type it in together.

00:41:34.290 --> 00:41:43.120
Lowercase g, O, uppercase L, A, B,
open parenthesis, close parenthesis.

00:41:43.190 --> 00:41:44.950
Those who are following?

00:41:47.210 --> 00:41:50.110
Say return.

00:41:50.230 --> 00:41:53.000
Okay,
so let's look at what the function does.

00:41:53.030 --> 00:41:57.080
And to do that,
we're gonna go to the View toolbar item.

00:41:57.250 --> 00:42:00.640
Now, we are always going to the ViewTubar
item here in this hands-on,

00:42:00.640 --> 00:42:03.790
but those who know what

00:42:04.150 --> 00:42:08.370
Keyboard shortcut is,
you can just do it by yourself.

00:42:08.450 --> 00:42:14.240
So, this View toolbar item, select files,
and I want you to select

00:42:14.240 --> 00:42:19.100
the main JavaScript file,
which is DashcodeLab.js.

00:42:22.970 --> 00:42:25.590
Okay,
so the source code view is now showing.

00:42:25.830 --> 00:42:28.000
Just like Xcode,
we have a function pop up for you,

00:42:28.000 --> 00:42:29.740
which is the second pop up.

00:42:29.810 --> 00:42:31.600
I want you to click on it.

00:42:32.650 --> 00:42:34.560
Okay?

00:42:35.010 --> 00:42:37.740
Now, you should be able to find
GoLab at the bottom of it.

00:42:37.800 --> 00:42:41.900
If you option click on it,
you'll be sorted in alphabetical order.

00:42:41.930 --> 00:42:44.480
The default is the
positional order in the file.

00:42:44.640 --> 00:42:46.870
So I'm going to go to GoLab.

00:42:48.870 --> 00:42:52.150
I'm going to resize it so I can show
it to you on the screen because the

00:42:52.240 --> 00:42:54.500
font size is obviously bigger here.

00:42:54.550 --> 00:42:59.990
And please uncomment the
first chunk of the code.

00:43:02.860 --> 00:43:06.870
While I briefly explain what this does,
what it is doing is looking

00:43:06.970 --> 00:43:10.960
for the additional resources
that we added to this project,

00:43:11.060 --> 00:43:14.140
which is invite.html,
and once it finds it,

00:43:14.170 --> 00:43:17.790
it uses the widget.openURL
function to open it.

00:43:17.800 --> 00:43:22.080
And I left a little comment in there
to remind all of us who are following

00:43:22.180 --> 00:43:26.630
that when you open an external file,
you need to turn on the file access.

00:43:27.280 --> 00:43:27.500
Okay?

00:43:27.780 --> 00:43:32.730
So, it's a meta information,
so we do it in the attributes view.

00:43:32.790 --> 00:43:39.080
Let's go back to the attributes view by
selecting attributes in the navigator.

00:43:40.140 --> 00:43:46.940
Now this time go to the Network/Disk
Access Slides and see the checkbox.

00:43:47.440 --> 00:43:48.550
Allow external file access.

00:43:48.620 --> 00:43:49.300
Now this is important.

00:43:49.300 --> 00:43:52.790
If you don't check that,
you will not see the

00:43:52.800 --> 00:43:56.120
HTML coming up as a reminder.

00:43:56.120 --> 00:43:59.440
So let's go ahead and I'll check that.

00:43:59.440 --> 00:44:00.220
Oops.

00:44:00.870 --> 00:44:02.590
There we go.

00:44:02.710 --> 00:44:04.440
Okay, we're all set actually.

00:44:04.520 --> 00:44:07.790
But if you were to run it now,
nothing will probably happen because

00:44:07.830 --> 00:44:10.300
the lab is an hour and a half from now.

00:44:10.380 --> 00:44:12.040
You can set the target date to test it.

00:44:12.040 --> 00:44:14.750
You can set the target date
to be 10 seconds from now,

00:44:14.750 --> 00:44:18.060
run it, and then wait 10 seconds
for something to happen.

00:44:18.120 --> 00:44:21.150
But we're going to do it in
another way that's probably

00:44:21.160 --> 00:44:23.220
easier in your development cycle.

00:44:23.280 --> 00:44:24.840
Okay, let's do it together.

00:44:25.050 --> 00:44:28.190
To do that, let's go back to the front.

00:44:29.930 --> 00:44:32.740
Let's resize it a little.

00:44:32.740 --> 00:44:35.900
We're going to add a
test button in there.

00:44:36.050 --> 00:44:37.840
Okay,
now where do we get the button from?

00:44:38.100 --> 00:44:38.880
The library.

00:44:39.520 --> 00:44:44.290
So go to your toolbar, open up library,

00:44:45.880 --> 00:44:47.380
Max has already explained
what this is about,

00:44:47.380 --> 00:44:49.680
so I'm just going to dive right in.

00:44:49.760 --> 00:44:55.180
Make sure the front is twiddled open
and select the buttons subcategory.

00:44:55.240 --> 00:44:57.670
See a series of buttons here.

00:44:57.740 --> 00:45:00.130
I'm just going to select the front.

00:45:00.310 --> 00:45:01.860
Losange here.

00:45:01.910 --> 00:45:06.530
Drag it over to the canvas and
drop it into any open space.

00:45:06.700 --> 00:45:09.190
So this is good.

00:45:09.710 --> 00:45:12.270
Because this is just a test button,
so I'm just going to leave

00:45:12.270 --> 00:45:14.270
the appearance as it is.

00:45:14.370 --> 00:45:18.680
But I'm going to change
the label to test.

00:45:20.930 --> 00:45:23.860
Those who are following,
are you with me at this point?

00:45:23.860 --> 00:45:24.660
Excellent.

00:45:24.680 --> 00:45:26.060
So we have a test button.

00:45:26.090 --> 00:45:27.800
We have a GoLab function.

00:45:27.820 --> 00:45:28.950
What do we do?

00:45:28.970 --> 00:45:30.940
We hook the behavior up.

00:45:30.950 --> 00:45:32.730
And to do that,

00:45:33.090 --> 00:45:34.790
Let's go to the Inspector Behavior.

00:45:36.070 --> 00:45:38.180
Behavior Inspector.

00:45:42.040 --> 00:45:43.500
The movies taught me that.

00:45:43.590 --> 00:45:45.200
Let's see.

00:45:45.260 --> 00:45:48.140
All right,
this is the last button right here.

00:45:48.480 --> 00:45:53.510
And the onclick event
is selected by default,

00:45:53.510 --> 00:45:57.740
so we're going to double click
into that to set the handler.

00:45:57.940 --> 00:45:59.530
Let's do that.

00:46:00.590 --> 00:46:03.280
And we know that function is Golab,
so it auto completes.

00:46:03.290 --> 00:46:06.530
So just type GO and you should see Golab.

00:46:06.560 --> 00:46:07.980
Hit return.

00:46:08.500 --> 00:46:10.840
You know that it successfully
hooked up when you know,

00:46:10.850 --> 00:46:14.990
unclick the event, name becomes bold.

00:46:15.270 --> 00:46:17.540
Okay,
so we are actually ready to test it.

00:46:17.570 --> 00:46:19.090
Let's run it.

00:46:19.160 --> 00:46:21.890
I'm going to close this, make more space.

00:46:22.050 --> 00:46:24.410
Go to your toolbar item, hit run.

00:46:25.740 --> 00:46:26.700
Excellent.

00:46:26.880 --> 00:46:30.960
Those who are following,
please hit run test with me.

00:46:30.960 --> 00:46:32.610
And there you go.

00:46:34.400 --> 00:46:37.110
So you say, "Dashcode Lab,
the new hotness,

00:46:37.110 --> 00:46:40.400
please come and see us and
ask us questions." Alright,

00:46:40.400 --> 00:46:43.100
so the first part of
the hands-on is done.

00:46:43.170 --> 00:46:45.020
Let's see if we can
add more pizzazz to it,

00:46:45.120 --> 00:46:45.480
okay?

00:46:45.550 --> 00:46:48.950
Now, you see the bubbles in the HTML?

00:46:49.050 --> 00:46:53.000
Let's see if we can add that to
our widget when it's running.

00:46:53.170 --> 00:46:54.590
Okay, I'm going to close that, Safari.

00:46:54.650 --> 00:46:57.000
We don't need that anymore.

00:46:57.310 --> 00:46:58.980
Stop the widget.

00:47:00.900 --> 00:47:04.620
Okay, now to do that we're going to
make use of Quotes Composition,

00:47:04.630 --> 00:47:08.730
that gives out the bubble.

00:47:08.760 --> 00:47:11.580
To have a nicer effect,
I'm going to make the widget taller.

00:47:11.610 --> 00:47:13.480
Okay, so that's what I'm going to do now.

00:47:13.550 --> 00:47:15.960
So go to your front, sorry,
go to your widget,

00:47:16.010 --> 00:47:19.060
by selecting it in the Navigator.

00:47:21.330 --> 00:47:24.220
Open up the inspector.

00:47:24.220 --> 00:47:29.830
And this time, select the matrix tab,
which is the one in the middle.

00:47:30.660 --> 00:47:35.120
I do want some precise measurements
as opposed to Max who is dragging it,

00:47:35.120 --> 00:47:37.840
because I want to have some
effect coming out right.

00:47:37.840 --> 00:47:41.730
So let's make the height to 320.

00:47:45.750 --> 00:47:46.920
Excellent.

00:47:46.920 --> 00:47:51.430
Okay, now I'm going to drag select from
the bottom right so I can select

00:47:51.520 --> 00:47:54.040
everything and bring everything down.

00:47:57.970 --> 00:47:59.900
It gets a bit tricky here, like Max said.

00:47:59.940 --> 00:48:03.740
Make sure you select the
bottom of the beaker.

00:48:03.760 --> 00:48:05.960
Okay, and just drag it down.

00:48:06.450 --> 00:48:11.400
and just make sure it's flushed
with the bottom of the widget.

00:48:11.400 --> 00:48:15.930
Now the close box is a bit off.

00:48:16.980 --> 00:48:18.940
Simply select it.

00:48:21.680 --> 00:48:25.520
and align it to the
top left of the beaker.

00:48:25.610 --> 00:48:29.240
Okay, those who are following,
you got your front set?

00:48:29.300 --> 00:48:30.320
Okay, great.

00:48:30.350 --> 00:48:33.820
Now let's look at the back
to make sure it looks okay.

00:48:34.980 --> 00:48:36.980
Oh, it's a bit off.

00:48:37.420 --> 00:48:38.500
No problem with that.

00:48:38.550 --> 00:48:40.900
This time I'm going to
select from the top right.

00:48:40.960 --> 00:48:41.310
Okay?

00:48:41.610 --> 00:48:43.410
Because it's easier.

00:48:43.660 --> 00:48:47.490
And again, I'm just going to using the
closed box as a guideline,

00:48:47.510 --> 00:48:49.160
just drag it down.

00:48:55.660 --> 00:48:57.220
Let's go to the front.

00:48:57.280 --> 00:49:02.610
OK, now that the widget dimension
is ready for us to drag in the

00:49:02.610 --> 00:49:07.180
Quartz composition bubbles,
go to your sample Quartz.

00:49:09.030 --> 00:49:13.440
And you should see in Milestone 2, a QTZ,
which is the extension for

00:49:13.440 --> 00:49:16.570
the Quartz composition,
called More Bubbles.

00:49:17.590 --> 00:49:24.530
Drag it and drop it into an
empty area on the canvas.

00:49:25.020 --> 00:49:27.280
Now at this point you
can drag and position it,

00:49:27.280 --> 00:49:29.000
but again I want some
precise measurements,

00:49:29.000 --> 00:49:34.240
so I'll go to the inspector by
clicking on the inspector toolbar item.

00:49:34.300 --> 00:49:37.090
The metrics pane should be up there.

00:49:37.980 --> 00:49:41.160
All right,
so please enter these numbers with me.

00:49:41.210 --> 00:49:44.230
The width should be 163.

00:49:46.760 --> 00:49:48.740
and the height, 250.

00:49:48.740 --> 00:49:54.620
Okay, now I want it to be
anchored to the top left,

00:49:54.670 --> 00:49:59.700
so make it zero top, zero left.

00:50:04.620 --> 00:50:08.480
Okay, now as you can see from
the screen up here,

00:50:08.480 --> 00:50:11.600
the course composition is not opaque,
but it's currently opaque.

00:50:11.660 --> 00:50:14.590
But we don't want that because we
want the beaker to show through.

00:50:14.640 --> 00:50:17.580
Now,
to customize some of these attributes,

00:50:17.730 --> 00:50:20.600
you go to the Attributes Inspector.

00:50:21.860 --> 00:50:25.390
Depending on the part that you drag in,

00:50:27.160 --> 00:50:29.100
This part here could be different.

00:50:29.100 --> 00:50:30.600
Okay?

00:50:30.650 --> 00:50:34.180
Right now it is a Quartz composition,
so it's showing the customizable

00:50:34.180 --> 00:50:35.700
attributes for the composition.

00:50:35.760 --> 00:50:38.040
I want you to uncheck isOpake.

00:50:38.300 --> 00:50:42.070
Everybody got that?

00:50:45.390 --> 00:50:46.930
All right.

00:50:47.240 --> 00:50:49.340
So this is what we're going to do.

00:50:49.340 --> 00:50:50.880
When you run the widget,
or when the widget is

00:50:50.880 --> 00:50:53.300
running in Dashboard,
we don't want the bubbles

00:50:53.360 --> 00:50:55.680
to show up because,
you know, it's not the time yet.

00:50:55.790 --> 00:51:01.490
So we actually want to use a CSS key
called visibility to first hide it.

00:51:01.720 --> 00:51:05.460
And then when the time is up,
we will use JavaScript to set the

00:51:05.460 --> 00:51:08.700
visibility of that element to be visible.

00:51:08.800 --> 00:51:09.700
Okay?

00:51:09.700 --> 00:51:15.260
So let's go to the files view and bring
up DashcodeLab.css to set that attribute.

00:51:17.620 --> 00:51:22.810
All right,
select dashcodelab.css in the files view.

00:51:24.250 --> 00:51:29.090
Now just like DashcodeLab.js,
we also have a pop-up to

00:51:29.090 --> 00:51:31.170
help you navigate this file.

00:51:31.230 --> 00:51:33.200
But it is a selector pop-up.

00:51:33.210 --> 00:51:36.200
So I want you to click on the pop-up,
second one,

00:51:36.200 --> 00:51:41.090
at the top of the source code view,
and you'll see a bunch of selectors.

00:51:41.810 --> 00:51:42.670
CSS selectors.

00:51:42.980 --> 00:51:44.410
I want you to navigate
to the bottom of it,

00:51:44.600 --> 00:51:47.390
which says "Pound Composition."

00:51:51.190 --> 00:51:53.020
So another piece of
code we left in there,

00:51:53.020 --> 00:51:55.480
which is currently commented out,
is visibility.

00:51:55.530 --> 00:51:57.840
Those who are familiar with CSS,
probably the majority of you,

00:51:57.840 --> 00:52:03.100
you can just type in visibility
hidden into the composition selector.

00:52:03.160 --> 00:52:06.390
I'm just going to cut and paste,
copy and paste.

00:52:10.460 --> 00:52:15.410
Make sure your cursor is
in between the braces.

00:52:18.120 --> 00:52:19.100
Okay, this is important.

00:52:19.100 --> 00:52:19.900
Everyone got that?

00:52:19.960 --> 00:52:22.520
Those who are following?

00:52:22.600 --> 00:52:24.210
Good.

00:52:24.270 --> 00:52:25.020
All right.

00:52:25.240 --> 00:52:28.290
Now we will go back to the JS file,
the JavaScript file,

00:52:28.400 --> 00:52:32.500
so that we can unhide the course
composition when time is up.

00:52:32.500 --> 00:52:36.210
So again, in your files view, go to JS.

00:52:37.950 --> 00:52:39.590
Google Apps is selected.

00:52:39.590 --> 00:52:42.730
Now, uncomment out the second chunk.

00:52:43.010 --> 00:52:45.620
Now, I'm going to comment out the
first chunk because I've already

00:52:45.620 --> 00:52:49.150
tested that and during testing
I don't need to keep coming up.

00:52:49.250 --> 00:52:51.660
You can do that too.

00:52:51.660 --> 00:52:53.140
So we're actually ready to test.

00:52:53.200 --> 00:52:56.280
So I'm going to run it now.

00:52:56.280 --> 00:52:58.500
Go to the run toolbar item.

00:53:00.480 --> 00:53:01.570
is a widget.

00:53:01.800 --> 00:53:07.400
I'm going to hit test
and see what happens.

00:53:07.400 --> 00:53:12.460
So, now is a great time to introduce one
of the great features of Dashcode,

00:53:12.480 --> 00:53:15.210
which is the integrated
JavaScript debugger.

00:53:15.470 --> 00:53:18.420
You have seen it in Ted Goldstein's demo.

00:53:18.420 --> 00:53:22.930
This JavaScript debugger is in Dashcode,
so you can use it in real time when

00:53:22.930 --> 00:53:26.250
you are running to debug your software.

00:53:26.250 --> 00:53:29.000
So let's see what's going on.

00:53:29.000 --> 00:53:29.000
At the bottom right,

00:53:33.190 --> 00:53:35.120
There's a status toolbar
message that says there's a

00:53:35.120 --> 00:53:37.100
null value exception somewhere.

00:53:37.150 --> 00:53:37.700
Okay?

00:53:37.750 --> 00:53:40.400
Now there are various ways
to find out what happened.

00:53:40.430 --> 00:53:43.100
I'm going to go through a couple of ways.

00:53:43.660 --> 00:53:45.190
First,

00:53:46.360 --> 00:53:48.110
I'm going to go bring up Run Log.

00:53:48.200 --> 00:53:50.740
There are usually messages in the
Run Log that tells you what's going on.

00:53:51.070 --> 00:53:51.880
Okay, go to Run Log.

00:53:51.880 --> 00:53:54.250
Again, you go to the View toolbar item.

00:53:54.330 --> 00:53:55.830
Select Run Log.

00:53:57.170 --> 00:53:57.800
And there you go.

00:53:57.970 --> 00:54:01.140
There's a message there that
says there's a null value

00:54:01.140 --> 00:54:04.140
exception somewhere in line 416.

00:54:04.330 --> 00:54:06.500
So if you select that now,

00:54:07.730 --> 00:54:09.190
He'll bring up that line.

00:54:09.270 --> 00:54:12.370
It's kind of hard to see,
but it's a gray line up there.

00:54:12.670 --> 00:54:15.000
OK, from code inspection,
we're kind of expecting

00:54:15.000 --> 00:54:16.950
that QC might be now.

00:54:17.120 --> 00:54:19.270
So how do we verify that?

00:54:19.690 --> 00:54:22.840
One way is to use the Evaluator.

00:54:22.890 --> 00:54:26.770
The Evaluator is a
JavaScript console that let you

00:54:26.790 --> 00:54:29.400
evaluate the JavaScript runtime.

00:54:29.460 --> 00:54:35.040
And also, it is able to evaluate any
JavaScript expression that you type in.

00:54:35.200 --> 00:54:36.910
Let's take a look at that.

00:54:37.740 --> 00:54:42.760
View menu item, toolbar item,
select Code Evaluator.

00:54:42.790 --> 00:54:47.190
Now because the Code Evaluator shares
a space with the source code view,

00:54:47.190 --> 00:54:48.500
so it takes over.

00:54:48.540 --> 00:54:51.310
But we actually wanted to open in
a separate window so that we can

00:54:51.310 --> 00:54:53.460
look at both at the same time.

00:54:53.500 --> 00:54:58.110
I want you to click on the
Open in Separate Window button

00:54:58.200 --> 00:54:59.870
at the bottom left.

00:55:02.530 --> 00:55:07.930
Okay,
so you should see Code Evaluator up here.

00:55:07.930 --> 00:55:14.030
Now I'm going to enter,
type in QC just to see what it is.

00:55:14.940 --> 00:55:14.970
QC.

00:55:15.680 --> 00:55:16.960
So indeed it is null.

00:55:17.010 --> 00:55:20.080
So something is not
initialized correctly.

00:55:20.180 --> 00:55:23.270
And what happens if I say qc.style?

00:55:24.290 --> 00:55:27.040
We see we get the same exception back.

00:55:27.100 --> 00:55:28.840
Okay?

00:55:28.920 --> 00:55:32.100
You probably perceive by now
that my acting is really bad,

00:55:32.160 --> 00:55:36.810
so we actually planted
the exception right there.

00:55:36.890 --> 00:55:41.920
So, what we are doing is,
in this line right here,

00:55:44.910 --> 00:55:49.400
We're trying to get
the HTML element by ID.

00:55:49.420 --> 00:55:51.600
And we probably misspelled that.

00:55:51.610 --> 00:55:56.600
Okay, the composition name, the name,
the ID name is called Dash1 right here,

00:55:56.710 --> 00:55:57.980
composition Dash1.

00:55:57.990 --> 00:55:59.550
But,

00:56:00.660 --> 00:56:03.840
From the Navigator,
one way you can find out what the

00:56:03.840 --> 00:56:07.000
name of the ID is from the Navigator.

00:56:07.040 --> 00:56:08.790
Select it now.

00:56:10.260 --> 00:56:12.160
Course composition gets selected.

00:56:12.160 --> 00:56:16.660
And you'll see that the ID name,
most probably, is composition.

00:56:16.660 --> 00:56:20.120
I say most probably because
the navigator tries his best.

00:56:20.140 --> 00:56:22.400
If there's an ID name, it will show you.

00:56:22.670 --> 00:56:26.900
So let's test our hypothesis is if

00:56:27.470 --> 00:56:30.020
Composition name is
really called Composition,

00:56:30.120 --> 00:56:31.600
so I'm going to try it here.

00:56:31.730 --> 00:56:33.670
Document.

00:56:34.480 --> 00:56:37.510
Dot, Get, Element.

00:56:37.510 --> 00:56:40.350
Those who are following,
please type in with me.

00:56:40.720 --> 00:56:43.220
And you will see that it
actually auto-completes as well.

00:56:43.400 --> 00:56:45.390
So hit the escape key.

00:56:45.390 --> 00:56:46.850
Get element by ID.

00:56:47.210 --> 00:56:48.400
There you go.

00:56:48.530 --> 00:56:51.670
And we'll just enter composition.

00:56:53.200 --> 00:56:56.280
So it allows me to play with it,
to play with the runtime to see whether

00:56:56.290 --> 00:56:57.700
I'm doing things correctly or not.

00:56:57.710 --> 00:57:01.900
If I hit return now, indeed it is a valid
JavaScript runtime object.

00:57:02.860 --> 00:57:03.400
Okay.

00:57:04.940 --> 00:57:10.780
So I'm going to close the evaluator,
stop the widget,

00:57:10.780 --> 00:57:13.980
and change the name to Composition.

00:57:14.830 --> 00:57:17.700
Okay, now we are really ready.

00:57:17.700 --> 00:57:22.370
So, let's hit run in the toolbar.

00:57:23.920 --> 00:57:25.800
Widget comes up.

00:57:25.800 --> 00:57:28.800
Again, on the count of 1, 2, 3,
we'll hit test together.

00:57:28.800 --> 00:57:30.800
1, 2, 3.

00:57:30.800 --> 00:57:32.800
Wait for it.

00:57:32.800 --> 00:57:36.270
Bubbles.

00:57:41.100 --> 00:57:42.100
We're almost done.

00:57:42.100 --> 00:57:45.170
We're almost done with this hands-on.

00:57:45.560 --> 00:57:47.080
Right now,
I just want you to clean up with

00:57:47.130 --> 00:57:50.370
me so that we can deploy it.

00:57:50.480 --> 00:57:54.700
So go to your GoLab function,
uncomment out the first chunk so

00:57:54.750 --> 00:57:56.200
that it can have both effects.

00:57:56.420 --> 00:57:59.740
Save it.

00:57:59.800 --> 00:58:02.220
At this point,
I'd like to invite Tim up here again

00:58:02.320 --> 00:58:04.200
to finish up with the deployment.

00:58:04.200 --> 00:58:04.200
Thank you.

00:58:07.700 --> 00:58:09.710
Awesome.

00:58:09.920 --> 00:58:10.600
Great job, Han-Min.

00:58:10.600 --> 00:58:11.040
Thank you.

00:58:11.150 --> 00:58:11.700
Very cool.

00:58:11.700 --> 00:58:14.500
So he showed you how easy it was to
add a little bit of JavaScript code

00:58:14.500 --> 00:58:17.840
to add some additional functionality,
took advantage of the great technology

00:58:17.840 --> 00:58:22.350
which is Quartz Composer and show
some very cool graphics in our widget.

00:58:22.600 --> 00:58:24.450
So let's finish up on
our hands-on portion,

00:58:24.450 --> 00:58:25.840
which is deploying a widget.

00:58:25.840 --> 00:58:28.460
So we've got this widget, looks great,
it's awesome,

00:58:28.630 --> 00:58:31.020
but it won't do you much good if
you want to give it out to somebody.

00:58:31.150 --> 00:58:34.240
Or it won't do you much good if you quit
Dashcode because the widget goes away.

00:58:34.240 --> 00:58:37.500
So we actually have built-in
functionality to deploy your widget.

00:58:37.500 --> 00:58:39.870
And there are really in
essence two choices when it

00:58:39.870 --> 00:58:41.400
comes to deploying a widget.

00:58:41.400 --> 00:58:43.660
Whether it's going to be something
I'm going to build for myself or

00:58:43.660 --> 00:58:46.350
whether it's going to be something
I want to give out to my friends or

00:58:46.420 --> 00:58:51.200
maybe even submit it to Apple to put
up on the Dashboard's download site.

00:58:51.200 --> 00:58:53.450
So we're going to go and we're
going to walk through the

00:58:53.450 --> 00:58:54.810
hands-on deploying a widget.

00:58:54.830 --> 00:58:55.820
Let's back up one.

00:58:55.820 --> 00:58:57.820
And let's go over to the demo machine.

00:58:57.820 --> 00:59:02.980
A demo, please.

00:59:06.260 --> 00:59:06.900
All right, great.

00:59:06.960 --> 00:59:08.900
So I'm going to clean up one last thing.

00:59:08.900 --> 00:59:10.770
I'm going to delete,
and this is all hands-on,

00:59:10.770 --> 00:59:11.520
so follow along.

00:59:11.520 --> 00:59:13.280
We're going to delete the test button.

00:59:13.360 --> 00:59:14.420
We don't want that in our widget.

00:59:14.420 --> 00:59:17.350
And then we're going to go
ahead and save the widget,

00:59:17.390 --> 00:59:19.960
so I can go to the
File menu and choose Save.

00:59:20.880 --> 00:59:23.080
Now,
you'll also notice under the File menu,

00:59:23.080 --> 00:59:25.480
there are two deploy choices here.

00:59:25.480 --> 00:59:28.020
Now, remember, I mentioned that there's
two choices to make,

00:59:28.160 --> 00:59:29.230
that you have a choice to make.

00:59:29.250 --> 00:59:32.350
And the first one is if I want to
deploy this widget to give out to

00:59:32.360 --> 00:59:36.460
somebody else or to submit up to Apple,
I would choose Deploy Widget.

00:59:36.480 --> 00:59:39.410
And it would give me a
simple Save As panel,

00:59:39.410 --> 00:59:43.350
and I can name my widget and
decide where I want to save it.

00:59:43.410 --> 00:59:47.480
It creates a stripped out,
simplified widget for you.

00:59:47.480 --> 00:59:49.490
As you notice,
we're actually editing a document.

00:59:49.500 --> 00:59:50.860
It's not really a widget per se.

00:59:50.880 --> 00:59:52.250
Until we deploy it.

00:59:52.280 --> 00:59:55.600
And when we deploy it,
it takes out all of the metadata,

00:59:55.600 --> 00:59:59.910
removes all the additional code we
put into it while we're designing it,

00:59:59.910 --> 01:00:01.850
and saves out a copy for you.

01:00:01.860 --> 01:00:04.710
And the one we're going to do today,
though, is we just want to build

01:00:04.710 --> 01:00:06.560
this widget for ourselves,
deploy it.

01:00:06.610 --> 01:00:07.990
So we're going to go ahead and choose.

01:00:07.990 --> 01:00:08.530
So go with me.

01:00:08.530 --> 01:00:10.230
We'll choose Deploy Widget to Dashboard.

01:00:11.650 --> 01:00:14.750
and when we do that you see
that we get to name our widget.

01:00:14.750 --> 01:00:17.600
I'll go ahead with a Dashcode lab.widget,
that's fine.

01:00:17.600 --> 01:00:20.730
And you'll notice that there's
a little bit of text here.

01:00:20.730 --> 01:00:24.460
And what it's telling me is that we
actually look through your widget and we

01:00:24.460 --> 01:00:26.600
look to see what technology you're using.

01:00:26.600 --> 01:00:29.280
And we know that there are some
minimum versions that are necessary

01:00:29.280 --> 01:00:30.590
for that technology to run.

01:00:30.600 --> 01:00:33.600
So for instance,
we added a Quartz Composer part.

01:00:33.600 --> 01:00:37.600
Now Quartz Composer actually
shipped with 10.4.7 as a web plugin.

01:00:37.600 --> 01:00:41.600
So you can't run this widget
on anything earlier than Tiger.

01:00:41.600 --> 01:00:43.590
And that's a key point here is
that you can actually build widgets

01:00:43.590 --> 01:00:45.600
that run earlier than Leopard.

01:00:45.600 --> 01:00:47.580
And if it didn't have
the Quartz Composer,

01:00:47.690 --> 01:00:50.950
I probably would have got a pop-up here
that would let me choose between 10.4.0

01:00:50.950 --> 01:00:53.600
or 10.4.3 depending on the technology.

01:00:53.600 --> 01:00:56.600
So we can build in some backwards
compatibility into our widget.

01:00:56.600 --> 01:00:58.590
Let's go ahead and click deploy.

01:00:58.770 --> 01:01:01.760
And what you're going to see is we're
going to actually switch into our

01:01:01.890 --> 01:01:05.600
install process that would happen as
if you double-clicked it in the finder.

01:01:05.600 --> 01:01:07.600
And it's asking me,
do you want to install that?

01:01:07.600 --> 01:01:09.600
I'm going to go ahead and click install.

01:01:09.600 --> 01:01:13.600
It's going to take me into Dashboard
and it's brought up my little sandbox.

01:01:13.600 --> 01:01:14.580
I can say, yeah, I want to keep this.

01:01:14.640 --> 01:01:15.540
I'm going to click keep.

01:01:15.660 --> 01:01:16.600
And there you have it.

01:01:16.600 --> 01:01:18.580
You have your finished
widget should be running.

01:01:18.650 --> 01:01:20.600
Has everybody got their widget?

01:01:20.600 --> 01:01:21.600
All right, well done.

01:01:21.600 --> 01:01:22.600
Cool.

01:01:22.600 --> 01:01:23.480
So there is your widget.

01:01:23.480 --> 01:01:24.600
Let's go ahead and leave that.

01:01:24.600 --> 01:01:26.600
And back to slides, please.

01:01:32.610 --> 01:01:34.510
Okay.

01:01:34.640 --> 01:01:38.400
Now, what we've shown you is terrific
for starting out with new projects.

01:01:38.400 --> 01:01:41.720
Well,
no one's had Dashcode until this session.

01:01:41.720 --> 01:01:43.660
So you've obviously been
writing your own widgets.

01:01:43.710 --> 01:01:47.140
What can we bring to the table for
you with your existing widgets?

01:01:47.140 --> 01:01:50.740
And I'm going to give you a quick
demo about this in just a minute.

01:01:50.840 --> 01:01:53.480
But it's great for non-Dashcode widgets,
for something that

01:01:53.480 --> 01:01:54.700
you've already started.

01:01:54.700 --> 01:01:58.800
It allows you to take
advantage of much of Dashcode.

01:01:58.800 --> 01:01:59.780
So you can write your source code.

01:01:59.920 --> 01:02:03.120
You can debug the widget,
change all the settings that

01:02:03.120 --> 01:02:04.680
are not graphically related.

01:02:04.680 --> 01:02:05.760
And we'll talk about that in a minute.

01:02:05.760 --> 01:02:07.770
And there's no automatic code generation.

01:02:07.770 --> 01:02:09.310
So we're not changing your code.

01:02:09.310 --> 01:02:10.090
It's your code.

01:02:10.090 --> 01:02:10.860
It's your HTML.

01:02:10.860 --> 01:02:11.600
It's your CSS.

01:02:11.600 --> 01:02:12.710
It's your JavaScript.

01:02:12.710 --> 01:02:14.120
It's up to you to change.

01:02:14.120 --> 01:02:16.380
And to do that,
I'd like to go ahead and give you a demo.

01:02:16.380 --> 01:02:17.630
So this is hands-off.

01:02:17.630 --> 01:02:19.600
It's just a follow-along up here.

01:02:19.600 --> 01:02:20.780
And I may move this.

01:02:20.780 --> 01:02:21.880
I threw this fairly quickly.

01:02:21.880 --> 01:02:22.940
So let's go ahead.

01:02:22.960 --> 01:02:24.660
Back to the demo machine, please.

01:02:27.420 --> 01:02:29.290
Oh, I knew I do.

01:02:29.320 --> 01:02:33.460
I do not speak Dvorak,
so my keys won't work for me,

01:02:33.460 --> 01:02:34.780
so I'll have to switch it back to US.

01:02:34.780 --> 01:02:37.400
I was wondering why Command-W was
bringing up the wrong thing.

01:02:37.420 --> 01:02:40.540
All right,
I'm going to drag in my demo here.

01:02:40.540 --> 01:02:45.980
I'm going to simply take a Voices widget,
and this is a shipping Dashboard sample.

01:02:45.980 --> 01:02:49.850
And I'm going to drag that
right on top of Dashcode.

01:02:49.850 --> 01:02:51.690
And you'll notice that it opens up.

01:02:51.770 --> 01:02:54.460
I've got the widgets showing here.

01:02:54.460 --> 01:02:57.560
And I'm just going to go ahead and
run this widget to see what it does.

01:02:57.720 --> 01:02:59.780
So let's go ahead and run.

01:03:00.350 --> 01:03:02.170
Welcome to Voices.

01:03:02.240 --> 01:03:04.180
Okay, it simply speaks a voice.

01:03:04.180 --> 01:03:06.460
It's got a little text area here
for me to type something in,

01:03:06.480 --> 01:03:07.970
so I can type in hello.

01:03:08.040 --> 01:03:11.690
I can pick another voice and, oh,
I always liked the hysterical,

01:03:11.690 --> 01:03:12.650
it's kind of funny.

01:03:12.750 --> 01:03:14.160
Let's pick this one.

01:03:17.520 --> 01:03:20.740
All right,
then I can speak whatever I've typed in.

01:03:20.770 --> 01:03:21.240
There you go.

01:03:21.240 --> 01:03:23.980
So it's just an exercise
of the various voices.

01:03:24.080 --> 01:03:27.530
Now, when I look at the list of voices,
I notice that it's missing a voice.

01:03:27.590 --> 01:03:30.980
Leopardchips with a very cool
voice in his name's Alex.

01:03:31.050 --> 01:03:33.820
So let's go ahead and add
that voice to this widget.

01:03:33.820 --> 01:03:35.130
So I'm going to stop.

01:03:35.350 --> 01:03:37.220
And I'm going to take
advantage of our search,

01:03:37.220 --> 01:03:39.240
our project-wide search,
our spotlight functionality

01:03:39.240 --> 01:03:40.570
inside of Dashcode.

01:03:40.720 --> 01:03:43.900
And I know that that element that
pops that up is a select element.

01:03:43.900 --> 01:03:46.010
So I'm going to go ahead
and just type select.

01:03:46.130 --> 01:03:48.080
And you'll see that the
view changes out over here.

01:03:48.080 --> 01:03:50.560
And it shows us the objects
that match that select.

01:03:50.560 --> 01:03:51.960
So it finds that for me.

01:03:52.050 --> 01:03:54.630
And it also shows me
that it's in my HTML.

01:03:54.740 --> 01:03:58.220
And sure enough,
in my HTML is the list of voices here.

01:03:58.370 --> 01:04:00.610
So I'm going to copy the second one.

01:04:00.930 --> 01:04:02.950
And let's paste it down here.

01:04:02.990 --> 01:04:04.540
And I'm going to call it Alex.

01:04:04.550 --> 01:04:05.980
That's the name of the voice.

01:04:05.980 --> 01:04:07.440
And it's just as simple as that.

01:04:07.440 --> 01:04:08.680
I'm going to go ahead and hit Run.

01:04:08.720 --> 01:04:10.280
Now listen to the quality of the voice.

01:04:10.280 --> 01:04:11.550
Welcome to voices.

01:04:11.600 --> 01:04:12.290
Well, not yet.

01:04:12.350 --> 01:04:13.960
When we switch it, we'll hear the voice.

01:04:13.960 --> 01:04:15.310
So I'm going to switch to Alex.

01:04:15.350 --> 01:04:16.070
Hi.

01:04:17.830 --> 01:04:18.800
I'm Alex.

01:04:18.900 --> 01:04:20.980
That's a much higher quality voice.

01:04:20.980 --> 01:04:23.450
Now, I could go ahead and type in
some text here and hit speak,

01:04:23.450 --> 01:04:24.880
but that would be way too simple.

01:04:24.880 --> 01:04:26.150
So let's do it the geek way.

01:04:26.280 --> 01:04:29.180
I'm going to go and actually
use the evaluator as well.

01:04:29.180 --> 01:04:32.080
And I'm going to talk to
this widget as it's running.

01:04:32.080 --> 01:04:34.980
And I'm going to go in
here and type document,

01:04:34.980 --> 01:04:37.900
get element, and hit my code completion.

01:04:37.900 --> 01:04:42.060
And I know that it's text input
is the name of that text area.

01:04:42.060 --> 01:04:45.280
And I'm going to simply
change the inner text.

01:04:45.280 --> 01:04:50.260
It's equal to, boy, I hope this works.

01:04:50.260 --> 01:04:51.360
Okay.

01:04:51.360 --> 01:04:54.340
And now you'll notice when I hit enter,
watch this area right here.

01:04:54.340 --> 01:04:57.750
I just inserted that text by
talking directly to that DOM element

01:04:57.760 --> 01:04:59.420
and changing its inner text.

01:04:59.420 --> 01:05:01.970
Now, I could click the speak button,
but again, that wouldn't be any fun.

01:05:01.980 --> 01:05:04.420
So let's go ahead and
type in the function.

01:05:04.420 --> 01:05:07.980
I happen to know that there is a function
in here in the widget called speak.

01:05:08.080 --> 01:05:08.740
And when I hit speak.

01:05:08.740 --> 01:05:12.660
Boy, I hope this works.

01:05:12.670 --> 01:05:13.120
Okay.

01:05:13.120 --> 01:05:13.400
Okay.

01:05:13.400 --> 01:05:15.220
So I spoke that easily enough.

01:05:15.220 --> 01:05:17.780
Now,
let's actually go back to the source of

01:05:17.780 --> 01:05:20.200
this and look at that speak function.

01:05:20.200 --> 01:05:22.240
And I'll find it here.

01:05:22.710 --> 01:05:23.880
And I'll put a breakpoint.

01:05:23.900 --> 01:05:26.990
Now, I don't need to go back and say,
let's debug this widget.

01:05:27.080 --> 01:05:28.800
In essence,
we're always debugging the widget.

01:05:28.800 --> 01:05:32.160
We can take a look at its runtime,
we can set breakpoints,

01:05:32.160 --> 01:05:32.890
and go from there.

01:05:32.960 --> 01:05:35.780
So I'm going to go ahead and go
back here and click on the speak.

01:05:35.820 --> 01:05:37.340
And you see it breaks.

01:05:37.390 --> 01:05:40.410
And it stops on our function here,
a speak.

01:05:40.420 --> 01:05:43.650
Up here in the top portion is
our stack frames and variables.

01:05:43.740 --> 01:05:46.600
If we were in a stack frame of multiple,
in essence, stack frame,

01:05:46.600 --> 01:05:48.090
we'd actually have additional slices.

01:05:48.090 --> 01:05:50.310
So I can see the
variables for each stack.

01:05:50.430 --> 01:05:52.680
I can also step across this for a minute.

01:05:52.680 --> 01:05:55.940
Let's step over, step over,
and we'll get right down to the code

01:05:55.940 --> 01:05:57.900
that's actually going to try to speak.

01:05:57.980 --> 01:06:01.360
And what it's actually executing is I'm
an AppleScript guy for quite a while,

01:06:01.360 --> 01:06:03.750
so we're going to run a little
bit of AppleScript here.

01:06:03.750 --> 01:06:06.230
And it's going to call and
pass in this tech to speak.

01:06:06.280 --> 01:06:09.240
So if I actually stop and hold there,
we've got data tips.

01:06:09.240 --> 01:06:11.860
So it will show you the
value of that variable.

01:06:11.860 --> 01:06:15.000
And we can also go up here
and find the variable there.

01:06:15.000 --> 01:06:17.580
But if I don't know exactly
where it's located in this frame,

01:06:17.580 --> 01:06:18.440
I like to go up here and
find the variable there.

01:06:18.440 --> 01:06:19.700
So I'll actually go
ahead and just type text.

01:06:19.700 --> 01:06:21.740
And we'll search through your variables.

01:06:21.740 --> 01:06:24.180
And we'll find the variable
that you're interested in.

01:06:24.180 --> 01:06:27.290
And if you double click it,
it'll actually go find where it's

01:06:27.290 --> 01:06:29.310
in the outline for me and select it.

01:06:29.320 --> 01:06:32.400
So then I can just simply change
the value by clicking here.

01:06:37.200 --> 01:06:38.640
Actually, I think spell.

01:06:38.640 --> 01:06:39.480
Did it work?

01:06:39.560 --> 01:06:39.880
All right.

01:06:39.990 --> 01:06:41.860
And let's go ahead and hit enter on that.

01:06:41.860 --> 01:06:43.040
And you'll see that it changed the value.

01:06:43.040 --> 01:06:45.940
As a matter of fact,
if I go back down here and wait,

01:06:46.000 --> 01:06:48.560
you can see that it actually
changed the value of that variable.

01:06:48.560 --> 01:06:50.620
And I'll go ahead and continue on this.

01:06:50.640 --> 01:06:52.260
Wow.

01:06:52.260 --> 01:06:54.400
It actually did work.

01:06:54.500 --> 01:06:55.440
There you go.

01:06:55.440 --> 01:06:58.900
So it just was able to change the
runtime of that object and execute it.

01:06:59.080 --> 01:06:59.420
All right.

01:06:59.470 --> 01:07:00.940
So that's pretty cool.

01:07:00.940 --> 01:07:03.740
So I've shown you how you can
take your existing widget and just

01:07:03.740 --> 01:07:06.970
using the source code editor and
the debugger and the evaluator,

01:07:07.070 --> 01:07:09.090
you can work with your widget
and continue working on it.

01:07:09.150 --> 01:07:11.450
And you'll notice that
I am editing a widget.

01:07:11.590 --> 01:07:14.840
Now, what if I would like to take
this widget and actually add some

01:07:14.840 --> 01:07:16.680
additional functionality to it?

01:07:16.790 --> 01:07:19.110
So let's go ahead and hide
the source code for a minute.

01:07:19.120 --> 01:07:21.190
I'm going to bring up the library.

01:07:21.460 --> 01:07:25.470
and you'll notice that what I want to do
is I want to add a volume slider to this.

01:07:25.470 --> 01:07:29.150
And I'll drag it down and well,
it's not letting me drop.

01:07:29.150 --> 01:07:31.820
Well, there's a very good reason
why it's not letting me drop.

01:07:31.820 --> 01:07:33.620
You'll notice maybe at
the bottom of this view,

01:07:33.800 --> 01:07:36.020
there's a gray bar with
a little lock icon.

01:07:36.020 --> 01:07:37.790
And you'll also notice
that I can't drag anything.

01:07:37.860 --> 01:07:41.130
I can select it, but everything's locked.

01:07:41.250 --> 01:07:44.680
That's because the Canvas became
a preview in this mode.

01:07:44.680 --> 01:07:46.880
And behind the scenes,
there's been this functionality

01:07:46.880 --> 01:07:48.320
that we call the code generator.

01:07:48.320 --> 01:07:49.790
And I'm going to customize the toolbar.

01:07:49.790 --> 01:07:52.040
And I'm going to add the code
generator up here so you can

01:07:52.040 --> 01:07:53.620
actually see it in action.

01:07:53.780 --> 01:07:57.080
Now, when we open up a widget as
we're editing existing widget,

01:07:57.160 --> 01:07:59.360
you'll see that the
code generator is off.

01:07:59.360 --> 01:08:02.120
We're not changing any
of the sources on view.

01:08:02.120 --> 01:08:04.530
So I'm going to go ahead and say,
all right, now it's time for me to turn

01:08:04.530 --> 01:08:07.730
the code generator on so I can
enable some of this functionality.

01:08:07.730 --> 01:08:09.800
I'll click the start code generator.

01:08:09.800 --> 01:08:11.940
It notices that I have
an existing widget.

01:08:11.940 --> 01:08:14.990
And what it's going to ask me to
do is import that widget into a

01:08:15.050 --> 01:08:17.300
project so that I can work with it.

01:08:17.300 --> 01:08:18.680
So it'll leave your
existing widget alone.

01:08:18.680 --> 01:08:21.040
But it'll copy it into a project
and start working with it.

01:08:21.040 --> 01:08:22.210
So I'm going to click start import.

01:08:22.270 --> 01:08:24.130
And we'll just call it voices.

01:08:24.130 --> 01:08:25.200
That's fine.

01:08:25.200 --> 01:08:26.860
And you'll notice that it
switched over to voices.

01:08:26.890 --> 01:08:27.930
The bar went away.

01:08:27.930 --> 01:08:31.740
And now we're back working as if
we were started from a new project.

01:08:31.740 --> 01:08:34.800
So now I can actually
drag in that slider.

01:08:35.840 --> 01:08:37.800
I can select this existing button.

01:08:37.800 --> 01:08:40.090
Let's move it out of the
way so I have some room.

01:08:40.150 --> 01:08:42.800
I'm going to drag this over.

01:08:42.800 --> 01:08:45.800
And let's add an event to this,
tie up the functionality.

01:08:45.800 --> 01:08:46.800
I'm going to actually create a new one.

01:08:46.800 --> 01:08:48.800
I'm going to show you a different way,
a shortcut.

01:08:48.800 --> 01:08:51.940
If you contextually click on this button,
or the slider,

01:08:51.940 --> 01:08:52.800
you'll notice there's an event.

01:08:52.800 --> 01:08:56.800
So I can choose on change and
say I'm going to change volume.

01:08:56.800 --> 01:08:59.800
That's the name of the
function that I want to create.

01:08:59.890 --> 01:09:03.800
And what it will do is when I click add,
it'll actually add the function for me.

01:09:03.820 --> 01:09:05.800
It takes me right to there,
ready to type the code.

01:09:05.800 --> 01:09:07.800
So I'm going to delete that little bit.

01:09:07.800 --> 01:09:10.100
Go here, drag in my code.

01:09:10.310 --> 01:09:13.000
And again, it's a little bit of
AppleScript that's going to execute.

01:09:13.000 --> 01:09:15.440
It's going to set the volume
output when we run this.

01:09:15.440 --> 01:09:18.000
So let's go ahead and run.

01:09:19.200 --> 01:09:20.430
Sometimes there's a little display.

01:09:20.440 --> 01:09:25.490
I've got my breakpoint,
so let's take that out and run it.

01:09:25.560 --> 01:09:26.410
And here's our widget.

01:09:26.550 --> 01:09:30.300
Now you'll notice up here in the top
right that the volume is now set to zero,

01:09:30.300 --> 01:09:31.410
or it's off.

01:09:31.500 --> 01:09:33.400
And watch as I move the slider.

01:09:33.580 --> 01:09:35.980
You'll see that the
volume is going to change,

01:09:36.020 --> 01:09:36.870
and the volume went up.

01:09:36.970 --> 01:09:39.420
So I'm actually using AppleScript to
change the system volume.

01:09:39.420 --> 01:09:43.350
So now if I type in something,
like hello,

01:09:44.640 --> 01:09:45.900
and speak at a softer volume.

01:09:45.900 --> 01:09:46.860
Let's do it right here.

01:09:47.000 --> 01:09:48.000
Hello.

01:09:48.000 --> 01:09:50.000
If I turn it up louder.

01:09:50.430 --> 01:09:51.000
Hello.

01:09:51.050 --> 01:09:52.000
Alright, there you go.

01:09:52.000 --> 01:09:53.300
It's just that simple.

01:09:53.300 --> 01:09:55.760
So I've shown you how easy it
is to take your existing widget,

01:09:55.760 --> 01:09:57.960
work with it as that,
or import it and start adding

01:09:57.960 --> 01:09:59.840
some additional functionality.

01:09:59.840 --> 01:10:01.680
Come back to slides please.

01:10:06.330 --> 01:10:07.300
We might actually have Q&A.

01:10:07.300 --> 01:10:08.050
We've got five minutes.

01:10:08.050 --> 01:10:08.400
We're close.

01:10:08.780 --> 01:10:11.210
Get ready, Alan.

01:10:11.290 --> 01:10:11.290
All right.

01:10:11.910 --> 01:10:12.890
So what did you learn?

01:10:13.060 --> 01:10:15.660
We learned why you would
want to use Dashcode.

01:10:15.660 --> 01:10:16.580
There's some obvious benefits.

01:10:16.580 --> 01:10:18.840
I don't think if you
stop and think about it,

01:10:18.990 --> 01:10:20.550
adding that part, what it did.

01:10:20.620 --> 01:10:23.450
When I drug in that slider,
it added a div to the HTML,

01:10:23.450 --> 01:10:27.370
it set up the JavaScript function,
I didn't have to worry about going to

01:10:27.370 --> 01:10:31.180
the CSS and placing it where I wanted it,
which is a trial and error process.

01:10:31.180 --> 01:10:33.480
It just really does a
lot of work for you.

01:10:33.480 --> 01:10:35.740
We showed you in our hands-on
how to design a widget,

01:10:35.740 --> 01:10:38.390
make it your own, customize its UI,
we added some additional

01:10:38.400 --> 01:10:41.670
functionality to that widget,
and then we showed you the process

01:10:41.670 --> 01:10:43.160
of how to debug that widget.

01:10:43.160 --> 01:10:44.830
And of course,
we show you that Dashcode works and

01:10:44.830 --> 01:10:46.540
plays nicely with your existing widgets.

01:10:47.930 --> 01:10:48.800
Who to contact?

01:10:48.800 --> 01:10:51.930
Well, Alan Samuel is your contact
at Blucher1@apple.com.

01:10:51.930 --> 01:10:55.030
We recommend if you like to,
there's also other resources and

01:10:55.100 --> 01:10:57.800
samples that you can find at this URL.

01:10:57.800 --> 01:10:59.770
And there's a related session,
which of course you now

01:10:59.770 --> 01:11:00.800
have a countdown timer.

01:11:00.800 --> 01:11:04.480
It's going to tell you when it is,
today at noon, so please come and ask any

01:11:04.480 --> 01:11:06.800
questions or give us any feedback.