# Wwdc2025 209

## Transcript

More Videos

Streaming is available in most browsers,and in the Developer app.

About

Summary

Transcript

Code

Level up your gamesLearn how to make your games shine on the unified gaming platform. We'll give you a map of the technologies you can use to level up your game and further improve your player experience. Get an overview of the fundamental tools essential to build, debug, and profile your game.Chapters0:00 -Intro1:19 -System experience1:39 -Boost performance4:26 -Engage players6:43 -Game technologies7:33 -Start playing9:31 -Play anywhere12:52 -Play how they like14:56 -Graphics22:31 -Next stepsResourcesFunction constants and Framebuffer fetchHuman Interface Guidelines: Designing for gamesRay tracing with Intersection Function BufferHD VideoSD VideoRelated VideosWWDC25Discover Apple-Hosted Background AssetsDiscover Metal 4Engage players with the Apple Games appExplore Metal 4 gamesGet started with Game CenterGo further with Metal 4 gamesWhat’s new in Metal rendering for immersive appsWWDC24Design advanced games for Apple platformsPort advanced games to Apple platforms

Learn how to make your games shine on the unified gaming platform. We'll give you a map of the technologies you can use to level up your game and further improve your player experience. Get an overview of the fundamental tools essential to build, debug, and profile your game.

0:00 -Intro

1:19 -System experience

1:39 -Boost performance

4:26 -Engage players

6:43 -Game technologies

7:33 -Start playing

9:31 -Play anywhere

12:52 -Play how they like

14:56 -Graphics

22:31 -Next steps

Function constants and Framebuffer fetch

Human Interface Guidelines: Designing for games

Ray tracing with Intersection Function Buffer

HD VideoSD Video

HD Video

SD Video

Discover Apple-Hosted Background Assets

Discover Metal 4

Engage players with the Apple Games app

Explore Metal 4 games

Get started with Game Center

Go further with Metal 4 games

What’s new in Metal rendering for immersive apps

Design advanced games for Apple platforms

Port advanced games to Apple platforms

Search this video…Hi, I am Alexey, an engineering manager on the Metal Games Ecosystem team.Your players expect the best possible experience in your games.You can provide that by taking advantage of the ever-improving power and efficiencyof Apple Silicon,and the software that brings it to life.Apple’s SDK provides you with a wide range of tools to create the next generationof games that reach players across the Apple ecosystem.From stunning graphics, to great input and social experiences,it’s easy to bring games to iPhone, iPad, and Macthanks to the unified gaming platform.Over the years, the OS and frameworks that help enable great gaming experienceshave continued to advance.This year there are even more features designed to help you level upyour players’ experience even further.In this talk I will show you how to take advantage of the built-in system featuresthat will boost your game’s performance,walk you through the important game technologiesthat enable players to enjoy your game whenever and wherever they want to,and explain how you can use new graphics features to immerse themin your game’s world, taking full advantage of Apple Silicon.First, I’ll tell you about some powerful system features that you can adoptto enable players to get the most out of their devices while gaming.These include configurable system modesto boost the sustained performance of your game,and social features that increase players engagement with your game,and the visibility your game has across the system.Let’s start with boosting your games performance.Game Mode optimizes system behavior to give your game even more resources.It reduces background activity, so your game gets access to more CPU timeto process complex tasks, like rendering or physics simulation.And Game Mode also improves Bluetooth latency, making input and headphones more responsive.On macOS and iOS, Game Mode is enabled when a playerlaunches the game in full screen.The Game Mode banner will let the player know that it's active.It is simple to make sure your game enables Game Mode.Just add the LSSupportsGameMode key in your game’s info.plist and set it to true.Once enabled, Game Mode gives more system resourcesto your game to improve its performance.It is important to manage them correctly to ensure your players’ experiencewill be consistent across the whole gaming session.To do that you can ask the system to enableSustained Execution Mode for your game.When it is enabled, the system will limit performance to the steady state,right from the game launch.This allows you to quickly identify a level of quality and performanceappropriate for the target device,and you can be confident your players will have a consistent experience.It takes a couple of simple steps to enable Sustained Execution Mode.First add the corresponding entitlement to your game.To do that - enable the capability in the Signing & Capabilities tools within Xcode.Next, login to your Apple Developer Account and include this entitlementin the provisioning profile for your game.Now your game and OS will work together to deliver a smooth gaming experience.Across different devices, Apple Silicon delivers great power efficiencythat allows players to enjoy their favorite games wherever they are.In macOS 26, players will be notified when a game is using significant energywhile running on battery power.They'll have the option of switching to Low Power Mode, now tuned for gaming,enabling them to play longer.And players can also dynamically change the system energy mode while playing,right inside of the Game Overlay without leaving the game.To further improve the experience for your players, you can set your game to respondand adapt to Low Power Mode.The system provides you an API to detect when Low Power Mode is active.Listen for the NSProcessInfoPowerStateDidChange notification.When the Low Power Mode state changes to enabled,you might, for example, optimizethe quality settings to help extend play time even longer.Players across the Unified Gaming Platform have lots of ways to find their friendsand play together with them.And Game Center is at the center of it all.It is Apple's social gaming network that connects players with their friends,so they can see who's playing what, discover new games, and challenge their friends.Your game can add many features from Game Center,including Achievements, Leaderboards, Challenges, and Activities.These features let players keep track of their progress, compete for high scores,and invite their friends to play along.And now Game Center configuration is fully integrated with Xcode.You can create Achievements, setup localizations, and configure Challenges.Any changes you make can be included in code reviews and version control.After you are done with the configuration use the new Game Progress Managerto test it locally before making it available to players.Check out “Get started with Game Center” to learn more about Game Centerand its features.Once your game is integrated with Game Center,it will be automatically discoverable in lots of places across the system.For example, in the brand new Apple Games app!The Games app gives players a brand-new, all-in-one destination for their games.They can launch their games, discover new ones,and have even more fun playing with their friends.It comes pre-installed on Mac, iPad, and iPhone and its features are integratedthroughout the operating system, including widgets, notifications, and the App Store.For example, players can check their ranking in leaderboardsright in the Game Overlay without the need to leave the game.Check out “Engage players with the Apple Games app”to learn more about how getting your game into the Games appcan boost its visibility to players through their friends who are playing.With the system experience designed for gamingyou can unlock your game's full potential.You can achieve consistent and smooth frame rates with system performance featuresand use social features to help you build a community and keep your players engaged.Now let’s talk about how you can elevate your gameand your player's experience even further,using some existing and some brand-new game technologies.The Human Interface Guidelines for games is a great placeto start learning how to provide a great experience specific to Apple platforms.It is a comprehensive set of documentation that serves as a guide on how to bestsupport multiple Apple devices with topics like onboarding players,adapting to different screen sizes and supporting various input methods.A great gaming experience is a combination of thoughtful game designand taking advantage of the technologies that best enable it.It starts the moment players install your game and continues as they progress.And all of that is driven by how they interact with your game.High-end games tend to have larger initial downloads,so the first thing you want to consider,is how you can let players jump into gameplay as soon as possible.For example, here’s My game.It consists of an executable and gigabytes of textures and audio recordingsin the content packages, all of which deliver a rich player experience.It can take a long time to download the game before players can start to play it.I’ve decided to improve this by splitting my game’s content into two parts.Now players only need to download the smaller portion of itthat is required to play the tutorial level.In the meantime the rest of the content is downloaded in the backgroundwhile the player is already having fun in the game.On Apple Platforms you can achieve this using the Background Assets framework.It is designed to deliver a great first-launch experience.You can configure how the system downloads your assets to the deviceand prioritize content that is required to start playing.Using Background Assets you can offer optional downloadable content that playerscan unlock within the game.And you are able to update your game assets separatelyfrom the main game bundle.The new Managed Background Assets improves the API and simplifies the workflow.For games on TestFlight or the App Store, you get up to 200GBof Apple hosting capacity.And the API is simple to use,including built-in support for automatic out-of-band asset updatesand system management.Managed Background Assets are also tightly integrated into the same workflow you usefor your game distribution on Apple platforms.You can use TestFlight to beta test content changes in your gameand once these changes pass AppStore review - deliver them to players.Check out “Discover Apple-Hosted Background Assets” to learn more.What makes your game stand apart on Apple platformsis that, in addition to easily targeting both macOS and iOS,you can keep the game state synchronized across all your players’ devices.For example, your player can start playing on a device at home.When they reach a milestone and save the game,you upload the game save data to iCloud.Then, say they catch a bus.No problem, they can open your game on their iPhoneand pick up where they left offby loading save data from iCloud and keeping it in sync as they play.Finally, if your player goes to a café and decides to play on their iPad,because they’d like to use a larger screen,the game can load the progress from iCloud.The key to continuing your progress on-the-go across devices is cloud saves.The new GameSave framework introduces an easy wayto enable cloud saves in your game.It is powered by iCloud and is designed with user privacyand data security in mind.It automatically syncs and saves game data across deviceswith the same iCloud account and supports scenarios when a player goes offlineor is signed out of iCloud.The Game Save framework also provides you with default UI that you can use to showprogress while save data is being synchronized with iCloud,notify the player about potential save data conflictsand provide options to resolve them,or send an alert when the player is signed out of iCloud.And, if you want to customize the player experience, you can use the GameSave APIto integrate with your game's UI and add custom logic.It is easy to enable the Game Save framework in your gameand only takes a couple of steps:First add the iCloud entitlement to your game.To do that, enable the capability in Signing & Capabilities tool within Xcode,select the iCloud Documents checkbox in game project settingsand add your iCloud container entitlement.Next, login to your Apple developer account and include this entitlementin the provisioning profile for your game.The GameSave framework is now ready to be used in your game.Let me show you how to start.In the typical flow to use GameSave framework, first call openDirectory.GameSave will start fetching the user’s save data in the background.While GameSave is syncing,you can check the status providing a Window for the user alert.And finally, when syncing is finished, the save will be available from the url.Here is an example.To start synchronization with iCloud, call openDirectoryForContainerwith your game’s container identifier.While the GameSave framework performs a sync in the background,you can call the finishSyncing completion handler and add post sync logic to it.When cloud sync is done, you can check the state and handle any errors if needed.Finally, use the directory state URL to access player’s save data.Your game is now ready to share saves across all the devices it supports.You can learn more about the GameSave API and its featuresin the framework documentation.There are various ways players can interact with your gameand it is important to allow them to play however they prefer.Apple platforms provide comprehensive support for peripheral input deviceslike keyboard, mouse, and game controllers.You can allow players to enjoy your game in exactly the same wayas they do on other platforms.And the Game Controller framework provides an API to add supportfor all of these types of input in your game.Its modern and flexible design enables you to either register event callbacksor poll players’ actions on demand.It is the preferred method to get your player’s input on all Apple platformsand it has support for modern controllers, like the Playstation DualSense controller!In addition to mouse, keyboard, and controller support,Apple is especially unique in our support for high-end games on touch-first platforms.And while some players may play your game on their iPhone or iPad with a controller— the vast majority of players won’t have a controller available.To help you, the new Touch Controls framework provides an easy way to addtouch support into your existing game.There are a wealth of button types and behaviors provided to supportyour common inputs,on top of that each button’s look can be customized to best fit the needs of your game.And the new API integrates directly with Metalto ensure the highest possible performance.With that you can easily provide players with options.Some will prefer to play using touch, or just don’t have a controller handy.They can enjoy your game anytime they’re ready.Check out the documentation for a detailed walkthrough on how to easily set upTouch Controls in your game.And make sure you watch “Design advanced games for Apple platforms” to learn moreabout best practices for games.Using these technologies, you can level up your players’ experiencefrom the first time they start up your game.And you can make sure they progress in the game the way they want.Now let’s talk about one of the key aspects that helps tell your game’s storyand keeps players immersed — Graphics.Metal is Apple’s low-level graphics and compute API.It powers multiple generations of complex applications includingthe latest games and pro apps.Metal supports all the features you need to deliver the best in class graphicsand performance in your game.Metal 4 API handles the increased complexity of managing resourcesand compiling shaders,it reduces CPU overhead for encoding your graphics commandsand enables your game to use machine learning in your rendering pipeline.Start with ”Discover Metal 4” to learn more about the new features.With the ever growing complexity of graphical effects, it takes more effortto keep the frame time of your game in budget.And of course you want to achieve that without sacrificing visual quality.You can do that by integrating MetalFX upscaling support into your game.MetalFX scales a lower resolution image, up to the target output resolution,in less time that it takes to render directly at the output resolution.And it supports both spatial and temporal upscalingso you can balance between visual quality and performance.You can further boost your game's frame ratewhen you integrate MetalFX frame interpolation.In combination with MetalFX upscalingyou will be able to get even more of a performance uplift.Your game can use frame interpolation to generate intermediate framesin much less time than it would take to render each frame from scratch.And if your game uses graphics techniques like ray tracing,you can use MetalFX denoising to enhance the visual quality.MetalFX supports denoising during the upscale process,so your game can remove the noise from images rendered with fewer rays,and deliver full-size results.Here is Cyberpunk 2077 from CD Projekt Red running on the latest M4 Max MacBook Pro.This game uses a lot of complex techniques to achieve these stunning visuals.With MetalFX features,players are able to see significantly higher and smoother frame rates.Check out “Go further with Metal 4 games” to learn how to enableexisting and new MetalFX features in your game and boost its performance and visual quality.The Game Porting Toolkit 3 also adds support for Metal 4.Metal-cpp is the part of Game Porting Toolkitthat allows you to integrate Metal into your existing C++ code base.Metal-cpp comes with full Metal 4 support and, if you are already using it,you can enable Metal 4 features straightaway.In addition to that, Metal-cpp also includes supportfor the latest Metal FX features like denoising and frame interpolation.Metal Shader Converter is another useful tool.It helps you translate your HLSL shaders to Metal.With Metal 4 support in Metal Shader Converteryou can use intersection function buffers for ray tracingto translate your existing shader binding tables directly to Metal ray tracing.And, to go further, you can enable Metal features directly in your HLSL code.Use function constants for efficient specializations of your shadersto improve performance in case they have complicated logic insideand frame buffer fetch which enables techniquessuch as programmable blendingto efficiently combine results of multiple render passes.Both features are available to you without the need to makehigh level changes in your engine.To get started with them, check out the new sample code“Function Constants and Framebuffer Fetch”and “Ray tracing with Intersection Function Buffer”.And to learn more about the new features in the Game Porting Toolkit 3,go to developer.apple.com/games to check out the documentationand use the game porting example code to get started.Metal 4 also provides you with a comprehensive set of toolsthat are there to help you with profiling and debugging!The Runtime API and shader validation tool can tell you if an issue you seeis caused by a missing flag or an attempt to read a resourcethat is not bound to the shader.Metal Performance HUD displays various performance metrics to help youanalyze the performance of your game in real time.Metal debugger in Xcode shows you detailed profiling data for your GPU work,and enables you to do step-by-step debugging in case one of the pixels feels wrong.And Metal system trace in Instruments gives you insights about your game’s CPUand GPU utilization.You'll be able to spot check potential improvements.The Metal performance HUD provides an overview of your game’s performance,whether you are profiling a native build of your game,or using the evaluation environment for Windows games.To help you analyze the performance of your game more efficiently,there are four new features.The Metal Performance HUD now supports performance insightsthat provide you recommendations on how to better optimize your gamefor increased frame ratesand it provides even more metrics, such as shader compilation counts,which you can use to identify unexpected frame hitches in real time.Optionally, you can have all of this dataaggregated in a performance report to review later.The appearance of the Metal Performance HUD can now be customized,so you can decide what data you want to see and where you want that data to be displayed.Let’s see this in action.Here is a sample running on my Mac with Metal Performance HUD enabled.The global menu allows me to quickly tune the HUD appearanceand access the new configuration panel.The configuration panel provides me controls to further customize the HUD appearance.For example, here I'm enabling the additional Shader Compiler metricto help me understand if the stutters I see are caused by shader compilation.In the Insights tab of the configuration panel I can enable Performance Insights.This feature tracks the sample’s usage of the Metal APIand highlights if it can be improved by pointing me to the related documentation.This data is aggregated over time and, once ready, the insight will be displayedshowing me details and recommendations.For example, here I can see that some of the shadersare still compiling at runtime.This can cause performance drops and I want to avoid them.Performance Insights are available for both native gamesand for games running through the Evaluation environment for Windows Games.With that you can understand potential spots for performance improvementsearly in the development process.In addition to that, Metal Performance HUD can now generate performance reportsfor you to review offline!Through the global menu, I can choose to generatea performance report of my samplefor a specific duration.And once that duration has passed, the report will be savedto the temporary folder for my review.The generated report contains all the metrics collected by the Metal Performance HUDincluding the performance insights.From it I can understand performance of my sample over time,which particular render or compute passes are the most costlyand identify potential improvements.Metal 4 has all the features and tools you need to enable rich visualsand best in class performance on Apple Silicon.Make sure you take advantage of the built-in system featuresfor smooth, responsive gameplay.Deliver a great player experienceby integrating core game technologies into your game.And use Metal 4 to level up your game's visuals and performance.Take a look at “Explore Metal 4 games”to learn more about other exciting Metal 4 features,and watch “Engage players with the Apple Games app”to boost your game's discoverability for players and all their friends.I am excited to play your next game on Apple Platforms!Thanks for watching!

Hi, I am Alexey, an engineering manager on the Metal Games Ecosystem team.Your players expect the best possible experience in your games.You can provide that by taking advantage of the ever-improving power and efficiencyof Apple Silicon,and the software that brings it to life.

Apple’s SDK provides you with a wide range of tools to create the next generationof games that reach players across the Apple ecosystem.From stunning graphics, to great input and social experiences,it’s easy to bring games to iPhone, iPad, and Macthanks to the unified gaming platform.

Over the years, the OS and frameworks that help enable great gaming experienceshave continued to advance.This year there are even more features designed to help you level upyour players’ experience even further.In this talk I will show you how to take advantage of the built-in system featuresthat will boost your game’s performance,walk you through the important game technologiesthat enable players to enjoy your game whenever and wherever they want to,and explain how you can use new graphics features to immerse themin your game’s world, taking full advantage of Apple Silicon.First, I’ll tell you about some powerful system features that you can adoptto enable players to get the most out of their devices while gaming.

These include configurable system modesto boost the sustained performance of your game,and social features that increase players engagement with your game,and the visibility your game has across the system.Let’s start with boosting your games performance.

Game Mode optimizes system behavior to give your game even more resources.It reduces background activity, so your game gets access to more CPU timeto process complex tasks, like rendering or physics simulation.And Game Mode also improves Bluetooth latency, making input and headphones more responsive.

On macOS and iOS, Game Mode is enabled when a playerlaunches the game in full screen.The Game Mode banner will let the player know that it's active.It is simple to make sure your game enables Game Mode.Just add the LSSupportsGameMode key in your game’s info.plist and set it to true.

Once enabled, Game Mode gives more system resourcesto your game to improve its performance.It is important to manage them correctly to ensure your players’ experiencewill be consistent across the whole gaming session.

To do that you can ask the system to enableSustained Execution Mode for your game.When it is enabled, the system will limit performance to the steady state,right from the game launch.This allows you to quickly identify a level of quality and performanceappropriate for the target device,and you can be confident your players will have a consistent experience.It takes a couple of simple steps to enable Sustained Execution Mode.First add the corresponding entitlement to your game.To do that - enable the capability in the Signing & Capabilities tools within Xcode.Next, login to your Apple Developer Account and include this entitlementin the provisioning profile for your game.Now your game and OS will work together to deliver a smooth gaming experience.

Across different devices, Apple Silicon delivers great power efficiencythat allows players to enjoy their favorite games wherever they are.In macOS 26, players will be notified when a game is using significant energywhile running on battery power.They'll have the option of switching to Low Power Mode, now tuned for gaming,enabling them to play longer.

And players can also dynamically change the system energy mode while playing,right inside of the Game Overlay without leaving the game.

To further improve the experience for your players, you can set your game to respondand adapt to Low Power Mode.The system provides you an API to detect when Low Power Mode is active.Listen for the NSProcessInfoPowerStateDidChange notification.When the Low Power Mode state changes to enabled,you might, for example, optimizethe quality settings to help extend play time even longer.

Players across the Unified Gaming Platform have lots of ways to find their friendsand play together with them.

And Game Center is at the center of it all.

It is Apple's social gaming network that connects players with their friends,so they can see who's playing what, discover new games, and challenge their friends.

Your game can add many features from Game Center,including Achievements, Leaderboards, Challenges, and Activities.

These features let players keep track of their progress, compete for high scores,and invite their friends to play along.And now Game Center configuration is fully integrated with Xcode.You can create Achievements, setup localizations, and configure Challenges.Any changes you make can be included in code reviews and version control.After you are done with the configuration use the new Game Progress Managerto test it locally before making it available to players.Check out “Get started with Game Center” to learn more about Game Centerand its features.

Once your game is integrated with Game Center,it will be automatically discoverable in lots of places across the system.

For example, in the brand new Apple Games app!The Games app gives players a brand-new, all-in-one destination for their games.They can launch their games, discover new ones,and have even more fun playing with their friends.

It comes pre-installed on Mac, iPad, and iPhone and its features are integratedthroughout the operating system, including widgets, notifications, and the App Store.

For example, players can check their ranking in leaderboardsright in the Game Overlay without the need to leave the game.

Check out “Engage players with the Apple Games app”to learn more about how getting your game into the Games appcan boost its visibility to players through their friends who are playing.

With the system experience designed for gamingyou can unlock your game's full potential.You can achieve consistent and smooth frame rates with system performance featuresand use social features to help you build a community and keep your players engaged.

Now let’s talk about how you can elevate your gameand your player's experience even further,using some existing and some brand-new game technologies.

The Human Interface Guidelines for games is a great placeto start learning how to provide a great experience specific to Apple platforms.It is a comprehensive set of documentation that serves as a guide on how to bestsupport multiple Apple devices with topics like onboarding players,adapting to different screen sizes and supporting various input methods.

A great gaming experience is a combination of thoughtful game designand taking advantage of the technologies that best enable it.

It starts the moment players install your game and continues as they progress.And all of that is driven by how they interact with your game.

High-end games tend to have larger initial downloads,so the first thing you want to consider,is how you can let players jump into gameplay as soon as possible.

For example, here’s My game.It consists of an executable and gigabytes of textures and audio recordingsin the content packages, all of which deliver a rich player experience.

It can take a long time to download the game before players can start to play it.I’ve decided to improve this by splitting my game’s content into two parts.Now players only need to download the smaller portion of itthat is required to play the tutorial level.In the meantime the rest of the content is downloaded in the backgroundwhile the player is already having fun in the game.On Apple Platforms you can achieve this using the Background Assets framework.It is designed to deliver a great first-launch experience.

You can configure how the system downloads your assets to the deviceand prioritize content that is required to start playing.Using Background Assets you can offer optional downloadable content that playerscan unlock within the game.And you are able to update your game assets separatelyfrom the main game bundle.

The new Managed Background Assets improves the API and simplifies the workflow.For games on TestFlight or the App Store, you get up to 200GBof Apple hosting capacity.And the API is simple to use,including built-in support for automatic out-of-band asset updatesand system management.

Managed Background Assets are also tightly integrated into the same workflow you usefor your game distribution on Apple platforms.

You can use TestFlight to beta test content changes in your gameand once these changes pass AppStore review - deliver them to players.Check out “Discover Apple-Hosted Background Assets” to learn more.

What makes your game stand apart on Apple platformsis that, in addition to easily targeting both macOS and iOS,you can keep the game state synchronized across all your players’ devices.For example, your player can start playing on a device at home.When they reach a milestone and save the game,you upload the game save data to iCloud.Then, say they catch a bus.No problem, they can open your game on their iPhoneand pick up where they left offby loading save data from iCloud and keeping it in sync as they play.

Finally, if your player goes to a café and decides to play on their iPad,because they’d like to use a larger screen,the game can load the progress from iCloud.

The key to continuing your progress on-the-go across devices is cloud saves.

The new GameSave framework introduces an easy wayto enable cloud saves in your game.

It is powered by iCloud and is designed with user privacyand data security in mind.It automatically syncs and saves game data across deviceswith the same iCloud account and supports scenarios when a player goes offlineor is signed out of iCloud.

The Game Save framework also provides you with default UI that you can use to showprogress while save data is being synchronized with iCloud,notify the player about potential save data conflictsand provide options to resolve them,or send an alert when the player is signed out of iCloud.And, if you want to customize the player experience, you can use the GameSave APIto integrate with your game's UI and add custom logic.It is easy to enable the Game Save framework in your gameand only takes a couple of steps:First add the iCloud entitlement to your game.To do that, enable the capability in Signing & Capabilities tool within Xcode,select the iCloud Documents checkbox in game project settingsand add your iCloud container entitlement.Next, login to your Apple developer account and include this entitlementin the provisioning profile for your game.The GameSave framework is now ready to be used in your game.Let me show you how to start.

In the typical flow to use GameSave framework, first call openDirectory.GameSave will start fetching the user’s save data in the background.While GameSave is syncing,you can check the status providing a Window for the user alert.

And finally, when syncing is finished, the save will be available from the url.Here is an example.To start synchronization with iCloud, call openDirectoryForContainerwith your game’s container identifier.While the GameSave framework performs a sync in the background,you can call the finishSyncing completion handler and add post sync logic to it.When cloud sync is done, you can check the state and handle any errors if needed.Finally, use the directory state URL to access player’s save data.Your game is now ready to share saves across all the devices it supports.

You can learn more about the GameSave API and its featuresin the framework documentation.

There are various ways players can interact with your gameand it is important to allow them to play however they prefer.Apple platforms provide comprehensive support for peripheral input deviceslike keyboard, mouse, and game controllers.You can allow players to enjoy your game in exactly the same wayas they do on other platforms.

And the Game Controller framework provides an API to add supportfor all of these types of input in your game.

Its modern and flexible design enables you to either register event callbacksor poll players’ actions on demand.It is the preferred method to get your player’s input on all Apple platformsand it has support for modern controllers, like the Playstation DualSense controller!In addition to mouse, keyboard, and controller support,Apple is especially unique in our support for high-end games on touch-first platforms.And while some players may play your game on their iPhone or iPad with a controller— the vast majority of players won’t have a controller available.To help you, the new Touch Controls framework provides an easy way to addtouch support into your existing game.There are a wealth of button types and behaviors provided to supportyour common inputs,on top of that each button’s look can be customized to best fit the needs of your game.And the new API integrates directly with Metalto ensure the highest possible performance.

With that you can easily provide players with options.Some will prefer to play using touch, or just don’t have a controller handy.They can enjoy your game anytime they’re ready.Check out the documentation for a detailed walkthrough on how to easily set upTouch Controls in your game.And make sure you watch “Design advanced games for Apple platforms” to learn moreabout best practices for games.

Using these technologies, you can level up your players’ experiencefrom the first time they start up your game.And you can make sure they progress in the game the way they want.

Now let’s talk about one of the key aspects that helps tell your game’s storyand keeps players immersed — Graphics.

Metal is Apple’s low-level graphics and compute API.It powers multiple generations of complex applications includingthe latest games and pro apps.Metal supports all the features you need to deliver the best in class graphicsand performance in your game.Metal 4 API handles the increased complexity of managing resourcesand compiling shaders,it reduces CPU overhead for encoding your graphics commandsand enables your game to use machine learning in your rendering pipeline.Start with ”Discover Metal 4” to learn more about the new features.

With the ever growing complexity of graphical effects, it takes more effortto keep the frame time of your game in budget.And of course you want to achieve that without sacrificing visual quality.

You can do that by integrating MetalFX upscaling support into your game.MetalFX scales a lower resolution image, up to the target output resolution,in less time that it takes to render directly at the output resolution.And it supports both spatial and temporal upscalingso you can balance between visual quality and performance.You can further boost your game's frame ratewhen you integrate MetalFX frame interpolation.In combination with MetalFX upscalingyou will be able to get even more of a performance uplift.Your game can use frame interpolation to generate intermediate framesin much less time than it would take to render each frame from scratch.And if your game uses graphics techniques like ray tracing,you can use MetalFX denoising to enhance the visual quality.

MetalFX supports denoising during the upscale process,so your game can remove the noise from images rendered with fewer rays,and deliver full-size results.Here is Cyberpunk 2077 from CD Projekt Red running on the latest M4 Max MacBook Pro.This game uses a lot of complex techniques to achieve these stunning visuals.With MetalFX features,players are able to see significantly higher and smoother frame rates.

Check out “Go further with Metal 4 games” to learn how to enableexisting and new MetalFX features in your game and boost its performance and visual quality.

The Game Porting Toolkit 3 also adds support for Metal 4.Metal-cpp is the part of Game Porting Toolkitthat allows you to integrate Metal into your existing C++ code base.Metal-cpp comes with full Metal 4 support and, if you are already using it,you can enable Metal 4 features straightaway.In addition to that, Metal-cpp also includes supportfor the latest Metal FX features like denoising and frame interpolation.

Metal Shader Converter is another useful tool.It helps you translate your HLSL shaders to Metal.

With Metal 4 support in Metal Shader Converteryou can use intersection function buffers for ray tracingto translate your existing shader binding tables directly to Metal ray tracing.And, to go further, you can enable Metal features directly in your HLSL code.

Use function constants for efficient specializations of your shadersto improve performance in case they have complicated logic insideand frame buffer fetch which enables techniquessuch as programmable blendingto efficiently combine results of multiple render passes.Both features are available to you without the need to makehigh level changes in your engine.

To get started with them, check out the new sample code“Function Constants and Framebuffer Fetch”and “Ray tracing with Intersection Function Buffer”.

And to learn more about the new features in the Game Porting Toolkit 3,go to developer.apple.com/games to check out the documentationand use the game porting example code to get started.

Metal 4 also provides you with a comprehensive set of toolsthat are there to help you with profiling and debugging!The Runtime API and shader validation tool can tell you if an issue you seeis caused by a missing flag or an attempt to read a resourcethat is not bound to the shader.Metal Performance HUD displays various performance metrics to help youanalyze the performance of your game in real time.Metal debugger in Xcode shows you detailed profiling data for your GPU work,and enables you to do step-by-step debugging in case one of the pixels feels wrong.

And Metal system trace in Instruments gives you insights about your game’s CPUand GPU utilization.

You'll be able to spot check potential improvements.The Metal performance HUD provides an overview of your game’s performance,whether you are profiling a native build of your game,or using the evaluation environment for Windows games.To help you analyze the performance of your game more efficiently,there are four new features.The Metal Performance HUD now supports performance insightsthat provide you recommendations on how to better optimize your gamefor increased frame ratesand it provides even more metrics, such as shader compilation counts,which you can use to identify unexpected frame hitches in real time.Optionally, you can have all of this dataaggregated in a performance report to review later.The appearance of the Metal Performance HUD can now be customized,so you can decide what data you want to see and where you want that data to be displayed.

Let’s see this in action.Here is a sample running on my Mac with Metal Performance HUD enabled.The global menu allows me to quickly tune the HUD appearanceand access the new configuration panel.

The configuration panel provides me controls to further customize the HUD appearance.For example, here I'm enabling the additional Shader Compiler metricto help me understand if the stutters I see are caused by shader compilation.

In the Insights tab of the configuration panel I can enable Performance Insights.

This feature tracks the sample’s usage of the Metal APIand highlights if it can be improved by pointing me to the related documentation.

This data is aggregated over time and, once ready, the insight will be displayedshowing me details and recommendations.

For example, here I can see that some of the shadersare still compiling at runtime.This can cause performance drops and I want to avoid them.

Performance Insights are available for both native gamesand for games running through the Evaluation environment for Windows Games.With that you can understand potential spots for performance improvementsearly in the development process.In addition to that, Metal Performance HUD can now generate performance reportsfor you to review offline!Through the global menu, I can choose to generatea performance report of my samplefor a specific duration.And once that duration has passed, the report will be savedto the temporary folder for my review.

The generated report contains all the metrics collected by the Metal Performance HUDincluding the performance insights.From it I can understand performance of my sample over time,which particular render or compute passes are the most costlyand identify potential improvements.

Metal 4 has all the features and tools you need to enable rich visualsand best in class performance on Apple Silicon.

Make sure you take advantage of the built-in system featuresfor smooth, responsive gameplay.Deliver a great player experienceby integrating core game technologies into your game.And use Metal 4 to level up your game's visuals and performance.

Take a look at “Explore Metal 4 games”to learn more about other exciting Metal 4 features,and watch “Engage players with the Apple Games app”to boost your game's discoverability for players and all their friends.

I am excited to play your next game on Apple Platforms!Thanks for watching!

0:01 -React to Low Power Mode state

12:13 -GameSave code sample

0:00 -IntroNew gaming features that enhance graphics, performance, and social play enable you to meet player expectations for the best gaming experience across all Apple devices.1:19 -System experienceYou can take advantage of built-in system features that will boost your game’s performance, enable players to get the most out of their devices while gaming and boost the sustained performance of your game. You can also add social features that increase players engagement with your game and enhance the visibility your game has across the system.1:39 -Boost performanceYour game can access system features that boodt your game’s performance, with little or no effort required on your part. Game Mode, in macOS and iOS, optimizes system behavior for games running in full-screen mode by reducing background activity and improving Bluetooth latency. Sustained Execution Mode enables your game to work hand-in-hand with the OS to provide a consistent performance experience to players. And Low Power Mode means players can have longer play sessions while on battery power.4:26 -Engage playersGame Center is Apple’s social gaming network, enabling players to connect, compete, and track progress across games. It integrates with Xcode for easy setup. Games that adopt Game Center and its social features enjoy expanded visibility across the new Apple Games app and the new Game Overlay.6:43 -Game technologiesCheck out the Human Interface Guidelines to start learning how to provide a great experience specific to Apple platforms.7:33 -Start playingA great player experience starts the first time your game is launched. For high-end games with large downloads, split content into essential and non-essential parts. Players can then start playing the first level while the rest of the game downloads in the background. The new Managed Background Assets framework facilitates this process, allowing you to prioritize content, offer optional downloads, and update assets separately.9:31 -Play anywhereThe new GameSave framework enables seamless cloud saves for games across devices. Players can switch between Apple devices and pick up the game right where they left off.12:52 -Play how they likeApple platforms support various input methods such as keyboard, mouse, game controllers, and touch via the Game Controller and Touch Controls frameworks. These frameworks enable you to create games that cater to players' preferences, whether that’s physical controllers or touch screens, ensuring a seamless experience across all Apple devices.14:56 -GraphicsMetal 4 is a low-level graphics and compute API that powers the latest advanced games. It’s designed to handle the increased complexity of modern graphics rendering, reducing CPU overhead and enabling you to utilize machine learning in rendering pipelines.

To achieve high frame rates without compromising visual quality, integrate MetalFX Upscaling support into your games. MetalFX scales lower-resolution images up to the target output resolution efficiently, balancing visual quality and performance. Additionally, MetalFX Frame Interpolation can further boost frame rates by generating intermediate frames.

The Game Porting Toolkit 3 supports Metal 4, making it easier for you to integrate Metal into your existing C++ codebases. Tools like Metal shader converter help translate HLSL shaders to Metal, and the Metal Performance HUD provides real-time performance metrics and insights so you can debug and optimize your games.

The Metal Performance HUD is enhanced with new features, such as performance insights, aggregated performance reports, and customization options, allowing you to analyze your game's performance effectively and make data-driven improvements.22:31 -Next stepsProvide the best player experience possible across Apple devices by using gaming-enabled system features, adding social play, supporting a variety of input methods, and unleveling your graphics with Metal 4. Check out the related Metal 4 and games sessions at WWDC.

0:00 -Intro

New gaming features that enhance graphics, performance, and social play enable you to meet player expectations for the best gaming experience across all Apple devices.

New gaming features that enhance graphics, performance, and social play enable you to meet player expectations for the best gaming experience across all Apple devices.

1:19 -System experience

You can take advantage of built-in system features that will boost your game’s performance, enable players to get the most out of their devices while gaming and boost the sustained performance of your game. You can also add social features that increase players engagement with your game and enhance the visibility your game has across the system.

You can take advantage of built-in system features that will boost your game’s performance, enable players to get the most out of their devices while gaming and boost the sustained performance of your game. You can also add social features that increase players engagement with your game and enhance the visibility your game has across the system.

1:39 -Boost performance

Your game can access system features that boodt your game’s performance, with little or no effort required on your part. Game Mode, in macOS and iOS, optimizes system behavior for games running in full-screen mode by reducing background activity and improving Bluetooth latency. Sustained Execution Mode enables your game to work hand-in-hand with the OS to provide a consistent performance experience to players. And Low Power Mode means players can have longer play sessions while on battery power.

Your game can access system features that boodt your game’s performance, with little or no effort required on your part. Game Mode, in macOS and iOS, optimizes system behavior for games running in full-screen mode by reducing background activity and improving Bluetooth latency. Sustained Execution Mode enables your game to work hand-in-hand with the OS to provide a consistent performance experience to players. And Low Power Mode means players can have longer play sessions while on battery power.

4:26 -Engage players

Game Center is Apple’s social gaming network, enabling players to connect, compete, and track progress across games. It integrates with Xcode for easy setup. Games that adopt Game Center and its social features enjoy expanded visibility across the new Apple Games app and the new Game Overlay.

Game Center is Apple’s social gaming network, enabling players to connect, compete, and track progress across games. It integrates with Xcode for easy setup. Games that adopt Game Center and its social features enjoy expanded visibility across the new Apple Games app and the new Game Overlay.

6:43 -Game technologies

Check out the Human Interface Guidelines to start learning how to provide a great experience specific to Apple platforms.

Check out the Human Interface Guidelines to start learning how to provide a great experience specific to Apple platforms.

7:33 -Start playing

A great player experience starts the first time your game is launched. For high-end games with large downloads, split content into essential and non-essential parts. Players can then start playing the first level while the rest of the game downloads in the background. The new Managed Background Assets framework facilitates this process, allowing you to prioritize content, offer optional downloads, and update assets separately.

A great player experience starts the first time your game is launched. For high-end games with large downloads, split content into essential and non-essential parts. Players can then start playing the first level while the rest of the game downloads in the background. The new Managed Background Assets framework facilitates this process, allowing you to prioritize content, offer optional downloads, and update assets separately.

9:31 -Play anywhere

The new GameSave framework enables seamless cloud saves for games across devices. Players can switch between Apple devices and pick up the game right where they left off.

The new GameSave framework enables seamless cloud saves for games across devices. Players can switch between Apple devices and pick up the game right where they left off.

12:52 -Play how they like

Apple platforms support various input methods such as keyboard, mouse, game controllers, and touch via the Game Controller and Touch Controls frameworks. These frameworks enable you to create games that cater to players' preferences, whether that’s physical controllers or touch screens, ensuring a seamless experience across all Apple devices.

Apple platforms support various input methods such as keyboard, mouse, game controllers, and touch via the Game Controller and Touch Controls frameworks. These frameworks enable you to create games that cater to players' preferences, whether that’s physical controllers or touch screens, ensuring a seamless experience across all Apple devices.

14:56 -Graphics

Metal 4 is a low-level graphics and compute API that powers the latest advanced games. It’s designed to handle the increased complexity of modern graphics rendering, reducing CPU overhead and enabling you to utilize machine learning in rendering pipelines.

To achieve high frame rates without compromising visual quality, integrate MetalFX Upscaling support into your games. MetalFX scales lower-resolution images up to the target output resolution efficiently, balancing visual quality and performance. Additionally, MetalFX Frame Interpolation can further boost frame rates by generating intermediate frames.

The Game Porting Toolkit 3 supports Metal 4, making it easier for you to integrate Metal into your existing C++ codebases. Tools like Metal shader converter help translate HLSL shaders to Metal, and the Metal Performance HUD provides real-time performance metrics and insights so you can debug and optimize your games.

The Metal Performance HUD is enhanced with new features, such as performance insights, aggregated performance reports, and customization options, allowing you to analyze your game's performance effectively and make data-driven improvements.

Metal 4 is a low-level graphics and compute API that powers the latest advanced games. It’s designed to handle the increased complexity of modern graphics rendering, reducing CPU overhead and enabling you to utilize machine learning in rendering pipelines.

To achieve high frame rates without compromising visual quality, integrate MetalFX Upscaling support into your games. MetalFX scales lower-resolution images up to the target output resolution efficiently, balancing visual quality and performance. Additionally, MetalFX Frame Interpolation can further boost frame rates by generating intermediate frames.

The Game Porting Toolkit 3 supports Metal 4, making it easier for you to integrate Metal into your existing C++ codebases. Tools like Metal shader converter help translate HLSL shaders to Metal, and the Metal Performance HUD provides real-time performance metrics and insights so you can debug and optimize your games.

The Metal Performance HUD is enhanced with new features, such as performance insights, aggregated performance reports, and customization options, allowing you to analyze your game's performance effectively and make data-driven improvements.

22:31 -Next steps

Provide the best player experience possible across Apple devices by using gaming-enabled system features, adding social play, supporting a variety of input methods, and unleveling your graphics with Metal 4. Check out the related Metal 4 and games sessions at WWDC.

Provide the best player experience possible across Apple devices by using gaming-enabled system features, adding social play, supporting a variety of input methods, and unleveling your graphics with Metal 4. Check out the related Metal 4 and games sessions at WWDC.

## Code Samples

```swift
static
 
let
 
NSProcessInfoPowerStateDidChange
: 
NSNotification
.
Name


var
 isLowPowerModeEnabled: 
Bool
 { 
get
 }
```

```swift
// Objective-C GameSave code sample


#import 
<GameSave/GameSave.h>


NSString
* containerIdentifier = 
///… container entitlement string, nil specifies the first in the entitlement array


GSSyncedDirectory* directory = [GSSyncedDirectory openDirectoryForContainerIdentifier:containerIdentifier];
    

/// Where statusDisplay is an NSWindow or UIWindow where the alert will be anchored to

[directory finishSyncing:statusDisplay completionHandler:^{
 }];
        
GSSyncedDirectoryState* directoryState = [directory directoryState];

switch
 (directoryState.state) {
    
case
 GSSyncStateError:
        error = directoryState.error;
        
break
;
    
default
:
        
NSLog
(
@"Sync has finished"
);
}
  

NSURL
* saveURL = directoryState.url;
```

