WEBVTT

00:00:06.516 --> 00:00:15.516
[ Music ]

00:00:16.516 --> 00:00:23.076
[ Applause ]

00:00:23.576 --> 00:00:23.986
>> Thank you.

00:00:24.226 --> 00:00:24.976
Good afternoon.

00:00:25.166 --> 00:00:25.786
And welcome.

00:00:26.356 --> 00:00:27.106
My name is Michele.

00:00:27.426 --> 00:00:29.146
And I work in the iOS User

00:00:29.146 --> 00:00:30.096
Notifications team.

00:00:30.446 --> 00:00:32.695
Just a few minutes ago, my

00:00:32.695 --> 00:00:34.426
coworkers Kritarth and Teja

00:00:34.646 --> 00:00:35.346
[phonetic names] introduced you

00:00:35.346 --> 00:00:36.706
to group notifications.

00:00:36.926 --> 00:00:38.306
And in this session, we're going

00:00:38.306 --> 00:00:39.826
to explore a little bit more

00:00:39.826 --> 00:00:42.046
detail in-- this feature in a

00:00:42.046 --> 00:00:42.936
little bit more detail.

00:00:43.016 --> 00:00:44.596
And we'll learn how to use it

00:00:44.876 --> 00:00:47.246
and how to improve the

00:00:47.246 --> 00:00:48.706
efficiency of your notification

00:00:48.706 --> 00:00:49.746
and how to make them better

00:00:49.746 --> 00:00:50.206
organized.

00:00:51.816 --> 00:00:54.926
We will start by a brief

00:00:54.926 --> 00:00:56.236
overview of how the feature

00:00:56.236 --> 00:00:57.866
works and how the different

00:00:57.866 --> 00:00:58.996
parts of the UI work.

00:00:59.716 --> 00:01:01.466
Then we'll look at the default

00:01:01.466 --> 00:01:02.896
grouping, app grouping.

00:01:03.396 --> 00:01:05.476
We will see how to create custom

00:01:05.476 --> 00:01:07.416
groups for your notifications so

00:01:07.416 --> 00:01:09.606
that you can adapt the groups to

00:01:09.606 --> 00:01:11.736
the content of your apps.

00:01:12.316 --> 00:01:13.896
And finally, we will learn how

00:01:13.896 --> 00:01:15.616
to create custom summaries for

00:01:15.616 --> 00:01:17.256
your new notification groups.

00:01:21.796 --> 00:01:22.636
Let's start with a brief

00:01:22.636 --> 00:01:24.186
overview of the UI of the

00:01:24.186 --> 00:01:24.596
feature.

00:01:26.636 --> 00:01:29.346
Notification groups collect sets

00:01:29.346 --> 00:01:30.846
of different notifications

00:01:30.846 --> 00:01:32.326
together and in a group, and

00:01:32.326 --> 00:01:33.926
group them in a small stack.

00:01:34.326 --> 00:01:36.276
This helps making Notification

00:01:36.276 --> 00:01:38.126
Center better organized and more

00:01:38.126 --> 00:01:39.966
efficient for the user so that

00:01:39.966 --> 00:01:41.886
he can see more notifications at

00:01:41.886 --> 00:01:42.726
the same time.

00:01:42.726 --> 00:01:44.436
Without any app taking over the

00:01:44.436 --> 00:01:46.716
entire screen and preventing

00:01:46.716 --> 00:01:47.946
them from seeing some of the

00:01:47.946 --> 00:01:48.576
content.

00:01:50.656 --> 00:01:52.666
Each notification group shows

00:01:52.766 --> 00:01:54.166
the most recent notification

00:01:54.166 --> 00:01:55.646
that was delivered to that group

00:01:55.676 --> 00:01:56.536
at the top.

00:01:56.536 --> 00:01:58.016
And we call these the leading

00:01:58.106 --> 00:01:58.876
notification.

00:02:00.286 --> 00:02:02.186
Right underneath each group

00:02:02.186 --> 00:02:04.676
shows a brief summary that gives

00:02:04.676 --> 00:02:06.436
a little bit more details about

00:02:06.436 --> 00:02:07.686
what are the notifications

00:02:07.686 --> 00:02:08.666
included in the group.

00:02:08.666 --> 00:02:11.346
Gives you a number for, so you

00:02:11.346 --> 00:02:12.866
have a measure of how many

00:02:12.866 --> 00:02:14.186
notifications are inside.

00:02:14.586 --> 00:02:16.586
And in some cases, also some

00:02:16.586 --> 00:02:18.016
details about the content of

00:02:18.016 --> 00:02:18.976
those notifications.

00:02:22.366 --> 00:02:24.846
Notification groups also help in

00:02:24.846 --> 00:02:26.096
triaging notification.

00:02:26.096 --> 00:02:27.226
Because for example you can

00:02:27.256 --> 00:02:29.066
clear them, all the notification

00:02:29.066 --> 00:02:30.736
in that group with just one

00:02:30.736 --> 00:02:31.226
slide.

00:02:31.686 --> 00:02:32.546
And clear them all.

00:02:34.016 --> 00:02:36.386
But it's just as easy to expand

00:02:36.386 --> 00:02:37.706
the group and see all the

00:02:37.706 --> 00:02:39.126
notifications that are inside.

00:02:39.596 --> 00:02:41.096
And read one of them at a time

00:02:41.096 --> 00:02:42.296
and maybe clear one.

00:02:42.766 --> 00:02:44.266
And then when you're done, you

00:02:44.266 --> 00:02:46.046
can clear all of them, all of

00:02:46.046 --> 00:02:47.236
the group using the group

00:02:47.266 --> 00:02:48.806
buttons at the top.

00:02:52.206 --> 00:02:54.136
This was a very brief overview

00:02:54.456 --> 00:02:55.946
of the feature just to get more

00:02:57.576 --> 00:02:59.286
accustomed to the different

00:02:59.286 --> 00:03:00.666
parts of the UI and the

00:03:00.666 --> 00:03:01.306
terminology.

00:03:02.096 --> 00:03:04.206
So now allow, now let's see how

00:03:04.206 --> 00:03:05.426
the groups work and how they are

00:03:05.426 --> 00:03:06.466
created.

00:03:07.336 --> 00:03:09.236
The default behavior is app

00:03:09.236 --> 00:03:09.676
grouping.

00:03:10.656 --> 00:03:13.676
Each app gets its own group.

00:03:14.126 --> 00:03:15.376
And all the notifications from

00:03:15.376 --> 00:03:16.526
that app go to that group.

00:03:17.236 --> 00:03:18.226
This is the behavior that you

00:03:18.226 --> 00:03:19.726
get if you don't do anything.

00:03:19.726 --> 00:03:20.796
And you just keep sending

00:03:20.796 --> 00:03:24.396
notifications without adopting

00:03:24.396 --> 00:03:25.086
any new APIs.

00:03:27.296 --> 00:03:29.926
In many situations, app groups

00:03:29.926 --> 00:03:31.476
are sufficient, and they work

00:03:31.476 --> 00:03:32.066
very well.

00:03:32.426 --> 00:03:33.956
For example, as you see here in

00:03:33.956 --> 00:03:35.446
the Podcasts app, all the

00:03:35.446 --> 00:03:36.746
notifications are in the same

00:03:36.746 --> 00:03:39.266
group because Podcasts sends

00:03:39.266 --> 00:03:41.376
notifications that are very

00:03:41.376 --> 00:03:41.786
similar.

00:03:42.006 --> 00:03:43.596
They're notifications for new

00:03:43.746 --> 00:03:45.006
episodes of [inaudible] the

00:03:45.006 --> 00:03:45.426
shows.

00:03:46.076 --> 00:03:47.716
So there's no specific

00:03:47.716 --> 00:03:49.046
notification that is more

00:03:49.046 --> 00:03:50.556
interesting or something that is

00:03:50.556 --> 00:03:52.176
more important to show

00:03:52.176 --> 00:03:52.706
differently.

00:03:54.736 --> 00:03:56.856
As I said, as we said, it's very

00:03:56.856 --> 00:03:58.896
easy to tap on the group, expand

00:03:58.896 --> 00:04:00.666
it, and see the details inside

00:04:00.666 --> 00:04:00.976
the group.

00:04:06.516 --> 00:04:08.606
So app grouping is good.

00:04:09.086 --> 00:04:10.416
It keeps notifications more

00:04:10.416 --> 00:04:11.626
organized and Notification

00:04:11.626 --> 00:04:13.286
Center more compact and easier

00:04:13.286 --> 00:04:13.776
to use.

00:04:14.466 --> 00:04:17.726
But many apps have more specific

00:04:17.726 --> 00:04:18.245
content.

00:04:18.536 --> 00:04:20.136
They may need different

00:04:20.136 --> 00:04:21.716
organization to make

00:04:21.716 --> 00:04:23.546
notifications more efficient.

00:04:24.646 --> 00:04:26.866
And so we can create custom

00:04:26.866 --> 00:04:27.206
grouping.

00:04:28.036 --> 00:04:29.436
So in this session we will see

00:04:29.746 --> 00:04:32.876
first the API to create custom

00:04:32.876 --> 00:04:34.226
groups for your notifications.

00:04:34.906 --> 00:04:36.296
And then we'll look at a few

00:04:36.296 --> 00:04:41.546
examples of apps in iOS 12 to

00:04:41.606 --> 00:04:42.966
explore some of the patterns

00:04:42.966 --> 00:04:45.346
that they applied, and how they

00:04:45.736 --> 00:04:47.846
tried to balance the amount of

00:04:47.906 --> 00:04:49.226
content that was visible to the

00:04:49.226 --> 00:04:49.696
user.

00:04:49.696 --> 00:04:50.796
And the amount of content that

00:04:50.796 --> 00:04:53.476
was grouped together to help

00:04:53.476 --> 00:04:54.416
with the organization of

00:04:54.416 --> 00:04:55.976
Notification Center.

00:04:57.456 --> 00:04:59.646
So this is how you create a

00:04:59.646 --> 00:05:01.826
group for your app.

00:05:02.416 --> 00:05:04.166
You just set a custom thread

00:05:04.166 --> 00:05:05.746
identifier in the notification

00:05:05.746 --> 00:05:06.246
content.

00:05:08.386 --> 00:05:10.236
After you've done this, all the

00:05:10.236 --> 00:05:11.766
notifications that you send with

00:05:11.766 --> 00:05:14.036
the same thread identifier will

00:05:14.036 --> 00:05:15.926
be grouped together in

00:05:15.926 --> 00:05:16.806
Notification Center.

00:05:18.636 --> 00:05:20.426
The thread identifier can be any

00:05:20.426 --> 00:05:20.846
string.

00:05:21.986 --> 00:05:22.966
Doesn't matter what you said

00:05:22.966 --> 00:05:23.296
there.

00:05:23.946 --> 00:05:25.436
But all of the notification will

00:05:25.436 --> 00:05:26.096
be grouped together.

00:05:26.536 --> 00:05:28.606
You just need to be unique.

00:05:28.936 --> 00:05:30.236
You just need a unique string

00:05:30.236 --> 00:05:31.756
that is identifier's group.

00:05:32.596 --> 00:05:33.646
And that is it.

00:05:34.216 --> 00:05:35.646
You created a groups for your

00:05:35.646 --> 00:05:36.386
notifications.

00:05:37.606 --> 00:05:40.836
But given that it is so simple,

00:05:41.686 --> 00:05:43.306
we need to pay attention at how

00:05:43.306 --> 00:05:44.626
we create these groups.

00:05:45.866 --> 00:05:47.656
And also, if you're familiar

00:05:47.656 --> 00:05:49.796
with notifications API, you

00:05:49.796 --> 00:05:51.156
notice that this is not a new

00:05:51.156 --> 00:05:51.386
API.

00:05:51.476 --> 00:05:52.936
This is an API that we

00:05:52.936 --> 00:05:54.906
introduced in previous iOS

00:05:54.906 --> 00:05:55.316
releases.

00:05:55.316 --> 00:05:57.256
So it's a really existing and

00:05:57.256 --> 00:05:58.426
current iOS.

00:05:58.936 --> 00:06:00.726
We introduced it to, for

00:06:00.966 --> 00:06:02.386
[inaudible] notifications and

00:06:02.386 --> 00:06:03.876
for private notifications.

00:06:04.336 --> 00:06:05.786
So if you already adopted this

00:06:05.786 --> 00:06:08.096
API to support these two other

00:06:08.096 --> 00:06:09.666
features in previous iOS

00:06:09.666 --> 00:06:10.176
releases.

00:06:10.466 --> 00:06:11.996
Your notifications are already

00:06:11.996 --> 00:06:14.566
grouping today in iOS 12.

00:06:15.426 --> 00:06:17.346
You may want to review how the

00:06:17.346 --> 00:06:18.796
groups are created since now the

00:06:18.796 --> 00:06:19.926
context is a little bit

00:06:19.926 --> 00:06:20.356
different.

00:06:20.836 --> 00:06:23.316
So it may be useful to adjust

00:06:23.316 --> 00:06:24.526
them a little bit.

00:06:25.816 --> 00:06:28.136
So in this example, you see how

00:06:28.136 --> 00:06:29.456
to create a thread, set a thread

00:06:29.456 --> 00:06:30.616
identifier on a local

00:06:30.616 --> 00:06:31.356
notification.

00:06:32.766 --> 00:06:34.196
And of course you can set it on

00:06:34.196 --> 00:06:35.726
a push payload for push

00:06:35.726 --> 00:06:36.536
notifications.

00:06:42.376 --> 00:06:44.726
Okay. No, now let's go over a

00:06:44.726 --> 00:06:46.996
few examples from iOS 12.

00:06:48.136 --> 00:06:49.816
The most important thing to keep

00:06:49.816 --> 00:06:51.326
in mind as we go through these

00:06:51.326 --> 00:06:53.276
examples is the goal on

00:06:53.276 --> 00:06:54.266
notification grouping.

00:06:55.076 --> 00:06:56.226
When grouping-- by grouping

00:06:56.226 --> 00:06:59.276
notifications we want to make

00:06:59.586 --> 00:07:01.186
notifications more efficient for

00:07:01.186 --> 00:07:01.696
the user.

00:07:01.886 --> 00:07:03.956
And improve the organization in

00:07:03.956 --> 00:07:04.936
Notification Center.

00:07:05.376 --> 00:07:06.496
I'm sure you're familiar with

00:07:06.496 --> 00:07:09.386
the situation where one app has

00:07:09.386 --> 00:07:10.716
sent many notifications.

00:07:10.716 --> 00:07:12.286
Maybe you're in a chatty,

00:07:12.926 --> 00:07:14.176
messages conversations and

00:07:14.176 --> 00:07:15.456
someone is sending a lot of

00:07:15.456 --> 00:07:16.066
messages.

00:07:16.756 --> 00:07:17.926
We want to improve that

00:07:17.926 --> 00:07:19.966
situation by organizing

00:07:19.966 --> 00:07:21.136
notifications a little bit

00:07:21.136 --> 00:07:23.076
better so that the user can use

00:07:23.076 --> 00:07:23.976
them more effectively.

00:07:28.466 --> 00:07:30.246
Our first example is Calendar.

00:07:32.936 --> 00:07:35.456
Depending on how you organize

00:07:35.456 --> 00:07:37.006
your life or where you work,

00:07:37.656 --> 00:07:39.016
Calendar may send you a lot of

00:07:39.016 --> 00:07:41.886
notifications for event changes,

00:07:41.886 --> 00:07:42.796
event invites.

00:07:44.036 --> 00:07:45.816
But not all of them have the

00:07:45.816 --> 00:07:46.806
same importance.

00:07:47.076 --> 00:07:48.356
There are some notifications

00:07:48.356 --> 00:07:49.676
that are sent by Calendar that

00:07:49.676 --> 00:07:52.576
are more important than others.

00:07:53.086 --> 00:07:56.436
And they are event alerts that

00:07:56.436 --> 00:07:57.596
you set up when you create an

00:07:57.596 --> 00:07:57.916
event.

00:07:58.576 --> 00:08:00.316
Or time to leave notifications.

00:08:00.656 --> 00:08:02.346
These are more important because

00:08:02.666 --> 00:08:04.546
are notifications that I need to

00:08:04.546 --> 00:08:05.546
act on right now.

00:08:05.886 --> 00:08:07.116
If I receive a notification that

00:08:07.116 --> 00:08:08.736
I have a meeting in 15 minutes,

00:08:09.086 --> 00:08:10.536
I need to start walking, because

00:08:10.536 --> 00:08:11.446
I have to go to the meeting.

00:08:12.526 --> 00:08:13.896
But many of the other

00:08:13.896 --> 00:08:15.436
notifications are not something

00:08:15.436 --> 00:08:18.006
that need to be responded to

00:08:18.006 --> 00:08:18.526
immediately.

00:08:18.886 --> 00:08:20.986
There may be updates to share

00:08:20.986 --> 00:08:21.696
Calendars.

00:08:22.176 --> 00:08:23.986
There may be time changes in

00:08:23.986 --> 00:08:25.576
other events that are later in

00:08:25.576 --> 00:08:27.096
the day or some other day.

00:08:27.996 --> 00:08:29.956
And so it's useful to separate

00:08:29.956 --> 00:08:30.246
them.

00:08:31.796 --> 00:08:33.466
So what Calendar is doing is

00:08:33.976 --> 00:08:35.996
using the default group, the app

00:08:36.076 --> 00:08:38.566
group, for the bulk of the

00:08:38.566 --> 00:08:39.716
notification that it sends.

00:08:39.905 --> 00:08:41.905
And it does that by not setting

00:08:41.905 --> 00:08:43.686
any thread identifier on a

00:08:43.686 --> 00:08:45.396
majority of its notifications.

00:08:46.066 --> 00:08:47.556
Mail is a default value.

00:08:47.696 --> 00:08:49.486
So if you don't set it, that's a

00:08:49.486 --> 00:08:51.426
default group.

00:08:51.576 --> 00:08:54.076
And then Calendar sets a

00:08:54.076 --> 00:08:56.026
specific thread identifier just

00:08:56.026 --> 00:08:57.936
for these notifications that are

00:08:57.936 --> 00:08:59.396
more important and that it wants

00:08:59.396 --> 00:09:00.546
to call out.

00:09:02.476 --> 00:09:06.776
So the result is that most of

00:09:06.776 --> 00:09:08.866
the notifications from Calendar

00:09:08.866 --> 00:09:11.516
that are information updates

00:09:12.036 --> 00:09:14.186
that are not something that I

00:09:14.186 --> 00:09:15.406
need to react to immediately.

00:09:15.716 --> 00:09:17.506
Or that I don't need to have in

00:09:17.506 --> 00:09:18.936
reference later.

00:09:19.046 --> 00:09:20.126
For example, to know where the

00:09:20.126 --> 00:09:20.666
event is.

00:09:21.086 --> 00:09:22.276
They're grouped together in one

00:09:22.496 --> 00:09:22.796
group.

00:09:23.876 --> 00:09:25.476
And the other notifications that

00:09:25.536 --> 00:09:26.626
are the more important ones,

00:09:26.626 --> 00:09:28.316
more urgent or the ones that I

00:09:28.316 --> 00:09:29.856
need to reference maybe later to

00:09:29.856 --> 00:09:32.066
find the meeting room, they're

00:09:32.066 --> 00:09:36.866
separate than this other one.

00:09:37.056 --> 00:09:40.436
So this is-- just expand and I

00:09:40.436 --> 00:09:42.596
see what else is in my group.

00:09:43.286 --> 00:09:47.606
And this is the pattern that we

00:09:47.606 --> 00:09:48.606
learned from Calendar.

00:09:49.156 --> 00:09:51.066
Separate important actional

00:09:51.066 --> 00:09:52.796
notification from informative

00:09:52.796 --> 00:09:53.346
updates.

00:09:58.496 --> 00:10:01.256
Our next example is Messages.

00:10:02.796 --> 00:10:04.776
Messages is maybe the most

00:10:04.776 --> 00:10:06.676
straightforward notification

00:10:06.676 --> 00:10:07.706
group's implementation.

00:10:08.486 --> 00:10:09.936
It's pretty obvious.

00:10:09.936 --> 00:10:11.566
Messages has conversations.

00:10:12.256 --> 00:10:13.866
And each conversation has its

00:10:13.866 --> 00:10:14.846
own group.

00:10:16.146 --> 00:10:17.886
But we still, we can still learn

00:10:17.886 --> 00:10:18.716
something important.

00:10:18.716 --> 00:10:20.446
We can still learn a good lesson

00:10:20.446 --> 00:10:21.276
from Messages.

00:10:21.906 --> 00:10:24.866
Why is it that Messages separate

00:10:25.016 --> 00:10:26.706
all these groups in different

00:10:26.706 --> 00:10:27.936
conv-- different conversation in

00:10:27.936 --> 00:10:28.626
different groups?

00:10:28.996 --> 00:10:31.116
Well notifications that Messages

00:10:31.116 --> 00:10:34.386
sends are generally from people.

00:10:34.436 --> 00:10:35.496
From your friends, from your

00:10:35.496 --> 00:10:35.926
family.

00:10:36.216 --> 00:10:37.406
They're notifications that we

00:10:37.406 --> 00:10:39.526
care about, that are important.

00:10:40.006 --> 00:10:42.476
And second they're notifications

00:10:42.476 --> 00:10:44.006
that usually are short-lived.

00:10:44.346 --> 00:10:45.636
Because usually you respond

00:10:45.636 --> 00:10:46.786
pretty quickly at a Message.

00:10:47.126 --> 00:10:48.596
And it will go away from

00:10:48.596 --> 00:10:50.116
Notifications Center.

00:10:51.596 --> 00:10:53.746
So what Messages does is it

00:10:53.746 --> 00:10:56.036
creates a thread for these

00:10:56.576 --> 00:10:57.946
one-to-one conversation.

00:10:57.946 --> 00:10:59.546
And it creates a separate

00:10:59.886 --> 00:11:02.106
notification group for these

00:11:02.106 --> 00:11:02.956
group conversation.

00:11:03.756 --> 00:11:06.636
Just generates any group

00:11:06.636 --> 00:11:08.606
identifier for that thread and

00:11:08.606 --> 00:11:09.566
they get grouped together.

00:11:13.606 --> 00:11:16.076
It can expand and see, still see

00:11:16.076 --> 00:11:17.036
all my messages.

00:11:18.396 --> 00:11:20.316
So what does-- what is the

00:11:20.316 --> 00:11:21.386
lesson that we learned from

00:11:21.386 --> 00:11:22.016
Messages?

00:11:22.676 --> 00:11:24.456
Create groups for meaningful,

00:11:24.586 --> 00:11:25.816
personal communications.

00:11:26.626 --> 00:11:27.576
These notifications from

00:11:27.576 --> 00:11:30.226
Messages are usually important.

00:11:30.616 --> 00:11:33.856
And they live very shortly in

00:11:33.856 --> 00:11:34.766
Notification Center.

00:11:34.766 --> 00:11:37.146
So we can create many separate

00:11:37.146 --> 00:11:38.716
groups for all of them.

00:11:42.896 --> 00:11:44.756
Our final example is Mail.

00:11:47.046 --> 00:11:49.376
And Mail shares some of the same

00:11:49.376 --> 00:11:51.056
characteristics that Messages

00:11:51.056 --> 00:11:51.476
has.

00:11:52.236 --> 00:11:54.586
So they're often direct

00:11:54.586 --> 00:11:55.896
communications with people.

00:11:56.626 --> 00:12:01.376
They have a same, a similar

00:12:01.376 --> 00:12:03.626
concept of threads.

00:12:03.626 --> 00:12:04.486
Conversations.

00:12:05.856 --> 00:12:07.476
But there is some major

00:12:07.476 --> 00:12:09.326
differences between Mail and

00:12:09.326 --> 00:12:09.736
Messages.

00:12:10.626 --> 00:12:12.706
Mail can have an even higher

00:12:12.706 --> 00:12:14.406
volume of notifications than

00:12:14.406 --> 00:12:15.056
messages.

00:12:15.746 --> 00:12:18.556
And on the other hand, they can

00:12:18.556 --> 00:12:20.076
also be more long-lived.

00:12:20.896 --> 00:12:24.816
Mail, email is usually used for

00:12:25.116 --> 00:12:26.326
slower communications.

00:12:26.326 --> 00:12:27.836
Something that I don't expect to

00:12:27.836 --> 00:12:29.336
respond to immediately.

00:12:30.166 --> 00:12:33.236
And so organizing Mail threads,

00:12:33.816 --> 00:12:36.296
organizing Mail notifications by

00:12:36.296 --> 00:12:38.136
thread will not be ideal.

00:12:38.216 --> 00:12:40.506
It will create a lot of threads

00:12:40.646 --> 00:12:41.846
in Notification Center.

00:12:42.266 --> 00:12:44.486
And the UI to see in those

00:12:44.486 --> 00:12:46.306
thread is not very efficient.

00:12:46.306 --> 00:12:47.936
Mail provides a specific

00:12:48.476 --> 00:12:50.916
dedicated UI to displaying mail

00:12:50.916 --> 00:12:51.136
threads.

00:12:52.646 --> 00:12:54.836
So how is Mail organizing its

00:12:54.836 --> 00:12:55.676
notifications?

00:12:56.526 --> 00:12:58.566
Well, first of all, Mail

00:12:58.726 --> 00:13:01.186
provides some features to

00:13:01.186 --> 00:13:03.186
already organize and prioritize

00:13:03.286 --> 00:13:04.876
the emails that arrive in your

00:13:04.876 --> 00:13:05.336
inbox.

00:13:05.886 --> 00:13:09.226
Mail provides separate accounts.

00:13:09.226 --> 00:13:10.296
You can have many different

00:13:10.296 --> 00:13:12.116
accounts set up in your device.

00:13:13.116 --> 00:13:15.046
Provides VIP.

00:13:15.046 --> 00:13:17.556
You can set any contact as VIP.

00:13:17.556 --> 00:13:20.596
You can create-- you can have

00:13:20.696 --> 00:13:21.666
favorite folders.

00:13:22.066 --> 00:13:23.326
And you can turn on

00:13:23.326 --> 00:13:24.696
notifications for specific

00:13:24.766 --> 00:13:27.746
threads inside your mail client.

00:13:28.596 --> 00:13:31.116
And so it seems like the user is

00:13:31.116 --> 00:13:33.156
already telling us which

00:13:33.156 --> 00:13:34.026
notifications are more

00:13:34.026 --> 00:13:34.566
important.

00:13:34.566 --> 00:13:35.746
Which email messages are more

00:13:35.746 --> 00:13:37.036
important and which are less

00:13:37.036 --> 00:13:37.616
important.

00:13:37.926 --> 00:13:39.156
And that is what Mail does.

00:13:39.836 --> 00:13:43.116
Mail organizes notifications

00:13:43.276 --> 00:13:44.766
first by starting with the

00:13:44.966 --> 00:13:45.896
account group.

00:13:46.436 --> 00:13:48.186
It creates one big account for

00:13:48.236 --> 00:13:49.926
all the emails that arrive in a

00:13:49.926 --> 00:13:50.776
specific account.

00:13:51.786 --> 00:13:53.546
If I had multiple accounts, each

00:13:53.546 --> 00:13:55.566
one would get its own group.

00:13:56.316 --> 00:14:00.016
But then if a contact that is in

00:14:00.016 --> 00:14:02.296
my VIP contact sends an email to

00:14:02.296 --> 00:14:03.016
that account.

00:14:03.796 --> 00:14:06.286
That email is separated out to a

00:14:06.346 --> 00:14:08.536
different group because I said

00:14:08.536 --> 00:14:09.706
that's a VIP person.

00:14:09.706 --> 00:14:11.016
That's a contract that I want to

00:14:11.016 --> 00:14:13.836
be informed about immediately

00:14:13.916 --> 00:14:16.616
when it sends an email.

00:14:16.616 --> 00:14:18.226
And if I turn on thread

00:14:18.226 --> 00:14:19.826
notifications for some specific

00:14:19.876 --> 00:14:22.256
threads inside of Mail, also,

00:14:22.256 --> 00:14:24.256
those also get separated out in

00:14:24.346 --> 00:14:24.976
their own group.

00:14:29.266 --> 00:14:32.166
So you see that while Mail

00:14:32.466 --> 00:14:34.636
shares some of the same

00:14:34.636 --> 00:14:37.356
characteristics as Messages, the

00:14:37.356 --> 00:14:38.266
approach of grouping

00:14:38.266 --> 00:14:39.416
notification is a little

00:14:39.416 --> 00:14:39.876
different.

00:14:39.936 --> 00:14:41.656
Because the use of the

00:14:41.656 --> 00:14:43.336
notification and of the app and

00:14:43.336 --> 00:14:45.266
the content is different.

00:14:46.216 --> 00:14:49.036
So what is Mail telling us here?

00:14:49.776 --> 00:14:51.726
Respect the user's priorities

00:14:51.776 --> 00:14:52.746
and organization.

00:14:53.116 --> 00:14:54.796
Mail provides feature to

00:14:54.796 --> 00:14:57.306
organize email and to prioritize

00:14:57.306 --> 00:14:57.966
the content.

00:14:58.356 --> 00:15:00.926
So we can use that to organize

00:15:00.926 --> 00:15:01.976
notifications that Mail sends.

00:15:10.246 --> 00:15:12.196
So now that we've seen how to

00:15:12.196 --> 00:15:14.566
create as many groups as we

00:15:14.566 --> 00:15:18.776
want, we'll see how to make

00:15:18.776 --> 00:15:20.146
these groups a little bit more

00:15:20.146 --> 00:15:20.656
clear.

00:15:20.656 --> 00:15:22.106
By providing some bits of

00:15:22.106 --> 00:15:23.926
information in the group.

00:15:25.186 --> 00:15:27.576
That describes the content that

00:15:27.576 --> 00:15:28.136
they contain.

00:15:30.596 --> 00:15:33.216
As we see in these example of my

00:15:33.216 --> 00:15:34.576
Notification Center from last

00:15:34.576 --> 00:15:34.726
week.

00:15:35.686 --> 00:15:37.446
Each group has a little short

00:15:37.446 --> 00:15:38.486
summary at the bottom.

00:15:38.666 --> 00:15:39.936
And it explains a little bit of

00:15:39.936 --> 00:15:41.076
what that group is about.

00:15:41.566 --> 00:15:43.136
For example, you see Mail says

00:15:43.136 --> 00:15:45.136
that I have a few emails from in

00:15:45.136 --> 00:15:46.076
my work account.

00:15:47.466 --> 00:15:49.116
Podcasts is telling me that I

00:15:49.116 --> 00:15:50.456
have a bunch of new episodes

00:15:50.496 --> 00:15:52.186
that were delivered to my

00:15:52.576 --> 00:15:56.496
Podcasts app to listen.

00:15:56.556 --> 00:15:59.166
And News tells me I have nine

00:15:59.166 --> 00:16:00.726
more notifications from National

00:16:00.726 --> 00:16:01.746
Geographic.

00:16:05.186 --> 00:16:07.356
Let's explore this one a little

00:16:07.356 --> 00:16:07.616
bit.

00:16:07.656 --> 00:16:10.426
If your nine notifications said

00:16:10.426 --> 00:16:12.096
default message that we set in

00:16:12.096 --> 00:16:13.796
groups if you don't customize

00:16:13.796 --> 00:16:14.326
your summary.

00:16:15.166 --> 00:16:18.856
But you can better describe your

00:16:18.856 --> 00:16:19.366
content.

00:16:19.416 --> 00:16:20.916
For example, if you have an app

00:16:20.976 --> 00:16:22.176
that sends messages.

00:16:22.966 --> 00:16:24.856
You may want to see, you may

00:16:24.856 --> 00:16:26.056
want to say there that you're

00:16:26.056 --> 00:16:27.306
sending nine more messages.

00:16:28.156 --> 00:16:30.006
So how you do that?

00:16:30.776 --> 00:16:32.206
The first thing you have to do

00:16:32.236 --> 00:16:34.186
is to pick a summary format.

00:16:34.446 --> 00:16:36.316
And this is a format string that

00:16:36.316 --> 00:16:37.906
just describes your content with

00:16:37.906 --> 00:16:39.356
a numerical placeholder.

00:16:39.636 --> 00:16:41.926
As we see here, number, more

00:16:41.926 --> 00:16:42.646
messages.

00:16:42.956 --> 00:16:45.876
And then you set this format

00:16:45.876 --> 00:16:47.566
string in the notification

00:16:47.566 --> 00:16:49.776
category that you're going to

00:16:49.776 --> 00:16:50.926
use to send a notification.

00:16:54.276 --> 00:16:55.586
If you notice, the summary

00:16:55.586 --> 00:16:57.386
format is set on the category.

00:16:57.806 --> 00:16:59.356
Whereas the thread was set on

00:16:59.356 --> 00:17:00.546
the notification content.

00:17:01.076 --> 00:17:02.796
This is because categories as

00:17:02.796 --> 00:17:06.266
you know are types, groups, of

00:17:06.366 --> 00:17:08.626
notifications that you send that

00:17:08.626 --> 00:17:09.326
are similar.

00:17:09.955 --> 00:17:11.596
For example, messages has

00:17:11.656 --> 00:17:12.935
different categories for

00:17:13.336 --> 00:17:14.945
one-to-one conversations.

00:17:15.026 --> 00:17:16.675
And group conversations.

00:17:17.046 --> 00:17:18.266
And this means that they can set

00:17:18.266 --> 00:17:19.806
different summaries for those

00:17:19.806 --> 00:17:20.616
two categories.

00:17:21.106 --> 00:17:22.326
That is why the summary format

00:17:22.326 --> 00:17:23.766
is set in the category here.

00:17:27.435 --> 00:17:29.546
And while you're here updating

00:17:29.546 --> 00:17:31.166
your notification category for

00:17:31.526 --> 00:17:33.306
notification groups, you can

00:17:33.306 --> 00:17:35.536
also set this hidden previous

00:17:35.536 --> 00:17:38.216
placeholder property which is

00:17:38.216 --> 00:17:40.346
very similar to the summary that

00:17:40.346 --> 00:17:41.816
we used for notification groups.

00:17:42.656 --> 00:17:43.936
The major difference between

00:17:43.936 --> 00:17:45.916
these two is the context in

00:17:45.916 --> 00:17:46.656
which they're used.

00:17:47.586 --> 00:17:48.906
The hidden previous placeholder

00:17:48.906 --> 00:17:49.866
is not a new feature.

00:17:49.866 --> 00:17:50.726
It's a feature that we

00:17:50.726 --> 00:17:52.906
introduced last year in iOS 11.

00:17:53.696 --> 00:17:56.486
And this customizes the text

00:17:56.816 --> 00:17:58.736
that is displayed instead of the

00:17:58.736 --> 00:18:00.566
notification when the user sets

00:18:00.566 --> 00:18:02.066
the notification to be private.

00:18:02.876 --> 00:18:03.916
If I set a notification to be

00:18:03.916 --> 00:18:07.066
private, I say nine more

00:18:07.066 --> 00:18:07.776
messages.

00:18:08.286 --> 00:18:09.926
But then when I authenticate and

00:18:09.926 --> 00:18:12.156
I unlock my device, I can see

00:18:12.306 --> 00:18:13.696
the expanding notification and

00:18:13.696 --> 00:18:15.536
the summary underneath that says

00:18:16.006 --> 00:18:17.066
eight more messages.

00:18:17.476 --> 00:18:19.486
And that is why the summary

00:18:19.486 --> 00:18:21.646
format has more messages.

00:18:22.066 --> 00:18:23.726
And the preview placeholder has

00:18:23.726 --> 00:18:25.806
only the number of messages.

00:18:31.196 --> 00:18:34.436
So that was the setup for a

00:18:34.436 --> 00:18:36.166
basic summary.

00:18:36.826 --> 00:18:38.486
But Messages for group

00:18:38.486 --> 00:18:39.776
conversation has a more

00:18:39.776 --> 00:18:41.816
interesting summary, where it

00:18:41.816 --> 00:18:43.416
says the number of messages.

00:18:43.696 --> 00:18:46.096
But also the people that sent

00:18:46.096 --> 00:18:48.926
those messages in that thread in

00:18:48.926 --> 00:18:49.736
that conversation.

00:18:49.736 --> 00:18:52.676
And we cannot do that with the

00:18:52.676 --> 00:18:54.056
formula that we just specified

00:18:54.056 --> 00:18:55.916
because it only has a numerical

00:18:55.916 --> 00:18:56.586
placeholder.

00:18:57.656 --> 00:19:00.476
So what we do is we create a

00:19:00.476 --> 00:19:02.736
different summary format that

00:19:02.736 --> 00:19:06.206
contains a numerical string-- a

00:19:06.206 --> 00:19:07.986
numerical placeholder and a

00:19:07.986 --> 00:19:08.966
string placeholder.

00:19:09.286 --> 00:19:11.196
As you see here, number, more

00:19:11.196 --> 00:19:13.176
messages from a string.

00:19:13.786 --> 00:19:15.926
And we will replace the second

00:19:15.926 --> 00:19:17.486
placeholder with a list of names

00:19:17.876 --> 00:19:19.246
that are in the notifications.

00:19:20.856 --> 00:19:22.736
Still set the summary format in

00:19:22.736 --> 00:19:23.376
the category.

00:19:24.126 --> 00:19:25.936
And then we have to collect

00:19:25.936 --> 00:19:26.636
these names.

00:19:28.376 --> 00:19:30.306
To send these names, you set

00:19:30.366 --> 00:19:33.076
them in the notification content

00:19:33.136 --> 00:19:33.566
again.

00:19:33.706 --> 00:19:35.216
Because each notification can be

00:19:35.216 --> 00:19:36.716
sent by a different person.

00:19:36.716 --> 00:19:40.396
And they can be different names.

00:19:40.576 --> 00:19:42.466
So we will collect all of those

00:19:42.466 --> 00:19:44.976
names, build them up in a string

00:19:44.976 --> 00:19:48.726
and replace them in the summary.

00:19:49.046 --> 00:19:50.956
Oh, this is the push payload of

00:19:51.006 --> 00:19:52.786
course also supports summary

00:19:52.786 --> 00:19:53.356
arguments.

00:19:53.866 --> 00:19:56.226
And this is how the summary

00:19:56.396 --> 00:19:58.496
looks after we collected all the

00:19:58.496 --> 00:20:00.306
names and formatted them in the

00:20:00.306 --> 00:20:00.966
summary argument.

00:20:06.096 --> 00:20:07.546
The names don't need to be

00:20:07.546 --> 00:20:07.996
unique.

00:20:08.186 --> 00:20:11.166
You can send many notifications

00:20:11.166 --> 00:20:12.006
with the same name.

00:20:12.526 --> 00:20:15.506
And in this, in the Mail case,

00:20:15.506 --> 00:20:16.896
for example, all the

00:20:16.896 --> 00:20:18.396
notifications have the same name

00:20:18.396 --> 00:20:19.386
because they're all in the same

00:20:19.386 --> 00:20:19.856
account.

00:20:20.176 --> 00:20:22.256
We will handle de-duplicating

00:20:22.256 --> 00:20:23.716
them and will display only one

00:20:23.866 --> 00:20:25.796
instance for each single name

00:20:25.796 --> 00:20:26.566
that is visible.

00:20:32.016 --> 00:20:34.766
Next example is Podcasts.

00:20:35.396 --> 00:20:37.566
Podcasts shows us another small

00:20:37.566 --> 00:20:40.226
detail about this API.

00:20:40.346 --> 00:20:41.396
What is special about this

00:20:41.396 --> 00:20:42.116
notification?

00:20:42.956 --> 00:20:44.426
In this notification, Podcasts

00:20:44.426 --> 00:20:46.426
is saying that there are two new

00:20:46.426 --> 00:20:49.506
episodes available in my leading

00:20:49.506 --> 00:20:51.816
notification Podcasts.

00:20:53.276 --> 00:20:54.776
And the summary says that there

00:20:54.776 --> 00:20:56.966
are seven more episodes from a

00:20:56.966 --> 00:20:57.746
number of shows.

00:20:58.656 --> 00:21:00.326
And what happens when I expand

00:21:00.326 --> 00:21:01.126
this group?

00:21:03.276 --> 00:21:04.906
What happens is that there are

00:21:04.906 --> 00:21:05.976
only three external

00:21:05.976 --> 00:21:07.366
notifications in the group.

00:21:07.826 --> 00:21:10.106
Not seven like the summary said.

00:21:10.366 --> 00:21:11.796
And in previous examples, the

00:21:11.796 --> 00:21:13.816
number in the summary matched

00:21:14.076 --> 00:21:15.886
the number of notifications that

00:21:15.886 --> 00:21:18.206
were contained in the group.

00:21:18.396 --> 00:21:19.556
So what is happening here?

00:21:20.936 --> 00:21:23.386
Well, since Podcasts does these

00:21:23.386 --> 00:21:25.176
bundling on notification and

00:21:25.176 --> 00:21:26.886
they try to limit the number of

00:21:26.886 --> 00:21:28.196
notifications they send.

00:21:28.716 --> 00:21:30.706
When a show releases multiple

00:21:30.706 --> 00:21:32.106
episodes at the same time.

00:21:32.576 --> 00:21:33.716
They have these notifications

00:21:33.716 --> 00:21:35.566
that say, "Two new episodes are

00:21:35.566 --> 00:21:36.796
available, three new episodes

00:21:36.796 --> 00:21:37.246
are available."

00:21:38.286 --> 00:21:41.426
And if you sum the number, the

00:21:41.426 --> 00:21:42.866
number of episodes in the bottom

00:21:42.866 --> 00:21:44.146
three notifications, there were

00:21:44.466 --> 00:21:45.696
the ones that accounted for the

00:21:45.696 --> 00:21:47.006
summary, you can see that the

00:21:47.006 --> 00:21:47.846
total is seven.

00:21:48.966 --> 00:21:51.106
So let's see how the API for

00:21:51.106 --> 00:21:51.786
this works.

00:21:52.376 --> 00:21:55.146
It's just another property on

00:21:55.146 --> 00:21:56.796
the notification content and

00:21:56.796 --> 00:21:58.246
it's called summary argument

00:21:58.296 --> 00:21:58.656
count.

00:22:00.066 --> 00:22:01.856
And this count expresses the

00:22:01.856 --> 00:22:03.986
number of items that summary

00:22:03.986 --> 00:22:05.666
argument account, accounts for.

00:22:05.986 --> 00:22:06.706
In the summary.

00:22:07.256 --> 00:22:10.516
We will collect again as before

00:22:10.516 --> 00:22:11.236
all the names.

00:22:11.806 --> 00:22:13.786
We will sum up all the counts.

00:22:14.006 --> 00:22:16.036
And we will create the summary.

00:22:16.996 --> 00:22:19.466
And again as we can see, these

00:22:19.466 --> 00:22:21.556
notification would have summary

00:22:21.556 --> 00:22:23.386
argument count three, one,

00:22:23.496 --> 00:22:25.056
three, total is seven.

00:22:25.776 --> 00:22:27.516
And that's the summary that we

00:22:27.516 --> 00:22:27.946
displayed.

00:22:28.386 --> 00:22:31.916
And as everything else, of

00:22:31.916 --> 00:22:33.356
course you can also set it in

00:22:33.356 --> 00:22:34.136
the push payload.

00:22:37.916 --> 00:22:39.636
The summary argument count is

00:22:39.636 --> 00:22:40.096
optional.

00:22:40.646 --> 00:22:42.776
Defaults to one so you can only

00:22:42.776 --> 00:22:44.866
need to set it if you're doing

00:22:44.866 --> 00:22:45.996
this type of bundling on

00:22:45.996 --> 00:22:46.686
notifications.

00:22:46.686 --> 00:22:47.706
You don't need to set it always.

00:22:54.086 --> 00:22:57.236
Now, we are playing with words

00:22:57.506 --> 00:22:59.346
and we are building sentences.

00:22:59.346 --> 00:23:01.936
And when you do that, you always

00:23:01.936 --> 00:23:04.606
need to account for different

00:23:04.606 --> 00:23:06.256
languages and you need to

00:23:06.256 --> 00:23:07.646
account for plurals in this

00:23:07.646 --> 00:23:07.966
case.

00:23:07.966 --> 00:23:09.036
Because we have numbers.

00:23:11.816 --> 00:23:13.756
Again, another Podcast

00:23:13.756 --> 00:23:14.376
notification.

00:23:14.376 --> 00:23:15.536
For example, in this case.

00:23:15.846 --> 00:23:17.206
It says, "Four more episodes."

00:23:17.906 --> 00:23:19.576
But if I only had one more

00:23:19.576 --> 00:23:21.796
episode, that string would need

00:23:21.796 --> 00:23:22.496
to be different.

00:23:23.266 --> 00:23:24.996
But the API only allows us to

00:23:24.996 --> 00:23:25.816
set one string.

00:23:27.156 --> 00:23:29.536
And now we need two.

00:23:29.786 --> 00:23:30.986
You need two in English.

00:23:31.766 --> 00:23:33.826
But if you want to start to

00:23:33.826 --> 00:23:36.826
localize your app or if your

00:23:36.826 --> 00:23:38.316
main language is not English,

00:23:38.316 --> 00:23:39.496
you're writing up for a

00:23:39.496 --> 00:23:40.386
different language.

00:23:41.136 --> 00:23:43.156
Some languages have different

00:23:43.156 --> 00:23:44.226
rules for plurals.

00:23:44.556 --> 00:23:46.126
They may not have two cases.

00:23:46.156 --> 00:23:47.006
They may have three.

00:23:47.416 --> 00:23:49.156
And they may have cases that

00:23:49.156 --> 00:23:50.116
apply with different rules.

00:23:51.666 --> 00:23:54.766
So iOS in the foundation

00:23:54.766 --> 00:23:56.926
frameworks provides support for

00:23:56.926 --> 00:23:57.986
localizing these kind of

00:23:57.986 --> 00:23:58.446
strings.

00:23:58.906 --> 00:24:00.546
So you don't need to learn all

00:24:00.546 --> 00:24:01.196
the rules.

00:24:01.196 --> 00:24:02.576
And you don't need to know all

00:24:02.576 --> 00:24:03.596
the languages that you're going

00:24:03.596 --> 00:24:04.696
to translate your app to.

00:24:05.886 --> 00:24:08.576
And it's very simple to adopt

00:24:08.576 --> 00:24:11.296
and translate each string to

00:24:11.296 --> 00:24:12.696
have the correct plural form.

00:24:18.376 --> 00:24:20.116
The first thing that we need to

00:24:20.506 --> 00:24:24.776
do to adopt this 'fix our

00:24:24.776 --> 00:24:26.826
problem with plurals' is to

00:24:26.826 --> 00:24:28.876
replace the literal string that

00:24:28.876 --> 00:24:30.656
we use for the summary format,

00:24:31.026 --> 00:24:32.566
with a localized string.

00:24:32.986 --> 00:24:36.256
And remember here that you need

00:24:36.256 --> 00:24:38.066
to use our special notification

00:24:38.106 --> 00:24:39.836
API for localized strings,

00:24:40.596 --> 00:24:43.536
because we need to store these

00:24:43.536 --> 00:24:44.946
localized string and set it

00:24:44.946 --> 00:24:45.556
aside.

00:24:46.146 --> 00:24:48.136
Because in the case that the

00:24:48.136 --> 00:24:49.916
language of the system changes

00:24:50.546 --> 00:24:51.056
later.

00:24:51.366 --> 00:24:52.746
If you send notifications, we

00:24:52.746 --> 00:24:53.846
send them with the correct

00:24:53.846 --> 00:24:56.166
localization after the system

00:24:56.166 --> 00:24:57.196
localization change.

00:24:59.716 --> 00:25:01.906
So after you set a localized

00:25:01.906 --> 00:25:03.426
string here, you need to

00:25:03.426 --> 00:25:04.416
localize the string.

00:25:05.606 --> 00:25:08.976
And you localize the string in a

00:25:09.206 --> 00:25:10.766
strings dict file.

00:25:11.426 --> 00:25:12.996
A strings dict file is a

00:25:13.436 --> 00:25:14.646
property list file that

00:25:14.646 --> 00:25:18.036
describes a performance string

00:25:18.236 --> 00:25:20.186
and a configuration dictionary.

00:25:20.526 --> 00:25:21.956
In the configuration dictionary

00:25:21.956 --> 00:25:23.526
here at the bottom, you see the

00:25:23.526 --> 00:25:26.646
two versions of the string for

00:25:26.646 --> 00:25:28.586
singular and plural in English.

00:25:29.526 --> 00:25:31.396
But as I said, all you need to

00:25:31.396 --> 00:25:33.046
do to support other languages

00:25:33.046 --> 00:25:34.256
and different pluralization

00:25:34.256 --> 00:25:37.296
rules is change this stings dict

00:25:37.296 --> 00:25:37.666
file.

00:25:37.936 --> 00:25:38.796
You create a new one.

00:25:38.956 --> 00:25:40.776
And you see here Hebrew has

00:25:40.826 --> 00:25:42.356
three different cases for

00:25:43.556 --> 00:25:44.096
plurals.

00:25:44.696 --> 00:25:47.106
And Russian has three different

00:25:47.106 --> 00:25:48.616
ones and they're different from

00:25:48.616 --> 00:25:48.996
Hebrew.

00:25:49.216 --> 00:25:51.336
And you don't need to know which

00:25:51.336 --> 00:25:52.266
one to use when.

00:25:52.716 --> 00:25:53.886
If you use the foundation API

00:25:53.886 --> 00:25:54.656
that we provide.

00:25:56.776 --> 00:25:59.666
This is for the simple summary

00:26:00.276 --> 00:26:01.286
format that we just saw.

00:26:02.106 --> 00:26:04.416
But of course we can also format

00:26:05.866 --> 00:26:07.106
summaries with arguments.

00:26:08.216 --> 00:26:11.866
You see we define the format

00:26:11.866 --> 00:26:12.986
string at the top.

00:26:13.486 --> 00:26:14.746
We need to match the

00:26:14.746 --> 00:26:17.536
configuration dictionary by key.

00:26:18.756 --> 00:26:20.396
And underneath we specify the

00:26:20.396 --> 00:26:21.646
two strings for the two

00:26:21.646 --> 00:26:22.456
different versions.

00:26:23.496 --> 00:26:25.586
With the numerical placeholder

00:26:26.026 --> 00:26:28.216
and the placeholder for the list

00:26:28.606 --> 00:26:29.526
that we're going to provide with

00:26:29.526 --> 00:26:29.786
names.

00:26:35.126 --> 00:26:39.146
So since we're exchanging these

00:26:39.146 --> 00:26:41.896
format strings between apps and

00:26:42.006 --> 00:26:42.806
the system.

00:26:43.256 --> 00:26:44.646
These are effectively part of

00:26:44.646 --> 00:26:44.996
the API.

00:26:45.736 --> 00:26:47.826
So there's only a limited number

00:26:47.946 --> 00:26:50.236
of formats that we can support.

00:26:51.346 --> 00:26:52.936
And we need to agree on those.

00:26:53.676 --> 00:26:54.576
And they are the ones that I

00:26:54.576 --> 00:26:55.436
just showed you in these

00:26:55.436 --> 00:26:56.116
examples.

00:26:56.866 --> 00:26:58.506
The first format that you can

00:26:58.506 --> 00:26:59.996
use is the one with one

00:27:00.186 --> 00:27:01.486
numerical placeholder.

00:27:02.066 --> 00:27:03.136
When you don't need the

00:27:03.136 --> 00:27:04.696
arguments and you need to

00:27:04.696 --> 00:27:07.496
specify an unsigned number.

00:27:09.206 --> 00:27:10.996
And the second format that you

00:27:10.996 --> 00:27:13.216
need, you can use is the one

00:27:13.216 --> 00:27:14.686
with the numerical placeholder

00:27:14.766 --> 00:27:16.166
and the string placeholder.

00:27:16.166 --> 00:27:19.196
We will automatically detect

00:27:19.496 --> 00:27:20.966
which string you are using and

00:27:21.006 --> 00:27:21.976
format them correctly.

00:27:27.426 --> 00:27:29.416
Now we're all done with the

00:27:29.416 --> 00:27:31.636
features of notification

00:27:31.636 --> 00:27:32.046
grouping.

00:27:32.576 --> 00:27:34.376
But before you leave, I want to

00:27:34.376 --> 00:27:35.786
give you a couple more tips

00:27:36.396 --> 00:27:37.986
about notification grouping and

00:27:37.986 --> 00:27:40.026
these API that will help you

00:27:40.026 --> 00:27:42.766
finish the last bit of polish in

00:27:42.766 --> 00:27:44.546
your app.

00:27:45.436 --> 00:27:48.396
The first step is about

00:27:48.396 --> 00:27:52.416
combining different summaries.

00:27:52.616 --> 00:27:54.606
Since we saw that you can set

00:27:54.656 --> 00:27:57.136
different summaries in different

00:27:57.136 --> 00:27:57.786
categories.

00:27:58.186 --> 00:28:00.816
And the thread group are defined

00:28:00.816 --> 00:28:02.136
in the notification content.

00:28:02.526 --> 00:28:04.526
That means that you can mix in

00:28:04.526 --> 00:28:06.826
the same group notifications

00:28:06.826 --> 00:28:08.196
that have different summaries.

00:28:08.696 --> 00:28:09.986
And what happens when you do

00:28:09.986 --> 00:28:10.216
that?

00:28:11.276 --> 00:28:12.946
So there's two main cases.

00:28:13.756 --> 00:28:16.206
If none of the summaries in that

00:28:16.206 --> 00:28:18.756
group have any arguments, we'll

00:28:18.756 --> 00:28:21.166
try to combine all the summaries

00:28:21.166 --> 00:28:22.726
in the list and display them

00:28:22.726 --> 00:28:24.246
like this.

00:28:24.516 --> 00:28:28.196
But if any of the notification

00:28:28.196 --> 00:28:31.116
summaries in that group have any

00:28:31.116 --> 00:28:32.966
arguments, we're going to have

00:28:32.966 --> 00:28:34.246
to fall back to the default

00:28:34.246 --> 00:28:34.776
message.

00:28:40.276 --> 00:28:43.486
The second tip is about enriched

00:28:43.486 --> 00:28:45.026
notifications and groups.

00:28:46.436 --> 00:28:47.836
So we introduced enriched

00:28:47.836 --> 00:28:49.836
notifications a while ago in

00:28:49.966 --> 00:28:50.516
iOS.

00:28:51.006 --> 00:28:52.976
And they continued working in

00:28:53.116 --> 00:28:54.406
with group notifications.

00:28:55.356 --> 00:28:58.166
And when the user presses on a

00:28:58.166 --> 00:28:59.576
group to see the enriched

00:28:59.576 --> 00:29:01.566
notification that loads your

00:29:01.566 --> 00:29:02.826
content extension for that

00:29:02.926 --> 00:29:05.406
group, what happens is that your

00:29:05.406 --> 00:29:07.756
notification will be loaded with

00:29:08.126 --> 00:29:09.856
the leading notification.

00:29:09.856 --> 00:29:11.096
The one that is displayed at the

00:29:11.146 --> 00:29:13.186
top, and you receive it in

00:29:13.186 --> 00:29:14.806
notification using the usual

00:29:15.106 --> 00:29:16.496
[inaudible] notification API.

00:29:21.046 --> 00:29:22.456
Once the extension is loaded,

00:29:22.826 --> 00:29:24.536
you can load additional

00:29:24.536 --> 00:29:25.516
notifications.

00:29:25.516 --> 00:29:26.716
For example, the same ones that

00:29:26.716 --> 00:29:29.096
are in the group or if you want

00:29:29.096 --> 00:29:30.196
to display different content,

00:29:30.196 --> 00:29:31.266
you can also load it with your

00:29:31.266 --> 00:29:31.656
own API.

00:29:35.216 --> 00:29:37.546
Then while your extension is

00:29:37.546 --> 00:29:39.286
open and is running, if

00:29:39.286 --> 00:29:40.806
additional notifications are

00:29:40.806 --> 00:29:42.596
delivered to the same group, so

00:29:42.596 --> 00:29:43.566
they have the same thread

00:29:43.566 --> 00:29:45.316
identifier, they will be

00:29:45.316 --> 00:29:47.126
delivered to your content

00:29:47.126 --> 00:29:49.466
extension using the same did

00:29:49.466 --> 00:29:50.856
received notification method

00:29:51.166 --> 00:29:51.856
that you receive at the

00:29:51.856 --> 00:29:52.266
beginning.

00:29:56.316 --> 00:29:58.956
And lastly, if you display, if

00:29:58.956 --> 00:30:01.086
you already displayed additional

00:30:01.086 --> 00:30:02.696
notifications to the user by

00:30:03.216 --> 00:30:04.946
loading them from the delivery

00:30:04.946 --> 00:30:05.826
notifications.

00:30:06.186 --> 00:30:08.156
Or by loading them from your own

00:30:08.276 --> 00:30:10.366
API, you should remove them from

00:30:10.366 --> 00:30:11.576
Notification Center.

00:30:11.906 --> 00:30:13.996
To continue keeping Notification

00:30:13.996 --> 00:30:16.736
Center organized and more

00:30:16.736 --> 00:30:16.966
efficient.

00:30:18.336 --> 00:30:20.696
I want to recap a little what we

00:30:20.696 --> 00:30:21.356
talked about.

00:30:21.926 --> 00:30:23.666
It was a long presentation, and

00:30:23.796 --> 00:30:25.156
there were a lot of details.

00:30:25.156 --> 00:30:26.676
But I only have two very

00:30:26.676 --> 00:30:27.716
important things that I want you

00:30:27.716 --> 00:30:28.506
to remember here.

00:30:29.036 --> 00:30:31.266
The first one is the goal of

00:30:31.266 --> 00:30:32.266
notification grouping.

00:30:32.816 --> 00:30:33.866
The goal of notification

00:30:33.866 --> 00:30:36.166
grouping is to better organize

00:30:36.166 --> 00:30:38.146
Notification Center and help

00:30:38.146 --> 00:30:40.706
your users be more efficient in

00:30:40.706 --> 00:30:41.456
when they're using your

00:30:41.456 --> 00:30:42.186
notifications.

00:30:42.576 --> 00:30:44.116
This will help them triage them,

00:30:44.336 --> 00:30:46.026
and will have them receiving

00:30:46.026 --> 00:30:47.176
important information more

00:30:47.176 --> 00:30:49.336
quickly and react better.

00:30:50.576 --> 00:30:55.066
And the second thing I want you

00:30:55.066 --> 00:30:57.096
to remember is to add custom

00:30:57.096 --> 00:30:58.526
summaries to improve clarity.

00:30:59.336 --> 00:31:00.746
As you see in my examples, for

00:31:00.746 --> 00:31:03.036
example in podcasts or in Mail,

00:31:03.776 --> 00:31:05.446
just that little bit of text

00:31:05.556 --> 00:31:07.826
underneath the notification

00:31:07.826 --> 00:31:09.736
group will help to see what else

00:31:09.736 --> 00:31:10.916
is new in that group.

00:31:11.306 --> 00:31:12.716
And I don't need to open the

00:31:12.716 --> 00:31:14.606
notification group just to see

00:31:15.486 --> 00:31:16.876
everything about the content.

00:31:16.876 --> 00:31:19.226
The summary already gives some

00:31:19.226 --> 00:31:19.846
information.

00:31:21.206 --> 00:31:23.676
We will have a lab shortly right

00:31:23.676 --> 00:31:25.866
after this session, downstairs.

00:31:26.306 --> 00:31:27.706
We will have another lab

00:31:28.056 --> 00:31:29.796
tomorrow morning, and we look

00:31:29.796 --> 00:31:30.796
forward to talking to you.

00:31:31.186 --> 00:31:33.656
And on Friday, there is another

00:31:33.656 --> 00:31:35.686
session about notifications that

00:31:35.686 --> 00:31:37.206
talks a little bit more about

00:31:37.206 --> 00:31:38.346
the design aspects.

00:31:38.456 --> 00:31:40.696
About how to think about your

00:31:40.696 --> 00:31:42.446
notifications globally across

00:31:42.446 --> 00:31:44.196
all the user devices and across

00:31:44.196 --> 00:31:45.766
different systems.

00:31:47.196 --> 00:31:49.176
Thank you very much, and I'll

00:31:49.176 --> 00:31:49.696
see you later.

00:31:50.508 --> 00:31:52.508
[ Applause ]