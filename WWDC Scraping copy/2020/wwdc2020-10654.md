# Wwdc2020 10654

## Transcript

More Videos

Streaming is available in most browsers,and in the Developer app.

About

Transcript

Create Swift Playgrounds content for iPad and MacLearn how to create Swift Playgrounds books that work fluidly across both Mac and iPad and help people of all ages explore the fun of coding in Swift. We'll walk you through how to customize content for each platform while considering platform settings, and help you take advantage of them in your playgrounds while still providing a smooth cross-platform experience.

For more on Swift Playgrounds, check out "Build a SwiftUI view in Swift Playgrounds", and try your hand with "Swan's Quest".ResourcesHD VideoSD VideoRelated VideosWWDC20Build a SwiftUI view in Swift PlaygroundsSwan's Quest, Chapter 1: Voices in the darkSwan's Quest, Chapter 2: A time for tonesSwan's Quest, Chapter 3: The notable scrollSwan's Quest, Chapter 4: The sequence completes

Learn how to create Swift Playgrounds books that work fluidly across both Mac and iPad and help people of all ages explore the fun of coding in Swift. We'll walk you through how to customize content for each platform while considering platform settings, and help you take advantage of them in your playgrounds while still providing a smooth cross-platform experience.

For more on Swift Playgrounds, check out "Build a SwiftUI view in Swift Playgrounds", and try your hand with "Swan's Quest".

HD VideoSD Video

HD Video

SD Video

Build a SwiftUI view in Swift Playgrounds

Swan's Quest, Chapter 1: Voices in the dark

Swan's Quest, Chapter 2: A time for tones

Swan's Quest, Chapter 3: The notable scroll

Swan's Quest, Chapter 4: The sequence completes

Search this videoâ€¦Hello and welcome to WWDC. Hi everyone and welcome to WWDC.My name is Lizzy and I'm excited to talk about how to create awesome contentfor Swift Playgrounds on iPad and Mac. We all know Swift Playgrounds asthe app that brought Swift coding to iPad, and now, but with Mac Catalyst,the same app is available on Mac too. Your users will get the same experiencethey've come to know and love on their iPads now customized for the Mac platform.In this session we'd like to share some of the ways that you can customizeyour content, so it's a great experience on both platforms. After thatwe'll show a demo of a book that behaves differently on Mac and iPad.First let's discuss some updates in the Swift Playgrounds user interface.There are a few key parts of the Swift Playgrounds app that have beenadapted to better fit the Mac platform. One of these areas is code completion.On iPad you'll recognize this as the area where you can browse code completionoptions for your current state. On Mac there's a new expandable area forcode completion that can include quick help for each token. These descriptionscan be localized which creates a better code completion experience forusers in different languages. To add quick help to your token use threeforward slashes directly above your declaration. You can also add descriptionsto parameters. Here we added a description to the changeTurtleEyes function.You'll see this turtle again later on in our demo and in this once Quest series.This text will now appear below your token in the expanded code completion view.Even if your users won't be on a Mac these descriptions will still be displayedon iPad as well, in the quick help popovers in the sauce editor and overthe original code completion bar. Next let's talk about how your contentcan be adapted to each platform. There are two new optional keys in theplayground book document format, supportedDevices and requiredCapabilities.You can use these keys to specify what your book requires from the deviceto run. If the current device doesn't support a book it won't show up inthe feed to specify that your document only runs on Mac or iPad, you canuse the supportedDevices key. The valid values for this are "iPad" and"Mac". We'll need to add this key to the book level manifest and to the feedJSON file. For example if your book supports both platforms you'll want toadd iPad and Mac with the supportedDevices key in the book level manifest.Then add the same values to the supportedDevices key in the feed JSONfile as well. This book is now available on both platforms. If Mac isremoved from the supportedDevices keys then it will no longer be availableon that platform. Instead of only supporting a particular device we canrequire specific capabilities which can make your content available tomore users. The values for the required capabilities key can be anythingfrom the UIRequiredDeviceCapabilities keys available to look at ondeveloper.apple.com. This includes things like ARKit, microphone and Wi-Fiwhich you can use to specify what your book requires. To use this key addRequiredCapabilities and an array of each capability to the book level manifest.Then add requiredCapabilities and the same array to the feed JSON fileas well. In this example the book requires use of a microphone and ARKit.In general it's best to support as many configurations as possible evenif some functionality is different between platforms. To do this we candetermine if the playground is being compiled for Mac or for iPad by checkingthe target environment. It's a good idea to go through the language inyour book to make sure it makes sense for both platforms. Some things tolook out for are uses of click or touch. Generic language like tap or selectis recommended instead. Next let's talk about how content can conform todevice settings. When building content, it's important to respect the devicesystem settings such as accent color and dark mood. System provided colorslike label or assist in background will automatically respond correctlyto changes in dark mode and system accent. You can also add your own adaptive colors,by adding them to the books asset catalog. It's important to be awareof the live view safe area constraints when developing cross-platform content.These constraints ensure that your content won't be hidden by any controlsover the live view. The constraints are different on Mac since there aretoolbar buttons over the top right of the Mac live view. You may have code thatuses the liveViewSafeAreaGuide property of a playground live view safe area container.Now you can just access the safe area using a standard UI layout guide.Next I'd like to introduce my teammate Grace who will be showing you a demo.Thanks Lizzy. My name is Grace and I'll be walking through a demo of aplayground that we've customized to work on both iPad and Mac. I'll openthis playground in the Mac app first. You may recognize this turtle fromthe Swans Quest series. Pretty cute right. The goal of this book is tocustomize the look of your character. Once you've done that you can saveit as an image and use it in the Swans Quest book. The prose here saysto try starting with change turtle skin. I'll start by typing that.And code completion shows me quick help for lots of different customization methods.Let's look at how that's implemented. The customization methods are inmy turtle edits file. The text here preceded by three forward slashes iswhat I see in the code completion area for this method. I think this isa little vague so let's change this to "change the turtle's skin color tothe color provided". And once we go back to our main page. That's the textthat shows up in the code completion area. So let's add some customizationand see what happens. I'll run my code.All right. This is a pretty good looking turtle. I can use the UIColorpopovers to quickly change up some of the colors. I think I want the lighterarea of the shell to be more of a yellow. I'll run my code again. Perfect.I'll go ahead and save this image. Notice the use and prose of tap not clickto use in other books. I also see in the prose, it looks like we can playwith AR for on an iPad that supports it. I just so happened to have aniPad with me so I want to check that out. Here's my same document on iPad.I've got dark mode on so let's make sure it still looks good. OK, hmm, when Irun my code I have a pretty garish white background. That's because I setthe background color of my drawing to UIColor.white insteadof using a system background. Let's try fixing that and run again. OK awesome.So now the background matches my theme and if I switch to light mode it'llbe white again. I also noticed a new button here. That's because of my colorGrid view controller. I have a target environment check. If I'm not runningon macOS then show this button. Since Mac doesn't have the requiredARKit capabilities, I won't show it there. All right. So if I tap thisbutton I can check out this turtle In AR. There's lots of ways to creategreat content that works on both iPad and Mac. When you're creating orupdating your Swift Playground's content, keeps these things in mind.Check out the UI on both iPad and Mac. You can take advantage of the updatedcode completion design on Mac by providing quick help in your content.Use #if target environment checks to create different experienceson iPad and Mac. If you're content requires things like a AR or the microphone,specify these as required capabilities. If you can only support one deviceuse the supportedDevices key. Lastly respect the platform settings likedark mode, system colors and layout guidelines. And be sure to pay attentionto the accessibility experience on all devices that you support. You candownload our sample content along with this video and reference the playgrounddocumentation online. Also make sure to check out the Swans quest. Youdon't want to miss it. Thanks for watching
and have a great rest of your WWDC.

Hello and welcome to WWDC. Hi everyone and welcome to WWDC.My name is Lizzy and I'm excited to talk about how to create awesome contentfor Swift Playgrounds on iPad and Mac. We all know Swift Playgrounds asthe app that brought Swift coding to iPad, and now, but with Mac Catalyst,the same app is available on Mac too. Your users will get the same experiencethey've come to know and love on their iPads now customized for the Mac platform.In this session we'd like to share some of the ways that you can customizeyour content, so it's a great experience on both platforms. After thatwe'll show a demo of a book that behaves differently on Mac and iPad.First let's discuss some updates in the Swift Playgrounds user interface.There are a few key parts of the Swift Playgrounds app that have beenadapted to better fit the Mac platform. One of these areas is code completion.

On iPad you'll recognize this as the area where you can browse code completionoptions for your current state. On Mac there's a new expandable area forcode completion that can include quick help for each token. These descriptionscan be localized which creates a better code completion experience forusers in different languages. To add quick help to your token use threeforward slashes directly above your declaration. You can also add descriptionsto parameters. Here we added a description to the changeTurtleEyes function.You'll see this turtle again later on in our demo and in this once Quest series.

This text will now appear below your token in the expanded code completion view.

Even if your users won't be on a Mac these descriptions will still be displayedon iPad as well, in the quick help popovers in the sauce editor and overthe original code completion bar. Next let's talk about how your contentcan be adapted to each platform. There are two new optional keys in theplayground book document format, supportedDevices and requiredCapabilities.You can use these keys to specify what your book requires from the deviceto run. If the current device doesn't support a book it won't show up inthe feed to specify that your document only runs on Mac or iPad, you canuse the supportedDevices key. The valid values for this are "iPad" and"Mac". We'll need to add this key to the book level manifest and to the feedJSON file. For example if your book supports both platforms you'll want toadd iPad and Mac with the supportedDevices key in the book level manifest.

Then add the same values to the supportedDevices key in the feed JSONfile as well. This book is now available on both platforms. If Mac isremoved from the supportedDevices keys then it will no longer be availableon that platform. Instead of only supporting a particular device we canrequire specific capabilities which can make your content available tomore users. The values for the required capabilities key can be anythingfrom the UIRequiredDeviceCapabilities keys available to look at ondeveloper.apple.com. This includes things like ARKit, microphone and Wi-Fiwhich you can use to specify what your book requires. To use this key addRequiredCapabilities and an array of each capability to the book level manifest.

Then add requiredCapabilities and the same array to the feed JSON fileas well. In this example the book requires use of a microphone and ARKit.In general it's best to support as many configurations as possible evenif some functionality is different between platforms. To do this we candetermine if the playground is being compiled for Mac or for iPad by checkingthe target environment. It's a good idea to go through the language inyour book to make sure it makes sense for both platforms. Some things tolook out for are uses of click or touch. Generic language like tap or selectis recommended instead. Next let's talk about how content can conform todevice settings. When building content, it's important to respect the devicesystem settings such as accent color and dark mood. System provided colorslike label or assist in background will automatically respond correctlyto changes in dark mode and system accent. You can also add your own adaptive colors,by adding them to the books asset catalog. It's important to be awareof the live view safe area constraints when developing cross-platform content.These constraints ensure that your content won't be hidden by any controlsover the live view. The constraints are different on Mac since there aretoolbar buttons over the top right of the Mac live view. You may have code thatuses the liveViewSafeAreaGuide property of a playground live view safe area container.

Now you can just access the safe area using a standard UI layout guide.Next I'd like to introduce my teammate Grace who will be showing you a demo.Thanks Lizzy. My name is Grace and I'll be walking through a demo of aplayground that we've customized to work on both iPad and Mac. I'll openthis playground in the Mac app first. You may recognize this turtle fromthe Swans Quest series. Pretty cute right. The goal of this book is tocustomize the look of your character. Once you've done that you can saveit as an image and use it in the Swans Quest book. The prose here saysto try starting with change turtle skin. I'll start by typing that.And code completion shows me quick help for lots of different customization methods.Let's look at how that's implemented. The customization methods are inmy turtle edits file. The text here preceded by three forward slashes iswhat I see in the code completion area for this method. I think this isa little vague so let's change this to "change the turtle's skin color tothe color provided". And once we go back to our main page. That's the textthat shows up in the code completion area. So let's add some customizationand see what happens. I'll run my code.

All right. This is a pretty good looking turtle. I can use the UIColorpopovers to quickly change up some of the colors. I think I want the lighterarea of the shell to be more of a yellow. I'll run my code again. Perfect.I'll go ahead and save this image. Notice the use and prose of tap not clickto use in other books. I also see in the prose, it looks like we can playwith AR for on an iPad that supports it. I just so happened to have aniPad with me so I want to check that out. Here's my same document on iPad.

I've got dark mode on so let's make sure it still looks good. OK, hmm, when Irun my code I have a pretty garish white background. That's because I setthe background color of my drawing to UIColor.white insteadof using a system background. Let's try fixing that and run again. OK awesome.So now the background matches my theme and if I switch to light mode it'llbe white again. I also noticed a new button here. That's because of my colorGrid view controller. I have a target environment check. If I'm not runningon macOS then show this button. Since Mac doesn't have the requiredARKit capabilities, I won't show it there. All right. So if I tap thisbutton I can check out this turtle In AR. There's lots of ways to creategreat content that works on both iPad and Mac. When you're creating orupdating your Swift Playground's content, keeps these things in mind.Check out the UI on both iPad and Mac. You can take advantage of the updatedcode completion design on Mac by providing quick help in your content.

Use #if target environment checks to create different experienceson iPad and Mac. If you're content requires things like a AR or the microphone,specify these as required capabilities. If you can only support one deviceuse the supportedDevices key. Lastly respect the platform settings likedark mode, system colors and layout guidelines. And be sure to pay attentionto the accessibility experience on all devices that you support. You candownload our sample content along with this video and reference the playgrounddocumentation online. Also make sure to check out the Swans quest. Youdon't want to miss it. Thanks for watching
and have a great rest of your WWDC.

## Code Samples

