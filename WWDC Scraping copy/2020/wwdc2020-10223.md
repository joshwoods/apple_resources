# Wwdc2020 10223

## Transcript

More Videos

Streaming is available in most browsers,and in the Developer app.

About

Transcript

Deploy Apple devices using zero-touchDiscover how Apple's system administrators remotely deploy Apple devices to their teams, ensuring a zero-touch deployment. Learn how to configure the setup experience, control and manage devices effectively, and discover practices around security and management.ResourcesApple Business Manager User GuideApple Platform DeploymentApple School Manager User GuideHD VideoSD VideoRelated VideosTech TalksDeploy macOS Big Sur in your organizationWWDC20Custom app distribution with Apple Business ManagerLeverage enterprise identity and authenticationWhat's new in managing Apple devices

Discover how Apple's system administrators remotely deploy Apple devices to their teams, ensuring a zero-touch deployment. Learn how to configure the setup experience, control and manage devices effectively, and discover practices around security and management.

Apple Business Manager User Guide

Apple Platform Deployment

Apple School Manager User Guide

HD VideoSD Video

HD Video

SD Video

Deploy macOS Big Sur in your organization

Custom app distribution with Apple Business Manager

Leverage enterprise identity and authentication

What's new in managing Apple devices

Search this videoâ€¦Hello and welcome to WWDC.My name is Jason Cary and today we'll be talking about deploying Appledevices using Zero-touch. Within this session we'll review remote deploymentand management practices by looking at Apple's internal Zero-touch deployments.We'll start with set up and infrastructure components, review how we deploydevices to our users, confirm how we identify and secure our users, and sharehow we distribute content to ensure users are able to perform their dutiesas efficiently as possible. Before we dive into the technical details, let'stake a second to reminisce. IT admins of the past were involved in everyaspect of the hardware provisioning process. Fortunately the days of deviceimaging and sitting with users for hours on end are long gone. Our Zero-touchenrollment solutions allow efficient provisioning of devices for thousandsof employees worldwide. New devices are dropshipped from our supply chaindirectly to our users without IT needing to touch each device. Our goalis to have our users online and productive within minutes, not hours, ofunboxing their new device, and to provide our users with a positive devicesetup experience. Let's look at the macOS Catalina's setup process forthe Macs we're deploying today which will be updated to Big Sur after itships later this year. As a user boots their new device for the first timeSetup Assistant activates and begins the device enrollment process.Within our Zero-touch model, we have customized the Setup Assistant process tobe more efficient. We've removed several Setup Assistant screens and optionsto provide an optimal experience to our users. Devices are automaticallyenrolled in our device management solution during the first boot, whichallows us to push critical applications and security settings to the deviceduring the initial setup process. One of the most important setup stepsis to have the user create a local user account and a secure password.This is where a specific account name and password restrictions can be enforced.I'll talk about several of these settings later on. Users self configurevarious settings to their preference including Light and Dark Mode withinmacOS. At the conclusion of the device enrollment process Setup Assistantcompletes the remaining device setup tasks and brings the user to theirdesktop screen. When the user arrives at their desktop screen, applicationsrequired to complete their duties as well as critical security settingsare already installed and enabled on the device. Through the use of AppleBusiness Manager and our device management solution, our team has achievedan astounding ratio of 20,000 managed devices per MDM admin.Recently in response to the ongoing health pandemic Apple sent many of our employeeshome from their normal brick and mortar locations to perform their jobfunctions remotely. As a result of this quick decision and the prompt actionsthat were taken, many of our employees were unable to take their primaryworkstations with them. Apple dropped shipped each of these particular employeesa new Mac device to their home in a very short time frame. Our users wereable to power on their new devices and quickly become productive thanksto Zero-touch device management. Without these capabilities, the quick pivotwould not have been possible and affected employees would have been idlefor an extended amount of time, impacting their work and Apple's abilityto continue to support our customers. Let's dive into our Zero-touch environmentsetup and infrastructure components. So how does this technology work?A remote management solution is made possible by Apple Business Manager,the Device Management framework with a third party device management solution,and core technologies in iOS, iPadOS, macOS, and tvOS that enable managementof certain features. Starting with the purchase, the device details aresent to Apple Business Manager through Apple's Reseller API. Each AppleBusiness Manager account is configured with a default MDM target whichallows the device to be assigned to an organization's preferred MDM server.Devices are purchased through the reseller channel. Each reseller partnerswith Apple to obtain access to our Reseller API. Upon a device being purchased,the Reseller API performs data validation to ensure sales notificationdata is accurate and unique. Multiple device details are included in theReseller API transaction including serial number, purchase order details,date of purchase, and more. Checks can also be performed to validate the deviceis not currently enrolled with another Apple Business Manager account.Once verified, the device purchase record is transferred into Apple Business Manager.Pending receipt of the sales transaction into Apple Business Manager,the device is added to a specific Apple Business Manager account based onthe Reseller ID provided. A device is associated with its intended MDMserver based upon the previously mentioned Apple Business Manager assignment.Multiple MDM targets can be configured for a single organization.Communication between the MDM server and the device is established during the devicesetup process using APNs including the device receiving its initialconfiguration instructions, the MDM is then able to apply pre-stage profilesto the device. Devices may be manually assigned to an MDM service whichis not the default MDM target for your organization. Such assignments shouldbe completed prior to the user receiving their device. As of macOS 10.15.4, andand iOS 13.4, APNs also now supports proxy configurations.Apple is making it easier for organizations to communicate with the ApplePush Notification service on proxy networks. APNs allows communicationfrom MDM to your devices. Organizations need to allow communication fromtheir network to APNs. Apple Push Notification Service traffic will nowuse a web proxy when it is specified in a proxy auto configuration or PAC file.This new feature will provide improved support for a default deny networkstypical in regulated industries as all Internet bound traffic must traversea proxy that is configured by a PAC file. APNs traffic is encrypted and cannotbe inspected. APNs proxy support will provide full MDM functionalityon proxy enabled networks. Work with your network teams for how your devicesdiscover the PAC URL automatically or via a configuration profile.Data traffic traversing APNs cannot be inspected. So the communicationsremain secure without the threat of being intercepted. Let's look at anexample of an MDM profile in macOS Catalina. Apple's management approachhas always been to make it really simple for businesses to centrally managetheir Apple devices with MDM. The process is fully secure, streamlined, andeasy for the user. And it is transparent so that users know everything thathappens to their device including how it is setup and what has been deployedto it. In this way users are a part of the process and have a role to playwhether each device is enrolled in Apple Business Manager or not. So whatcan MDM do? Here are just a few examples. Through the use of configurationprofiles you can enforce passcodes, restrict various settings, or organizeapps in the dock. You can also configure macOS devices to automaticallyconnect to an enterprise Wi-Fi network, setup email accounts, install applications,and enforce encryption with FileVault. The last step in deploying macOSin a Zero-touch solution is getting your infrastructure ready. macOSsupports a wide range of standard technologies for everything from networkingto accounts and identities. Most of these are the same standards that companiesalready support for iOS devices. As a result, IT teams only need to configurea few additional things to do basic integration and support key infrastructure.There will be additional considerations as you build your own remote managementenvironment. Infrastructure components may vary based upon your organization's needs.The first significant decision that needs to be made is whether the environmentwill be on premise or cloud based. Utilizing multiple MDM environmentsallows MDM administrators to push and test new settings without the riskof impact to production users and devices. A good multiple environmentsset up includes production, disaster recovery in a geographically separatelocation from your production environment, test, and development. For on premiseenvironments, containers or virtual machines can be used for low processingneeds such as web servers and application servers. High computing needssuch as database transactions should be properly sized to ensure efficientprocessing of such requests. The use of bare metal servers may be beneficialfor resource intensive functions. You should install and enable firewallsand access control list at each layer of your solution. Load balancersmay be beneficial for larger organizations to balance management trafficfrom your users, however they may not be necessary for smaller implementations and organizations.Let's talk now about deployment.Our Zero-touch solution allows devices to be dropshipped from the supply chaindirectly to our users. Remember your organization might choose to skipcertain aspects of the normal Setup Assistant process to streamline thedevice setup process. Each device is automatically enrolled into MDM uponSetup Assistant running during the first boot. Users receive a customMDM enrollment notification screen during Setup Assistent which confirmstheir enrollment. In our case a self-service application is automaticallyinstalled on the device. Commonly used applications including a Single Sign-OnSSO authentication client are automatically pushed to each deviceupon MDM enrollment. Additional applications such as corporate and contactcenter tools are also made available to the user via a self-service portalto install at their convenience. You should intentionally decide which appsare automatically pushed and which you allow the user to install for themselves.Some apps may be best pushed automatically, but not all. Local admin rightsare provisioned for our users. User experience is greatly enhanced and fewerissues occur when users are provided local admin rights to their device.Measures should be taken to ensure devices are properly secured based onyour organization's needs. There are many different types of payloads thatcan be built and deployed to manage devices using an MDM solution.All these different payloads allow different settings in macOS to be set byadministrators and are fully customizable to your organization's businessand security needs. Apple pushes a number of payloads to our users devicesvia our internal MDM solution. Corporate and business critical applicationsare automatically installed upon MDM enrollment. Mail and Calendar settingsare also auto configured upon the user logging in to our Single Sign-On application.Additionally VPN and our internal wireless network are also configuredautomatically for our users allowing them to go online and become productiveimmediately after MDM enrollment. Identifying all users connecting to Apple'snetwork and using Apple tools is extremely important. Numerous securitymeasures and settings are used to identify users and secure their devicesfrom compromises. User information is pulled by our MDM solution throughthe SSO authentication client. Functionality will depend on the identityprovider being used but most LDAP integrations will support these identification functions.We have the ability to scope MDM profiles, policies, applications, and settingsbased on LDAP groups and user roles. You may use one of a number of identityproviders and your full identity solution can take advantage of many ofthe built in user identification functions depending on availability withinyour MDM. Where such functionality does not exist within your MDM, customscripts can be used to perform additional identification functions.For more on enterprise identity and authentication, please see this year's identity session.We've implemented numerous industry best practice security settings aswell as setting specific to our own needs and internal security requirements.These settings ensure our users, their devices, and the data they accessremains safe and secure. Settings in gray are common baseline security settings.Some or all of the listed settings may be beneficial to organizationssetting up their own Zero-touch solution. Settings listed in white arespecific settings put in place by Apple to further protect our users, theirdevices, and the data being accessed. As we utilize very sensitive customerdata to support our customers, additional settings are needed to ensurethe data remains safe. If a device is found to be out of policy, lost orstolen, or if an employee leaves the company, an MDM server can take actionto protect corporate information in a number of ways. A device must havea network connection to receive these commands. An IT administrator canend the MDM relationship with a device by removing the configuration profilethat contains MDM server information, including the accounts and settingsthe MDM was responsible for installing. IT can also keep the MDM configurationprofile in place and use MDM to remove only this specific configurationprofiles and provisioning profiles they want to delete. This approachkeeps the device managed by MDM and eliminates the need to re-enroll onceit is back within policy. Both methods give IT the ability to ensurethat information is only available to compliant users and devices and thatcorporate data is removed without interfering with the user's personaldata such as music, photos, or personal apps. To permanently delete all mediaand data on a device, MDM can remotely wipe a Mac. If a user has lost their device,IT can also choose to send a remote lock command to the device. This processlocks the device and requires a password created by the administrator tounlock and resume use of the device. Providing our users with the necessaryapplications to perform their duties is essential to the success of ourbusiness operations. Device based app management allows us to distributeapps directly to our users devices with Apple Business Manager and MDM.And the process to get devices up and running is easy, whether they'reassigned to a specific user or not. We use VPP and MDM to assign and distributeapps directly to a device instead of requiring the user's Apple ID.This includes installing apps on macOS devices without first configuring an Apple IDor sending an invitation to a user. If your organization has a large numberof devices, you may benefit from enabling macOS content caching, whichlocally caches apps, operating system updates, and other content from Apple.Several new features are forthcoming in macOS Big Sur which will furtherenhance app distribution. One of the key new features is managed apps. Managedapps will empower users to install their previously used apps via theirApple ID. Managed apps will also provide IT admins with the abilityto lock important applications to prevent those apps from being removedor used maliciously. For additional details on new features within macOSBig Sur, please see these related sessions and the previously mentionedidentity session. Let's review. Zero-touch enrollment is a real thing andwill make your life much easier. User experiences are significantly improvedthrough user friendly approaches to common problems. Hardware deploymentcan be a hands off efficient process for users and admins alike. The skyis the limit with security settings. They can be customized based on businessneeds, user roles, DS groups and other criteria. There is no one size fitsall approach to device management use what works best for your organizationand your goals. Start small and expand your device management solutionsand complexity over time. Zero-touch enrollment allows efficient provisioningof devices to users without the need for IT to touch or configureeach device. And finally, the ability to unbox and go provides a great user experience.Thank you very much for attending this session. I hope you enjoy the restof your WWDC 2020 experience.

Hello and welcome to WWDC.

My name is Jason Cary and today we'll be talking about deploying Appledevices using Zero-touch. Within this session we'll review remote deploymentand management practices by looking at Apple's internal Zero-touch deployments.We'll start with set up and infrastructure components, review how we deploydevices to our users, confirm how we identify and secure our users, and sharehow we distribute content to ensure users are able to perform their dutiesas efficiently as possible. Before we dive into the technical details, let'stake a second to reminisce. IT admins of the past were involved in everyaspect of the hardware provisioning process. Fortunately the days of deviceimaging and sitting with users for hours on end are long gone. Our Zero-touchenrollment solutions allow efficient provisioning of devices for thousandsof employees worldwide. New devices are dropshipped from our supply chaindirectly to our users without IT needing to touch each device. Our goalis to have our users online and productive within minutes, not hours, ofunboxing their new device, and to provide our users with a positive devicesetup experience. Let's look at the macOS Catalina's setup process forthe Macs we're deploying today which will be updated to Big Sur after itships later this year. As a user boots their new device for the first timeSetup Assistant activates and begins the device enrollment process.Within our Zero-touch model, we have customized the Setup Assistant process tobe more efficient. We've removed several Setup Assistant screens and optionsto provide an optimal experience to our users. Devices are automaticallyenrolled in our device management solution during the first boot, whichallows us to push critical applications and security settings to the deviceduring the initial setup process. One of the most important setup stepsis to have the user create a local user account and a secure password.This is where a specific account name and password restrictions can be enforced.I'll talk about several of these settings later on. Users self configurevarious settings to their preference including Light and Dark Mode withinmacOS. At the conclusion of the device enrollment process Setup Assistantcompletes the remaining device setup tasks and brings the user to theirdesktop screen. When the user arrives at their desktop screen, applicationsrequired to complete their duties as well as critical security settingsare already installed and enabled on the device. Through the use of AppleBusiness Manager and our device management solution, our team has achievedan astounding ratio of 20,000 managed devices per MDM admin.Recently in response to the ongoing health pandemic Apple sent many of our employeeshome from their normal brick and mortar locations to perform their jobfunctions remotely. As a result of this quick decision and the prompt actionsthat were taken, many of our employees were unable to take their primaryworkstations with them. Apple dropped shipped each of these particular employeesa new Mac device to their home in a very short time frame. Our users wereable to power on their new devices and quickly become productive thanksto Zero-touch device management. Without these capabilities, the quick pivotwould not have been possible and affected employees would have been idlefor an extended amount of time, impacting their work and Apple's abilityto continue to support our customers. Let's dive into our Zero-touch environmentsetup and infrastructure components. So how does this technology work?A remote management solution is made possible by Apple Business Manager,the Device Management framework with a third party device management solution,and core technologies in iOS, iPadOS, macOS, and tvOS that enable managementof certain features. Starting with the purchase, the device details aresent to Apple Business Manager through Apple's Reseller API. Each AppleBusiness Manager account is configured with a default MDM target whichallows the device to be assigned to an organization's preferred MDM server.Devices are purchased through the reseller channel. Each reseller partnerswith Apple to obtain access to our Reseller API. Upon a device being purchased,the Reseller API performs data validation to ensure sales notificationdata is accurate and unique. Multiple device details are included in theReseller API transaction including serial number, purchase order details,date of purchase, and more. Checks can also be performed to validate the deviceis not currently enrolled with another Apple Business Manager account.

Once verified, the device purchase record is transferred into Apple Business Manager.

Pending receipt of the sales transaction into Apple Business Manager,the device is added to a specific Apple Business Manager account based onthe Reseller ID provided. A device is associated with its intended MDMserver based upon the previously mentioned Apple Business Manager assignment.

Multiple MDM targets can be configured for a single organization.Communication between the MDM server and the device is established during the devicesetup process using APNs including the device receiving its initialconfiguration instructions, the MDM is then able to apply pre-stage profilesto the device. Devices may be manually assigned to an MDM service whichis not the default MDM target for your organization. Such assignments shouldbe completed prior to the user receiving their device. As of macOS 10.15.4, andand iOS 13.4, APNs also now supports proxy configurations.

Apple is making it easier for organizations to communicate with the ApplePush Notification service on proxy networks. APNs allows communicationfrom MDM to your devices. Organizations need to allow communication fromtheir network to APNs. Apple Push Notification Service traffic will nowuse a web proxy when it is specified in a proxy auto configuration or PAC file.

This new feature will provide improved support for a default deny networkstypical in regulated industries as all Internet bound traffic must traversea proxy that is configured by a PAC file. APNs traffic is encrypted and cannotbe inspected. APNs proxy support will provide full MDM functionalityon proxy enabled networks. Work with your network teams for how your devicesdiscover the PAC URL automatically or via a configuration profile.

Data traffic traversing APNs cannot be inspected. So the communicationsremain secure without the threat of being intercepted. Let's look at anexample of an MDM profile in macOS Catalina. Apple's management approachhas always been to make it really simple for businesses to centrally managetheir Apple devices with MDM. The process is fully secure, streamlined, andeasy for the user. And it is transparent so that users know everything thathappens to their device including how it is setup and what has been deployedto it. In this way users are a part of the process and have a role to playwhether each device is enrolled in Apple Business Manager or not. So whatcan MDM do? Here are just a few examples. Through the use of configurationprofiles you can enforce passcodes, restrict various settings, or organizeapps in the dock. You can also configure macOS devices to automaticallyconnect to an enterprise Wi-Fi network, setup email accounts, install applications,and enforce encryption with FileVault. The last step in deploying macOSin a Zero-touch solution is getting your infrastructure ready. macOSsupports a wide range of standard technologies for everything from networkingto accounts and identities. Most of these are the same standards that companiesalready support for iOS devices. As a result, IT teams only need to configurea few additional things to do basic integration and support key infrastructure.

There will be additional considerations as you build your own remote managementenvironment. Infrastructure components may vary based upon your organization's needs.

The first significant decision that needs to be made is whether the environmentwill be on premise or cloud based. Utilizing multiple MDM environmentsallows MDM administrators to push and test new settings without the riskof impact to production users and devices. A good multiple environmentsset up includes production, disaster recovery in a geographically separatelocation from your production environment, test, and development. For on premiseenvironments, containers or virtual machines can be used for low processingneeds such as web servers and application servers. High computing needssuch as database transactions should be properly sized to ensure efficientprocessing of such requests. The use of bare metal servers may be beneficialfor resource intensive functions. You should install and enable firewallsand access control list at each layer of your solution. Load balancersmay be beneficial for larger organizations to balance management trafficfrom your users, however they may not be necessary for smaller implementations and organizations.

Let's talk now about deployment.

Our Zero-touch solution allows devices to be dropshipped from the supply chaindirectly to our users. Remember your organization might choose to skipcertain aspects of the normal Setup Assistant process to streamline thedevice setup process. Each device is automatically enrolled into MDM uponSetup Assistant running during the first boot. Users receive a customMDM enrollment notification screen during Setup Assistent which confirmstheir enrollment. In our case a self-service application is automaticallyinstalled on the device. Commonly used applications including a Single Sign-OnSSO authentication client are automatically pushed to each deviceupon MDM enrollment. Additional applications such as corporate and contactcenter tools are also made available to the user via a self-service portalto install at their convenience. You should intentionally decide which appsare automatically pushed and which you allow the user to install for themselves.Some apps may be best pushed automatically, but not all. Local admin rightsare provisioned for our users. User experience is greatly enhanced and fewerissues occur when users are provided local admin rights to their device.

Measures should be taken to ensure devices are properly secured based onyour organization's needs. There are many different types of payloads thatcan be built and deployed to manage devices using an MDM solution.All these different payloads allow different settings in macOS to be set byadministrators and are fully customizable to your organization's businessand security needs. Apple pushes a number of payloads to our users devicesvia our internal MDM solution. Corporate and business critical applicationsare automatically installed upon MDM enrollment. Mail and Calendar settingsare also auto configured upon the user logging in to our Single Sign-On application.

Additionally VPN and our internal wireless network are also configuredautomatically for our users allowing them to go online and become productiveimmediately after MDM enrollment. Identifying all users connecting to Apple'snetwork and using Apple tools is extremely important. Numerous securitymeasures and settings are used to identify users and secure their devicesfrom compromises. User information is pulled by our MDM solution throughthe SSO authentication client. Functionality will depend on the identityprovider being used but most LDAP integrations will support these identification functions.

We have the ability to scope MDM profiles, policies, applications, and settingsbased on LDAP groups and user roles. You may use one of a number of identityproviders and your full identity solution can take advantage of many ofthe built in user identification functions depending on availability withinyour MDM. Where such functionality does not exist within your MDM, customscripts can be used to perform additional identification functions.For more on enterprise identity and authentication, please see this year's identity session.

We've implemented numerous industry best practice security settings aswell as setting specific to our own needs and internal security requirements.These settings ensure our users, their devices, and the data they accessremains safe and secure. Settings in gray are common baseline security settings.Some or all of the listed settings may be beneficial to organizationssetting up their own Zero-touch solution. Settings listed in white arespecific settings put in place by Apple to further protect our users, theirdevices, and the data being accessed. As we utilize very sensitive customerdata to support our customers, additional settings are needed to ensurethe data remains safe. If a device is found to be out of policy, lost orstolen, or if an employee leaves the company, an MDM server can take actionto protect corporate information in a number of ways. A device must havea network connection to receive these commands. An IT administrator canend the MDM relationship with a device by removing the configuration profilethat contains MDM server information, including the accounts and settingsthe MDM was responsible for installing. IT can also keep the MDM configurationprofile in place and use MDM to remove only this specific configurationprofiles and provisioning profiles they want to delete. This approachkeeps the device managed by MDM and eliminates the need to re-enroll onceit is back within policy. Both methods give IT the ability to ensurethat information is only available to compliant users and devices and thatcorporate data is removed without interfering with the user's personaldata such as music, photos, or personal apps. To permanently delete all mediaand data on a device, MDM can remotely wipe a Mac. If a user has lost their device,IT can also choose to send a remote lock command to the device. This processlocks the device and requires a password created by the administrator tounlock and resume use of the device. Providing our users with the necessaryapplications to perform their duties is essential to the success of ourbusiness operations. Device based app management allows us to distributeapps directly to our users devices with Apple Business Manager and MDM.And the process to get devices up and running is easy, whether they'reassigned to a specific user or not. We use VPP and MDM to assign and distributeapps directly to a device instead of requiring the user's Apple ID.This includes installing apps on macOS devices without first configuring an Apple IDor sending an invitation to a user. If your organization has a large numberof devices, you may benefit from enabling macOS content caching, whichlocally caches apps, operating system updates, and other content from Apple.

Several new features are forthcoming in macOS Big Sur which will furtherenhance app distribution. One of the key new features is managed apps. Managedapps will empower users to install their previously used apps via theirApple ID. Managed apps will also provide IT admins with the abilityto lock important applications to prevent those apps from being removedor used maliciously. For additional details on new features within macOSBig Sur, please see these related sessions and the previously mentionedidentity session. Let's review. Zero-touch enrollment is a real thing andwill make your life much easier. User experiences are significantly improvedthrough user friendly approaches to common problems. Hardware deploymentcan be a hands off efficient process for users and admins alike. The skyis the limit with security settings. They can be customized based on businessneeds, user roles, DS groups and other criteria. There is no one size fitsall approach to device management use what works best for your organizationand your goals. Start small and expand your device management solutionsand complexity over time. Zero-touch enrollment allows efficient provisioningof devices to users without the need for IT to touch or configureeach device. And finally, the ability to unbox and go provides a great user experience.

Thank you very much for attending this session. I hope you enjoy the restof your WWDC 2020 experience.

## Code Samples

