# Wwdc2020 10618

## Transcript

More Videos

Streaming is available in most browsers,and in the Developer app.

About

Transcript

Code

Tap into Game Center: Dashboard, Access Point, and ProfileApple's social gaming network is ready to play. We'll walk you through the latest updates to Game Center, starting with its in-game interface and all-new player experience. Learn how to integrate GameKit into your app and authenticate players effectively, and discover the Access Point, which brings players into the in-game dashboard. From there, we'll explore player profiles and their options for privacy.

After exploring Game Center's interface, Dashboard, and player profiles, continue to the next video to learn about Leaderboards, Achievements, and Multiplayer gaming. 

And for more about preparing your game's interface for these new capabilities, see “Design for Game Center.”ResourcesHuman Interface Guidelines: Game CenterHD VideoSD VideoRelated VideosWWDC22Plug-in and play: Add Apple frameworks to your Unity game projectsReach new players with Game Center dashboardWWDC20Design for Game CenterTap into Game Center: Leaderboards, Achievements, and Multiplayer

Apple's social gaming network is ready to play. We'll walk you through the latest updates to Game Center, starting with its in-game interface and all-new player experience. Learn how to integrate GameKit into your app and authenticate players effectively, and discover the Access Point, which brings players into the in-game dashboard. From there, we'll explore player profiles and their options for privacy.

After exploring Game Center's interface, Dashboard, and player profiles, continue to the next video to learn about Leaderboards, Achievements, and Multiplayer gaming. 

And for more about preparing your game's interface for these new capabilities, see “Design for Game Center.”

Human Interface Guidelines: Game Center

HD VideoSD Video

HD Video

SD Video

Plug-in and play: Add Apple frameworks to your Unity game projects

Reach new players with Game Center dashboard

Design for Game Center

Tap into Game Center: Leaderboards, Achievements, and Multiplayer

Search this video…Hello and welcome to WWDC. Hi I'm Ally and I'm the engineering programmanager for Game Center.I'm super excited to talk to you about not only what's new but to alsowalk you through some updates to existing features that we think you andyour players are really going to love throughout both sessions. We'll touchon all the core features of Game Center and at the end we hope you walkaway equipped with the tools you need to add game center support to your game.But before we get to details let's take a minute to talk about what GameCenter is and what it offers you and your players. Game Center is Apple'sown social gaming network. It offers a single identity for players to useacross all their games. And once signed in they can instantly access theirgame center network of friends. As a developer you can implement as manyor as few games under features as you'd like. It's really about what makessense for your game. Leaderboards are a good place to start. If you'renew to game center they let your players see how they stack up againstfriends and other global players. And as players progress through yourgame why not reward them along the way. Achievements are a great mechanismto do just that. They also encourage players to come back and keep playing.And if your game is more fun when played with others you can also use GameCenter to create rich multiplayer experiences. Most of Game Center's functionalitycan be added within your own custom built UI or you can take advantageof the Native Game Center offering which has been completely refreshedthis year. That's what I'd like to walk you through now to do that.Let's jump into a game. Upon launch the Game Center welcome banner will stillappear but once it rolls away a new element appears. This is the Game Centeraccess point. At a glance I see some useful highlights like how many achievementsI've earned and where I stand in the leaderboards all without any actionon my part. Once the highlights finished displaying the access point collapsesinto my player Avatar. This element is meant to remain on your title screenas a consistent way for players to access Game Center to add Access Pointfunctionality within your game. You'll need to adopt the Access Point API.This lets you choose what corner to position it in and whether or not youwant to display highlights to the player. Christy will cover Access Pointimplementation in depth a little bit later. but for now let's tap on myplayer Avatar. This takes me to the in-game dashboard a centralized locationfor players to browse and interact with Game Center. From here you havequick access to existing features like leaderboards and achievements.But as you've probably already noticed the biggest change is the addition ofa new section that offers in-game access to your game center player profile.But before we dig into that let's talk about the main dashboard for justanother second. To give your players access to the top level dashboardYou can adopt the Dashboard API. Your player will then be able to choosewhat section they want to explore and if you already link to specific sectionsof the dashboard on your game don't worry those will continue to workas well. For example if you link to an individual leaderboard somewherewithin your UI we'll still take you directly to it. Top level highlightswithin the dashboard are also new in iOS 14. These are little bits ofinformation that are meant to offer useful stats at a glance. You'll seesimilar highlights throughout each section of the dashboard so let's continueto drill in. Tapping on the first section of the dashboard brings me tomy own player profile. Right away I get some useful stats about my overall gameplay.I can view and edit my friends list or see a list of players I've recentlybeen matched with. I'm also offered some friends suggestions here and ifI see one I like I can tap uninvite and send that person a friend request.All of this can be done without having to leave the game. Scrolling furtherI now have a way to view the achievements I've earned across all my gamesand if I want to change something within my profile like my nickname orAvatar I could tap on profile settings. I'm pretty happy with my profile thoughso let's go back to the dashboard. Next up is achievements. Right awayI'm greeted by the achievements I've already completed. This is a greatway to let the player feel a sense of accomplishment. Scrolling a littlefurther here are the achievements I've yet to earn. And if the game isimplemented in progress achievements like this one has I can tell howclose I am to earning it. Notice that the artwork you choose to use forachievements is prominently displayed. We'd encourage you to check outthe design for game center session as well as the human interface guidelinesfor guidance on how to create great achievement art. Both will cover bestpractices for creating all kinds of assets for your game and later on Dursawill walk you through exactly how to setup different kinds of achievementswithin your game. Let's move on to leaderboards. Just like achievementsthe artwork associated with your leaderboards is now the center of attentionso it's a great idea to use different assets for each one. This is an opportunityto help the player better recognize which leaderboard they're looking for.The design session I referenced just a second ago also has details on creatinggreat leaderboard art. Tapping into an individual leaderboard the mostobvious difference is the addition of a friends only leaderboard.This is now the default and makes it much easier for players to see how theyrank amongst their friends. I could also view global and recent leaderboardsif I want by changing views at the top. But while we're on the topic offriends I can also tap on a friend within a leaderboard. This brings uptheir player card and if that friend has chosen to share their info I cansee what they've recently played as well as their achievement progress.The best part is player cards are accessible in lots of new places.I can see the same information on my friends list and even while browsingthe app store which we'll talk more about in just a bit. Returning to theleaderboard perhaps the largest change is the option to create a recurring leaderboard.This leaderboard is set to occur every 15 minutes and I'm currently onlyin fourth place. That's OK. Scores will reset shortly and I'll have anotherchance to come out on top. Notice that I can see my standing not only inthe current leaderboard but in the last iteration I played in as well.Recurring leaderboards can be setup within app store connect similar toclassic leaderboards. Later on New Dan will be walking you through howto configure both types. Returning to the dashboard one last time the finalsection to check out is actually an optional one and that's challenges.We only made one change this year but it's one worth calling out. The ChallengesFeature now lives behind a new opt in flag with an app store connect by default.The challenges section of the dashboard will not appear within your game.However if this is a feature you support and would like your players tocontinue to have access to simply check a box and app store connect andyou're good to go. Now let's move on to a different area of Game Centerand that's multiplayer games that are can be used to create both real timeand turn based multiplayer experiences during implementation. You can choosethe one that fits best within your game. The other choice you'll need tomake is whether you want to use your own multiplayer UI or the defaultGame Center one. To help you decide let's take a look at the native experience.Choosing the multiplayer option from the main menu brings up the new UI.As you can tell the colors of the game underneath really show through.This is meant to make the design feel at home within any game with no additionalwork from the developer. Now let's set up a game the way a player would.At the top I can adjust how many players I want to add up to the developerspecified limit. For this example let's choose 3. Within each slot I cantap on add player. This will bring up the player picker. This is whereI choose the people I want to play with. If nearby players exist they'llappear at the top. Or what I tend to do most often I can choose to playwith an existing Game Center Friend. We'll also offer suggestions basedon people you've recently played with or recently contacted on your device.Coming back to the main screen I don't have to fill all these player slotsin if I don't want to. Any slots I leave blank will automatically be auto matched.And now I'm ready to start the game. Look how easy that was. No join codesno friction just setup and play. And that's a quick overview of the newmultiplayer UI. A little later on. Christy will walk you through in more detail.Now that you've seen an overview of what Games Center has to offer I wantto spend just a few minutes talking about some new ways we think GameCenter can help players discover new content and there's no better placeto start than within the App Store. Now when browsing popular areas ofthe store like the Arcade and Games tabs players can better discover whattheir Game Center friends are playing. We're also integrating the sameinformation right into your game's product page. I can even view a friendsplayer card right within the app store. From there I can check out moreof their recently played games and download any of the ones that look interestingto me. We think this will give players a convenient way to discover new gamesthey may have otherwise missed. Now let's start diving into details.Here's a look at how the rest of the sessions will break down. To get startedUdayan is going to show you how to implement the dashboard API within your game.After that Christy will cover adding access point functionality. Followed byplayers and friends where John will show you not only how to enable Game Centerbut also how to properly interact with the local player and more.And this will bring the first session to a close. To kickoff part two Udayanwill be returning to show you how to set up both classic and recurring leaderboards.In the achievement section Dursa will walk you through the different typesof achievements how to set them up and how to ensure they're reported accurately.Finally Christy will talk about multiplayer functionality and what's new there.But to get you started with Dashboard I'd like to now turn it over to Udayan.Thank you Ali. And hello everyone. My name is Udayan Kale. I'm in the GameCenter engineering team. In this part of the session we will take a deeperlook at the games into dashboard. Ally just showed you the new games into dashboard.I will know show you ways to invoke the main dashboard and each dashboardsection from within your game. New games into dashboard is a consistentone stop UI for many games into features. It allows you to access the localplayer's profile data about achievements and challenges. All these featuresare provided to you through the familiar GKGamesCenterViewController class.Here is an example of using the dashboard. It uses the same GKGamesCenterViewControllerclass that you are probably using today. The main differenceis how you initialize it. For most games. I recommend using the main dashboard view.You can see here when I initialize the view controller I'm specifying thedashboard state. This gives you the main view that you see here on the right.Another option is to go directly to a specific section of the dashboard.You can go right into the leaderboards achievements challenges or the localplayer's profile. All you need to do is set the state to the one you want.So here is the achievement section. You can see I won three achievements sofar and I can browse through the achievements to see which ones are remaining. Or hereI've chosen to go straight to the player profile view. I can look at friendspeople I've played with and access my profile settings. All of this isup to you. You can also deep link directly to a specific leaderboard. For thisyou just provide the leaderboard ID along with the playerScope globalor friends and the timeScope all time this week or today and present theview controller. Regardless of which section you start them in your playerswill be able to navigate to any available section on their own. So that'sall it takes to set up the new dashboard. You wanted to make it easy foryou to move your apps onto this right away. Now let's talk about the newaccess point and for that let me welcome Christy. Thank you.Thank you Udayan. Today I want to talk about Access Point a great new way to let yourplayers view and manage their game center data right within the game.As you can see there is now a small button in the upper left with your avatarin it. Tapping this button will take the users of the in-game dashboard.This button can be placed in any corner that you choose. Additionally thereare options to show highlights including the number of achievements earnedor your rank on the default leaderboard. Ally has already showed you whatthis looks like from the player perspective. So now let's take a look athow to adopt access point within your game. So first I'll cover some configurationoptions that let you specify position content and so forth. Then I willtalk to you about how to display access point as well as some behaviorsaround this. Next there's some properties you can observe to know whenyou're presenting Game Center and who adjust your layout. And finally we'llcover some considerations for Apple TV and game controllers and how totrigger the access point programmatically. So let's talk about positioningby default access point is placed on top leading which is the upper left corner.However access point is flexible so you can place in any corner of thescreen that best suits your games UI. The positioning of access point willdepend on your language setting. So in languages like Arabic and Hebrewtop leading will appear on the top right top trailing on the upper leftand so forth on the bottom from right to left. Access Point allows you to choosewhich highlights you wish to display. You can choose to adjust the avatar or showhighlights and clear the number of achievements you've earned or your rankon the default leaderboard. So here's how to configure and show the access point.Typically Want to display Access Point while you're on your main menu. So firstI want to set the location to be the top left. Now I set Access Pointto showHighlights and finally I set isActive to be true in order toactivate it. Please notice that all of these calls are to a shared singletonoff of GKaccesspoint. As I just showed in the code we recommend thatyou show your access point when presenting your main menu. You should hidethe access point in situations like cinematic intros game play or yoursettings screen. Our design team has put together some best practices forwhen to show and hide Access Points. I suggest you check that out.Now if the player taps access point they will be taken into the dashboard.While that is happening you may wish to pause your menu animations or whatever.We provide a property isPresentingGameCenter that you can use for this.So here I am setting up an observer to keep an eye on that and based onthis property I'll pause or unpause my game. In this case the Access Pointoverlaps the moon in our sample lab so we provide a property frameInScreenCoordinateswhich can be used to adjust the layout of your UI.In this case we use the frame to shift the artwork out of the way. This canalso be observed so as the access point progresses through each ofit's highlights. Now let's show you what this looks like in code. Here I'mobserving the property and when a change happens I grab the frame fromour singleton convert it to my views local coordinates and adjust the layout.Another use for frame and screen coordinates is for games using controllers oran Apple TV where you track the remote directly. As you can see as the usernavigates through the menu of our game. The game draws its own custom feedback.Here you can use frame and screen coordinates to draw focus feedbackwhen the user navigates the area behind the access point. Here's what this lookslike in code. The first part is similar to our previous code where we getthe screen frame for the access point and convert it to my view coordinates.Then I toggle focus feedback based on whether or not the tracking positionis inside the frame of the access point. To finish this we need to do onemore thing. When the user selects the access point element they call ourprogrammatic API triggerAccessPoint to show the dashboard. In closingI've given a quick tour of access point and gone through the API used for adoptionincluding configuration activation observable properties and programmatic activation.Now let's hand it off to Jonathan Ellenbogen.Thanks Christy. I'm Jonathan Ellenbogen and I'm on the App Store team.I'm going to talk to you about players friends and getting started withGame Center. Let's start with players. Just like in a game Game Center refersto users as players. Game Center uses players to track scores achievementsbuild leader boards and start multiplayer games. Players have one Avatarnickname that is used across all Game Center games. This gives your usersa consistent and familiar look right from the start which is good for bothusers and developers saving you the time and trouble of implementingthis yourself. The fact that players have just one account means that they onlyneed to sign in once per device and can start to play your game even faster.And this year with all the new redesign game center features players aremore accessible than ever from leaderboards to friends lists users canaccess player profiles for themselves and their friends. Before using GameCenter for the first time  users will create a single account which willidentify them across all Game Cnter games. In code players are representedby two different classes. GKLocalPlayer and GKPlayer. A great wayto think about these classes is that GKLocalPlayer is the user playingyour game. While GKPlayers are everyone else. Let's take a quick look and compare.All players will have an avatar and a nickname. Both types of players willalso have scoped player IDs which can be used for leaderboards game invitesand challenges. However the local player will have a persistent IDwhile GKPlayers have ideas that change with every instantiation of your game.Since the local players used to represent the player that's currently signed insome additional information is needed. The local player class exposes informationrelated to restrictions which may need to be applied in your game.The local player is also used by Game Center services to save state such asscores achievements and friends. Now let's look at how you can start usingplayers in your game. First before we start using players directly you'llneed to enable Game Center. To do this add Game Center as a capability in your Xcode project.You'll also need to enable games in your App Store Connect. This is therein the feature section under Game Center. You'll be prompted to enableGame Center if you haven't already.After Game Center has been enabled in Xcode and App Store Connect you'llneed to authenticate the local player before accessing any game centerAPIs. Authentication allows game center to make sure there's a signedand local player and that the game's center account is ready to use. Authentication.also checks whether your game has been configured to make Game Center APIcalls and talk to Game Center services. Once authenticated you'll be ableto turn on Game Center features receive notifications such as game inviteschallenges and user changes. Let's look at how authentication works inyour game. Authenticating the local players should be done as early aspossible in the lifecycle of your game. This ensures your game is ready toreceive notifications and make Game Center API calls. First you'll needto set the authentication handler on the shared instance of GKLocal Player.This will kick off Game Center authentication automatically and you'llreceive callbacks when authentication related changes happen and you canrespond accordingly. Now it's likely that the local player will have alreadybeen signed in. In this case the authentication handler will be calledwithout any errors or UI to present. Which means you've successfullyauthenticated and are ready to go. There will also be cases where the playerhas not yet authenticated with Game Center.In these cases your authentication handler will be called with an error anda view controller. Your option is to present this view controller giving theuser a chance to sign in or continue their account set up. Once the userhas successfully signed in your authentication handler will be called againthis time without any errors or UI to present and you're ready tostart your game. Now you'll also need to handle the case where the userdecides not to sign in. When this happens your authentication handler willbe called yet again but this time with an error. You should disable gamecenter and start your game. Once you've successfully authenticated andhave a signed in local player you can start accessing Game Center APIs.But I'm going to talk to you about player profiles. This year player profiles have movedbeyond just settings and are now a larger part of Game Center. As a resultyou have the ability to present local player profiles right from withinyour game and it couldn't be easier. All you have to do is initialize aGKGameCenterinterViewController with the local player profile state.Save yourself as the delegate and present it as you would any other view controller.It's that simple. From here players can see their achievements find friendsand see what their friends are playing. There are cases where the localplayer may have certain restrictions on their count and it's your app'sresponsibility to check these restrictions and disable or hide relevant content.As we can see here in addition to checking whether the user is under agehas access to multiplayer games. I'm also checking the personalized communications restriction.This is new in IOS 14 and when this restriction is turned on it meansthe user will not be able to use voice or messaging features in game centermultiplayer games. So if your app is in custom communication features.Be sure to honor this flag and disable them when necessary. This restrictionwill always be true if the users under age. This year as part of user managementon tvOS Game Center has added support for multiple games and accountsper device. This means that as users switch accounts the GKLocalPlayerwill change and your game will receive callbacks via the authentication handlerwhen it does. This is all done transparently to your game giving you theability to easily support multiple players with very few changes. Any tvOSgame can easily opt into this feature by adding the user management capabilityin Xcode. You can refer to the tvOS as multi-user session for more information.Now let's talk about game center friends. Friends are an incredibly importantpart of game center and are used in leaderboards multi-player gaming and challenges.And through friend profiles you'll be able to see which games your friendsare playing and the achievements they've earned in those games. With localplayer profiles we now have one place where you can see all your Game Centeractivity including achievements and games. You can see all your friendsand invite new ones. You'll also have access to your friends profiles.These are referred to as player cards. From here you can quickly see whatyour friends are playing and the achievements they've earned. This yearyou'll notice player cards are accessible from many different places throughoutGame Center and with player profiles becoming a larger part of Game Center profileprivacy invisibility becomes even more important. Players can choose fromthree different privacy settings. Everyone friends only and no one.This is all handled automatically in the game showing and hiding profile informationdepending on which settings your player chooses. Here you can see the differencebetween someone with a profile visible to everyone and a profile visibleto no one. To wrap things up we've taken a look at the different typesof game center players the importance of authentication and making surethat it's done as early as possible. The Game Center APIs around presentingplayer profiles honoring player restrictions and enabling multi user supporton tvOS. We've talked about the new player cards and how different privacysettings affect what other players can and cannot see. Earlier Ally Udayanand Christy took you through what's new in Game Center the new in-gamedashboard and how to enable Access Point in your game. In our next sessionyou'll get a more in-depth look at some of the cool new features in leaderboardsachievements in multiplayer gaming. That's all for this session. Thanksfor watching and have
a great rest your day.

Hello and welcome to WWDC. Hi I'm Ally and I'm the engineering programmanager for Game Center.I'm super excited to talk to you about not only what's new but to alsowalk you through some updates to existing features that we think you andyour players are really going to love throughout both sessions. We'll touchon all the core features of Game Center and at the end we hope you walkaway equipped with the tools you need to add game center support to your game.

But before we get to details let's take a minute to talk about what GameCenter is and what it offers you and your players. Game Center is Apple'sown social gaming network. It offers a single identity for players to useacross all their games. And once signed in they can instantly access theirgame center network of friends. As a developer you can implement as manyor as few games under features as you'd like. It's really about what makessense for your game. Leaderboards are a good place to start. If you'renew to game center they let your players see how they stack up againstfriends and other global players. And as players progress through yourgame why not reward them along the way. Achievements are a great mechanismto do just that. They also encourage players to come back and keep playing.And if your game is more fun when played with others you can also use GameCenter to create rich multiplayer experiences. Most of Game Center's functionalitycan be added within your own custom built UI or you can take advantageof the Native Game Center offering which has been completely refreshedthis year. That's what I'd like to walk you through now to do that.Let's jump into a game. Upon launch the Game Center welcome banner will stillappear but once it rolls away a new element appears. This is the Game Centeraccess point. At a glance I see some useful highlights like how many achievementsI've earned and where I stand in the leaderboards all without any actionon my part. Once the highlights finished displaying the access point collapsesinto my player Avatar. This element is meant to remain on your title screenas a consistent way for players to access Game Center to add Access Pointfunctionality within your game. You'll need to adopt the Access Point API.This lets you choose what corner to position it in and whether or not youwant to display highlights to the player. Christy will cover Access Pointimplementation in depth a little bit later. but for now let's tap on myplayer Avatar. This takes me to the in-game dashboard a centralized locationfor players to browse and interact with Game Center. From here you havequick access to existing features like leaderboards and achievements.But as you've probably already noticed the biggest change is the addition ofa new section that offers in-game access to your game center player profile.

But before we dig into that let's talk about the main dashboard for justanother second. To give your players access to the top level dashboardYou can adopt the Dashboard API. Your player will then be able to choosewhat section they want to explore and if you already link to specific sectionsof the dashboard on your game don't worry those will continue to workas well. For example if you link to an individual leaderboard somewherewithin your UI we'll still take you directly to it. Top level highlightswithin the dashboard are also new in iOS 14. These are little bits ofinformation that are meant to offer useful stats at a glance. You'll seesimilar highlights throughout each section of the dashboard so let's continueto drill in. Tapping on the first section of the dashboard brings me tomy own player profile. Right away I get some useful stats about my overall gameplay.

I can view and edit my friends list or see a list of players I've recentlybeen matched with. I'm also offered some friends suggestions here and ifI see one I like I can tap uninvite and send that person a friend request.All of this can be done without having to leave the game. Scrolling furtherI now have a way to view the achievements I've earned across all my gamesand if I want to change something within my profile like my nickname orAvatar I could tap on profile settings. I'm pretty happy with my profile thoughso let's go back to the dashboard. Next up is achievements. Right awayI'm greeted by the achievements I've already completed. This is a greatway to let the player feel a sense of accomplishment. Scrolling a littlefurther here are the achievements I've yet to earn. And if the game isimplemented in progress achievements like this one has I can tell howclose I am to earning it. Notice that the artwork you choose to use forachievements is prominently displayed. We'd encourage you to check outthe design for game center session as well as the human interface guidelinesfor guidance on how to create great achievement art. Both will cover bestpractices for creating all kinds of assets for your game and later on Dursawill walk you through exactly how to setup different kinds of achievementswithin your game. Let's move on to leaderboards. Just like achievementsthe artwork associated with your leaderboards is now the center of attentionso it's a great idea to use different assets for each one. This is an opportunityto help the player better recognize which leaderboard they're looking for.The design session I referenced just a second ago also has details on creatinggreat leaderboard art. Tapping into an individual leaderboard the mostobvious difference is the addition of a friends only leaderboard.This is now the default and makes it much easier for players to see how theyrank amongst their friends. I could also view global and recent leaderboardsif I want by changing views at the top. But while we're on the topic offriends I can also tap on a friend within a leaderboard. This brings uptheir player card and if that friend has chosen to share their info I cansee what they've recently played as well as their achievement progress.The best part is player cards are accessible in lots of new places.I can see the same information on my friends list and even while browsingthe app store which we'll talk more about in just a bit. Returning to theleaderboard perhaps the largest change is the option to create a recurring leaderboard.This leaderboard is set to occur every 15 minutes and I'm currently onlyin fourth place. That's OK. Scores will reset shortly and I'll have anotherchance to come out on top. Notice that I can see my standing not only inthe current leaderboard but in the last iteration I played in as well.Recurring leaderboards can be setup within app store connect similar toclassic leaderboards. Later on New Dan will be walking you through howto configure both types. Returning to the dashboard one last time the finalsection to check out is actually an optional one and that's challenges.We only made one change this year but it's one worth calling out. The ChallengesFeature now lives behind a new opt in flag with an app store connect by default.The challenges section of the dashboard will not appear within your game.However if this is a feature you support and would like your players tocontinue to have access to simply check a box and app store connect andyou're good to go. Now let's move on to a different area of Game Centerand that's multiplayer games that are can be used to create both real timeand turn based multiplayer experiences during implementation. You can choosethe one that fits best within your game. The other choice you'll need tomake is whether you want to use your own multiplayer UI or the defaultGame Center one. To help you decide let's take a look at the native experience.

Choosing the multiplayer option from the main menu brings up the new UI.As you can tell the colors of the game underneath really show through.This is meant to make the design feel at home within any game with no additionalwork from the developer. Now let's set up a game the way a player would.At the top I can adjust how many players I want to add up to the developerspecified limit. For this example let's choose 3. Within each slot I cantap on add player. This will bring up the player picker. This is whereI choose the people I want to play with. If nearby players exist they'llappear at the top. Or what I tend to do most often I can choose to playwith an existing Game Center Friend. We'll also offer suggestions basedon people you've recently played with or recently contacted on your device.Coming back to the main screen I don't have to fill all these player slotsin if I don't want to. Any slots I leave blank will automatically be auto matched.And now I'm ready to start the game. Look how easy that was. No join codesno friction just setup and play. And that's a quick overview of the newmultiplayer UI. A little later on. Christy will walk you through in more detail.

Now that you've seen an overview of what Games Center has to offer I wantto spend just a few minutes talking about some new ways we think GameCenter can help players discover new content and there's no better placeto start than within the App Store. Now when browsing popular areas ofthe store like the Arcade and Games tabs players can better discover whattheir Game Center friends are playing. We're also integrating the sameinformation right into your game's product page. I can even view a friendsplayer card right within the app store. From there I can check out moreof their recently played games and download any of the ones that look interestingto me. We think this will give players a convenient way to discover new gamesthey may have otherwise missed. Now let's start diving into details.Here's a look at how the rest of the sessions will break down. To get startedUdayan is going to show you how to implement the dashboard API within your game.

After that Christy will cover adding access point functionality. Followed byplayers and friends where John will show you not only how to enable Game Centerbut also how to properly interact with the local player and more.And this will bring the first session to a close. To kickoff part two Udayanwill be returning to show you how to set up both classic and recurring leaderboards.

In the achievement section Dursa will walk you through the different typesof achievements how to set them up and how to ensure they're reported accurately.

Finally Christy will talk about multiplayer functionality and what's new there.But to get you started with Dashboard I'd like to now turn it over to Udayan.

Thank you Ali. And hello everyone. My name is Udayan Kale. I'm in the GameCenter engineering team. In this part of the session we will take a deeperlook at the games into dashboard. Ally just showed you the new games into dashboard.I will know show you ways to invoke the main dashboard and each dashboardsection from within your game. New games into dashboard is a consistentone stop UI for many games into features. It allows you to access the localplayer's profile data about achievements and challenges. All these featuresare provided to you through the familiar GKGamesCenterViewController class.

Here is an example of using the dashboard. It uses the same GKGamesCenterViewControllerclass that you are probably using today. The main differenceis how you initialize it. For most games. I recommend using the main dashboard view.You can see here when I initialize the view controller I'm specifying thedashboard state. This gives you the main view that you see here on the right.

Another option is to go directly to a specific section of the dashboard.You can go right into the leaderboards achievements challenges or the localplayer's profile. All you need to do is set the state to the one you want.

So here is the achievement section. You can see I won three achievements sofar and I can browse through the achievements to see which ones are remaining. Or hereI've chosen to go straight to the player profile view. I can look at friendspeople I've played with and access my profile settings. All of this isup to you. You can also deep link directly to a specific leaderboard. For thisyou just provide the leaderboard ID along with the playerScope globalor friends and the timeScope all time this week or today and present theview controller. Regardless of which section you start them in your playerswill be able to navigate to any available section on their own. So that'sall it takes to set up the new dashboard. You wanted to make it easy foryou to move your apps onto this right away. Now let's talk about the newaccess point and for that let me welcome Christy. Thank you.

Thank you Udayan. Today I want to talk about Access Point a great new way to let yourplayers view and manage their game center data right within the game.As you can see there is now a small button in the upper left with your avatarin it. Tapping this button will take the users of the in-game dashboard.This button can be placed in any corner that you choose. Additionally thereare options to show highlights including the number of achievements earnedor your rank on the default leaderboard. Ally has already showed you whatthis looks like from the player perspective. So now let's take a look athow to adopt access point within your game. So first I'll cover some configurationoptions that let you specify position content and so forth. Then I willtalk to you about how to display access point as well as some behaviorsaround this. Next there's some properties you can observe to know whenyou're presenting Game Center and who adjust your layout. And finally we'llcover some considerations for Apple TV and game controllers and how totrigger the access point programmatically. So let's talk about positioningby default access point is placed on top leading which is the upper left corner.

However access point is flexible so you can place in any corner of thescreen that best suits your games UI. The positioning of access point willdepend on your language setting. So in languages like Arabic and Hebrewtop leading will appear on the top right top trailing on the upper leftand so forth on the bottom from right to left. Access Point allows you to choosewhich highlights you wish to display. You can choose to adjust the avatar or showhighlights and clear the number of achievements you've earned or your rankon the default leaderboard. So here's how to configure and show the access point.Typically Want to display Access Point while you're on your main menu. So firstI want to set the location to be the top left. Now I set Access Pointto showHighlights and finally I set isActive to be true in order toactivate it. Please notice that all of these calls are to a shared singletonoff of GKaccesspoint. As I just showed in the code we recommend thatyou show your access point when presenting your main menu. You should hidethe access point in situations like cinematic intros game play or yoursettings screen. Our design team has put together some best practices forwhen to show and hide Access Points. I suggest you check that out.Now if the player taps access point they will be taken into the dashboard.While that is happening you may wish to pause your menu animations or whatever.We provide a property isPresentingGameCenter that you can use for this.So here I am setting up an observer to keep an eye on that and based onthis property I'll pause or unpause my game. In this case the Access Pointoverlaps the moon in our sample lab so we provide a property frameInScreenCoordinateswhich can be used to adjust the layout of your UI.In this case we use the frame to shift the artwork out of the way. This canalso be observed so as the access point progresses through each ofit's highlights. Now let's show you what this looks like in code. Here I'mobserving the property and when a change happens I grab the frame fromour singleton convert it to my views local coordinates and adjust the layout.Another use for frame and screen coordinates is for games using controllers oran Apple TV where you track the remote directly. As you can see as the usernavigates through the menu of our game. The game draws its own custom feedback.Here you can use frame and screen coordinates to draw focus feedbackwhen the user navigates the area behind the access point. Here's what this lookslike in code. The first part is similar to our previous code where we getthe screen frame for the access point and convert it to my view coordinates.Then I toggle focus feedback based on whether or not the tracking positionis inside the frame of the access point. To finish this we need to do onemore thing. When the user selects the access point element they call ourprogrammatic API triggerAccessPoint to show the dashboard. In closingI've given a quick tour of access point and gone through the API used for adoptionincluding configuration activation observable properties and programmatic activation.

Now let's hand it off to Jonathan Ellenbogen.

Thanks Christy. I'm Jonathan Ellenbogen and I'm on the App Store team.I'm going to talk to you about players friends and getting started withGame Center. Let's start with players. Just like in a game Game Center refersto users as players. Game Center uses players to track scores achievementsbuild leader boards and start multiplayer games. Players have one Avatarnickname that is used across all Game Center games. This gives your usersa consistent and familiar look right from the start which is good for bothusers and developers saving you the time and trouble of implementingthis yourself. The fact that players have just one account means that they onlyneed to sign in once per device and can start to play your game even faster.

And this year with all the new redesign game center features players aremore accessible than ever from leaderboards to friends lists users canaccess player profiles for themselves and their friends. Before using GameCenter for the first time  users will create a single account which willidentify them across all Game Cnter games. In code players are representedby two different classes. GKLocalPlayer and GKPlayer. A great wayto think about these classes is that GKLocalPlayer is the user playingyour game. While GKPlayers are everyone else. Let's take a quick look and compare.

All players will have an avatar and a nickname. Both types of players willalso have scoped player IDs which can be used for leaderboards game invitesand challenges. However the local player will have a persistent IDwhile GKPlayers have ideas that change with every instantiation of your game.

Since the local players used to represent the player that's currently signed insome additional information is needed. The local player class exposes informationrelated to restrictions which may need to be applied in your game.The local player is also used by Game Center services to save state such asscores achievements and friends. Now let's look at how you can start usingplayers in your game. First before we start using players directly you'llneed to enable Game Center. To do this add Game Center as a capability in your Xcode project.

You'll also need to enable games in your App Store Connect. This is therein the feature section under Game Center. You'll be prompted to enableGame Center if you haven't already.

After Game Center has been enabled in Xcode and App Store Connect you'llneed to authenticate the local player before accessing any game centerAPIs. Authentication allows game center to make sure there's a signedand local player and that the game's center account is ready to use. Authentication.also checks whether your game has been configured to make Game Center APIcalls and talk to Game Center services. Once authenticated you'll be ableto turn on Game Center features receive notifications such as game inviteschallenges and user changes. Let's look at how authentication works inyour game. Authenticating the local players should be done as early aspossible in the lifecycle of your game. This ensures your game is ready toreceive notifications and make Game Center API calls. First you'll needto set the authentication handler on the shared instance of GKLocal Player.

This will kick off Game Center authentication automatically and you'llreceive callbacks when authentication related changes happen and you canrespond accordingly. Now it's likely that the local player will have alreadybeen signed in. In this case the authentication handler will be calledwithout any errors or UI to present. Which means you've successfullyauthenticated and are ready to go. There will also be cases where the playerhas not yet authenticated with Game Center.

In these cases your authentication handler will be called with an error anda view controller. Your option is to present this view controller giving theuser a chance to sign in or continue their account set up. Once the userhas successfully signed in your authentication handler will be called againthis time without any errors or UI to present and you're ready tostart your game. Now you'll also need to handle the case where the userdecides not to sign in. When this happens your authentication handler willbe called yet again but this time with an error. You should disable gamecenter and start your game. Once you've successfully authenticated andhave a signed in local player you can start accessing Game Center APIs.But I'm going to talk to you about player profiles. This year player profiles have movedbeyond just settings and are now a larger part of Game Center. As a resultyou have the ability to present local player profiles right from withinyour game and it couldn't be easier. All you have to do is initialize aGKGameCenterinterViewController with the local player profile state.Save yourself as the delegate and present it as you would any other view controller.It's that simple. From here players can see their achievements find friendsand see what their friends are playing. There are cases where the localplayer may have certain restrictions on their count and it's your app'sresponsibility to check these restrictions and disable or hide relevant content.

As we can see here in addition to checking whether the user is under agehas access to multiplayer games. I'm also checking the personalized communications restriction.

This is new in IOS 14 and when this restriction is turned on it meansthe user will not be able to use voice or messaging features in game centermultiplayer games. So if your app is in custom communication features.Be sure to honor this flag and disable them when necessary. This restrictionwill always be true if the users under age. This year as part of user managementon tvOS Game Center has added support for multiple games and accountsper device. This means that as users switch accounts the GKLocalPlayerwill change and your game will receive callbacks via the authentication handlerwhen it does. This is all done transparently to your game giving you theability to easily support multiple players with very few changes. Any tvOSgame can easily opt into this feature by adding the user management capabilityin Xcode. You can refer to the tvOS as multi-user session for more information.

Now let's talk about game center friends. Friends are an incredibly importantpart of game center and are used in leaderboards multi-player gaming and challenges.

And through friend profiles you'll be able to see which games your friendsare playing and the achievements they've earned in those games. With localplayer profiles we now have one place where you can see all your Game Centeractivity including achievements and games. You can see all your friendsand invite new ones. You'll also have access to your friends profiles.These are referred to as player cards. From here you can quickly see whatyour friends are playing and the achievements they've earned. This yearyou'll notice player cards are accessible from many different places throughoutGame Center and with player profiles becoming a larger part of Game Center profileprivacy invisibility becomes even more important. Players can choose fromthree different privacy settings. Everyone friends only and no one.This is all handled automatically in the game showing and hiding profile informationdepending on which settings your player chooses. Here you can see the differencebetween someone with a profile visible to everyone and a profile visibleto no one. To wrap things up we've taken a look at the different typesof game center players the importance of authentication and making surethat it's done as early as possible. The Game Center APIs around presentingplayer profiles honoring player restrictions and enabling multi user supporton tvOS. We've talked about the new player cards and how different privacysettings affect what other players can and cannot see. Earlier Ally Udayanand Christy took you through what's new in Game Center the new in-gamedashboard and how to enable Access Point in your game. In our next sessionyou'll get a more in-depth look at some of the cool new features in leaderboardsachievements in multiplayer gaming. That's all for this session. Thanksfor watching and have
a great rest your day.

10:05 -Presenting the main dashboard

10:51 -Display a specific leaderboard

13:18 -Configure and show Access Point

14:00 -Observing isPresentingGameCenter

14:44 -Changing the frame

15:18 -Handling focus

15:38 -Handling selection

20:01 -Showing the player profile

20:28 -Player restrictions

## Code Samples

```swift
// GKGameCenterViewController



public
 
init
(
state
:)

[
...
]


// Example: Display Main Dashboard


let
 vc 
=
 
GKGameCenterViewController
(state: .dashboard)
vc.gameCenterDelegate 
=
 
self

present(vc, animated: 
true
, completion: 
nil
) 

[
...
]

enum
 
GKGameCenterViewControllerState
 : 
Int
 
{
   
case
 `default`
   
case
 leaderboards
   
case
 achievements
   
case
 challenges
   
case
 localPlayerProfile
   
case
 dashboard
}
```

```swift
// Display scores for a specific leaderboard


let
 vc 
=
 
GKGameCenterViewController
(
                leaderboardID: 
"grp.xyz.laketahoe"
,
                playerScope: .global,
                timeScope: .allTime)
vc.gameCenterDelegate 
=
 
self

present(vc, animated: 
true
, completion: 
nil
)
```

```swift
// Configure and show Access Point


func
 
showMainMenu
()
 {
    
// Call your code to setup the main menu

    
self
.setupMainMenu()

    
// Place access point on top left   

    
GKAccessPoint
.shared.location 
=
 .topLeading    

    
// Show highlights

    
GKAccessPoint
.shared.showHighlights 
=
 
true

 
    
// Show it!

    
GKAccessPoint
.shared.isActive 
=
 
true

}
```

```swift
let
 observation 
=
 
GKAccessPoint
.shared.observe(
           \.isPresentingGameCenter
    ) { [
weak
 
self
] 
_
,
_
 
in

    
self
.paused 
=
 
GKAccessPoint
.shared.isPresentingGameCenter
}
```

```swift
// Observable properties


// frameInScreenCoordinates



let
 observation 
=
 
GKAccessPoint
.shared.observe(
           \.frameInScreenCoordinates
    ) { [
weak
 
self
] 
_
,
_
 
in

    
let
 screenFrame 
=
 
GKAccessPoint
.shared.frameInScreenCoordinates
    
let
 accessPointFrame 
=
 myView.convert(screenFrame, from: 
nil
)
    
// adjust your layout

}
```

```swift
// Apple TV and controllers



// track and update focus


func
 
trackController
(
position
: 
CGPoint
)
 {
  
let
 screenFrame 
=
 
GKAccessPoint
.shared.frameInScreenCoordinates
  
let
 accessFrame 
=
 myView.convert(screenFrame, from: 
nil
)
  
// if the point is in the access point turn on feedback

  accessPointElement.focusFeedback 
=
 
CGRectContainsPoint
(accessFrame, position)
}
```

```swift
// Apple TV and controllers



// Handle selection


func
 
accessPointSelected
()
 {
  
GKAccessPoint
.shared.triggerAccessPoint {}
}
```

```swift
// Local player profile



let
 profileVC 
=
 
GKGameCenterViewController
(state: .localPlayerProfile)
profileVC.gameCenterDelegate 
=
 
self


present(profileVC, animated: 
true
, completion: 
nil
)
```

```swift
// Local player restrictions



GKLocalPlayer
.local.authenticateHandler 
=
 { viewController, error 
in

    
let
 isGameCenterReady 
=
 (viewController 
==
 
nil
) 
&&
 (error 
==
 
nil
)

    
if
 isGameCenterReady {
        
if
 
GKLocalPlayer
.local.isUnderage {
            
// Hide explicit game content

        }

        
if
 
GKLocalPlayer
.local.isMultiplayerGamingRestricted {
            
// Disable multiplayer game features

        } 

        
if
 
GKLocalPlayer
.local.isPersonalizedCommunicationRestricted {
            
// Disable in game communication UI

        }    
    }
}
```

