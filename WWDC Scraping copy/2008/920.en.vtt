WEBVTT

00:00:20.700 --> 00:00:22.690
Good afternoon.

00:00:22.870 --> 00:00:23.940
My name is JD Mankovsky.

00:00:23.940 --> 00:00:28.340
I manage Apple's
Professional Services and wanted to

00:00:28.340 --> 00:00:32.430
start by just asking a few questions
in the audience and get a show of hands

00:00:32.510 --> 00:00:34.440
and make sure you're paying attention.

00:00:34.570 --> 00:00:38.840
So how many of you have Xsan today
deployed in your environment?

00:00:38.890 --> 00:00:39.990
Wow.

00:00:40.050 --> 00:00:40.900
That's excellent.

00:00:40.900 --> 00:00:42.510
Well, thank you very much.

00:00:42.610 --> 00:00:46.620
And we're going to talk a little bit
about Xsan 2 and I'm sure -- how many

00:00:46.620 --> 00:00:49.460
people are still running Xsan 1.4 today?

00:00:49.560 --> 00:00:51.010
Okay.

00:00:51.020 --> 00:00:54.740
So hopefully this session
will be useful for you.

00:00:54.880 --> 00:00:59.720
How many people are looking to deploy
Xsan in the next six to 12 months?

00:00:59.780 --> 00:01:00.030
Okay.

00:01:00.180 --> 00:01:03.980
Excellent.

00:01:03.990 --> 00:01:03.990
Excellent.

00:01:05.150 --> 00:01:08.940
Jason Thorpe is going to be my colleague,
my partner in crime here.

00:01:09.010 --> 00:01:14.860
Jason manages the server engineering
group and specifically Xsan as well.

00:01:14.860 --> 00:01:19.300
So he'll come over and share
some of his best practices

00:01:19.300 --> 00:01:21.890
around some specific topics here.

00:01:22.100 --> 00:01:25.700
What you're going to learn
today and that's really...

00:01:29.090 --> 00:01:33.540
What you're going to learn today
is really what's new in Xsan 2.

00:01:33.610 --> 00:01:35.300
And we'll talk about some best practices.

00:01:35.300 --> 00:01:36.960
Now,
they're not all up on the slide here.

00:01:37.090 --> 00:01:38.780
It would be multiple
slides to go through it.

00:01:38.780 --> 00:01:41.220
So those are some of the highlights.

00:01:41.310 --> 00:01:45.380
You know,
some really important integration.

00:01:46.280 --> 00:01:48.360
and Jason Thorpe, the founder of Xsan 2.

00:01:48.450 --> 00:01:51.760
You know, configurations and tips that
you should know of even before

00:01:51.760 --> 00:01:53.400
you even deploy your Xsan.

00:01:53.400 --> 00:01:58.730
And we'll talk about performance and
optimization and redundancy now that

00:01:58.730 --> 00:02:03.360
we've got some nice new features
and multi-pathing and new storage.

00:02:03.360 --> 00:02:05.750
Lots of fun stuff to talk about.

00:02:05.760 --> 00:02:08.360
And finally, we'll have time for Q&A.

00:02:08.360 --> 00:02:11.450
The session should be about an hour,
and we'll have 15 minutes for Q&A,

00:02:11.560 --> 00:02:14.480
and then you can join us
at the lab downstairs,

00:02:15.250 --> 00:02:19.780
So what I'd like to do now is bring
up Jason Thorpe and talk to you

00:02:19.780 --> 00:02:21.600
quickly about what's new in Xsan 2.

00:02:21.650 --> 00:02:23.090
Jason?

00:02:23.900 --> 00:02:25.960
Thanks JD.

00:02:25.980 --> 00:02:27.180
Good afternoon.

00:02:27.290 --> 00:02:30.980
So last year -- who came last
year's session introducing XAN2?

00:02:30.980 --> 00:02:32.230
Raise your hands.

00:02:32.240 --> 00:02:32.760
Okay.

00:02:32.760 --> 00:02:33.350
Great.

00:02:33.350 --> 00:02:37.120
So there's a lot of you who
did not see that presentation.

00:02:37.120 --> 00:02:40.340
So let's cover what is new in XAN2
that's actually really interesting.

00:02:40.340 --> 00:02:45.730
So the first thing is we have a brand-new
XAN admin application that really

00:02:45.750 --> 00:02:50.410
streamlines the administration tasks,
the setup, no more hopping through panes.

00:02:50.410 --> 00:02:54.960
There's very assistant oriented in XSAN2.

00:02:56.260 --> 00:02:59.100
Next is we have a
feature called MultiSAN.

00:02:59.100 --> 00:03:03.150
This is particularly interesting if
you're deploying multiple volumes in

00:03:03.150 --> 00:03:08.450
an environment where uptime is really
critical for certain environments and

00:03:08.450 --> 00:03:14.860
allows you to better utilize the server
hardware that you deploy Xsan on.

00:03:14.910 --> 00:03:18.760
We're going to cover that in a little
more detail here later on in this talk.

00:03:19.060 --> 00:03:21.960
And then finally,
Xsan 2 also introduced full

00:03:21.960 --> 00:03:25.290
support for Spotlight using the
same architecture that we have for

00:03:25.290 --> 00:03:27.360
Spotlight Server and Mac OS X Server.

00:03:27.430 --> 00:03:30.290
And not much more to say about that.

00:03:30.300 --> 00:03:33.440
The two things that we're really
going to talk about today are the new

00:03:33.440 --> 00:03:36.450
Xsan Admin Application and MultiSAN.

00:03:37.330 --> 00:03:41.200
So,
for those of you who are not familiar,

00:03:41.200 --> 00:03:44.770
let's kind of just give you a
brief primer on how Xsan works.

00:03:44.890 --> 00:03:48.800
So, first let's take a look at a
traditional file sharing environment.

00:03:48.890 --> 00:03:52.490
We have some storage and you have
a file server and you have clients

00:03:52.490 --> 00:03:55.030
that are connected to that file
server over gigabit Ethernet.

00:03:55.200 --> 00:03:59.120
All the data is flowing through
the server which in turn pulls the

00:03:59.120 --> 00:04:01.800
data from the high-speed storage.

00:04:01.910 --> 00:04:04.830
Now, if you notice in the diagram there,
there's a big fat pipe between

00:04:04.890 --> 00:04:07.430
the storage and the server,
but there are these teeny

00:04:07.430 --> 00:04:10.000
little thin pipes between the
server and all the clients.

00:04:10.070 --> 00:04:14.020
And that is the sort of main
disadvantage of using this sort of

00:04:14.070 --> 00:04:15.500
traditional file sharing environment.

00:04:15.520 --> 00:04:19.270
You're limited by the gigabit
network connection that's between

00:04:19.280 --> 00:04:20.590
the client and the server.

00:04:20.720 --> 00:04:22.550
Furthermore,
all those clients are actually

00:04:22.550 --> 00:04:26.550
sharing one connection to the server
because the server not just has

00:04:26.550 --> 00:04:29.080
one port out to the rest of the LAN.

00:04:29.270 --> 00:04:32.300
Now, if you contrast that to Xsan,
we still have a server,

00:04:32.300 --> 00:04:36.480
we call it the Xsan Controller,
but the main difference here

00:04:36.540 --> 00:04:39.210
is that those clients are all
directly connected to the storage

00:04:39.300 --> 00:04:42.500
through a fiber channel switch,
which if you notice in the diagram here,

00:04:42.500 --> 00:04:46.800
those pipes are a little fatter than
they were in the previous slide.

00:04:46.800 --> 00:04:50.120
That enables the clients to basically
get the full bandwidth from the

00:04:50.190 --> 00:04:52.000
storage into their application.

00:04:52.030 --> 00:04:55.200
The controller is there primarily
to handle namespace operations,

00:04:55.200 --> 00:04:59.300
so creating a file, renaming a file,
looking up files,

00:04:59.300 --> 00:05:03.000
and figuring out where on the
storage that the file lives,

00:05:03.020 --> 00:05:05.400
but no data flows through
the Xsan Controller.

00:05:05.400 --> 00:05:10.400
So, main advantage of this, of course,
is that as you add storage,

00:05:10.400 --> 00:05:13.850
the performance scales up,
and that's because you can take

00:05:13.850 --> 00:05:18.400
advantage of the multi-pathing
support in the Mac OS X storage stack,

00:05:18.400 --> 00:05:22.290
and with the new Promise RAID,
we can actually take advantage of

00:05:22.290 --> 00:05:25.740
multiple paths to that storage as well.

00:05:25.910 --> 00:05:28.160
And then finally,
you can actually gain some

00:05:28.160 --> 00:05:30.960
high availability by adding
redundant Xsan controllers so

00:05:30.960 --> 00:05:33.800
that if one were to go down,
the power failure or, you know,

00:05:33.800 --> 00:05:36.840
CPU catches on fire or whatever,
there's another one there

00:05:36.840 --> 00:05:38.590
that can take over for you.

00:05:39.340 --> 00:05:42.770
So, I'm gonna now hand it back to JD,
who's gonna start

00:05:42.770 --> 00:05:44.140
covering best practices.

00:05:44.180 --> 00:05:46.010
Thanks, Jason.

00:05:46.780 --> 00:05:50.760
So the first thing we
want to cover is power,

00:05:50.840 --> 00:05:51.650
cooling and UPS.

00:05:51.840 --> 00:05:56.180
So even before you would deploy a Xsan,
you want to make sure that all that,

00:05:56.180 --> 00:05:58.220
that the house is in order, right?

00:05:58.250 --> 00:05:59.910
You want to make sure you've
got the right amount of cooling,

00:05:59.920 --> 00:06:04.330
that you've got the right amount of
AC and that the power is sufficient

00:06:04.920 --> 00:06:09.720
to power up the servers and the
storage and the rest of the equipment.

00:06:09.760 --> 00:06:15.390
And we do see a lot of situations where
when we show up and do those deployments,

00:06:15.400 --> 00:06:17.640
you know, that those are not in order,
right?

00:06:17.690 --> 00:06:21.800
The AC is either not sufficient or,
you know, there's not enough power

00:06:21.840 --> 00:06:24.650
coming to the racks and then
you run into situations where,

00:06:24.660 --> 00:06:27.940
you know, you get blown fuses and you
bring your data center down

00:06:27.940 --> 00:06:31.560
or you might bring your whole,
you know, shop down, which is not a good

00:06:31.560 --> 00:06:33.390
situation you want to be in.

00:06:33.560 --> 00:06:39.340
So what we usually start with is when
we come in and spec out the Xsan,

00:06:39.360 --> 00:06:43.530
we'll basically calculate, you know,
the total amount of wattage required

00:06:43.640 --> 00:06:48.390
for the equipment as well as the cooling
and make sure we deliver that to the

00:06:48.520 --> 00:06:53.350
customer ahead of time so they can make
sure that that room and the data center

00:06:53.420 --> 00:06:55.690
can actually sustain that new equipment.

00:06:55.800 --> 00:06:59.450
So just a few examples that are up there,
but obviously a lot of that stuff

00:06:59.510 --> 00:07:02.480
is available on our website if
you're looking for specific,

00:07:02.520 --> 00:07:05.000
you know,
product specs in terms of wattage

00:07:05.000 --> 00:07:08.960
and BTU on the Apple website and a
lot of that stuff is available from,

00:07:08.960 --> 00:07:08.960
you know, the Xsan.

00:07:08.960 --> 00:07:08.960
So just a few examples that are up there,
but obviously a lot of that stuff

00:07:08.960 --> 00:07:08.960
is available on our website if
you're looking for specific,

00:07:08.960 --> 00:07:08.960
you know,
product specs in terms of wattage

00:07:08.960 --> 00:07:08.960
and BTU on the Apple website and a
lot of that stuff is available from,

00:07:08.960 --> 00:07:09.020
you know, the Xsan.

00:07:09.020 --> 00:07:11.990
from all the third-party
vendors that would,

00:07:12.220 --> 00:07:15.190
you know,
build that Xsan and that video Xsan.

00:07:15.200 --> 00:07:19.660
So examples, you know, the Intel Xserve,
750 watts, Promise V-Track,

00:07:19.730 --> 00:07:24.490
around 450 watts, and then, you know,
some 3-com switches.

00:07:25.930 --> 00:07:29.640
The next thing we want
to talk about is UPSs.

00:07:29.640 --> 00:07:33.050
It's really important that
when you deploy a Xsan,

00:07:33.190 --> 00:07:35.880
you make sure you've got
the right amount of UPS to

00:07:36.290 --> 00:07:39.340
actually sustain a power outage.

00:07:39.340 --> 00:07:43.820
And not only should you have one UPS,
you should have redundant

00:07:43.820 --> 00:07:46.760
UPSs because again,
you never want a single point

00:07:46.760 --> 00:07:47.960
of failure in your system.

00:07:48.070 --> 00:07:52.470
So you should at least have two
UPSs and basically with the fact

00:07:52.470 --> 00:07:57.040
that you've got dual power supplies,
right, on the servers and on the storage

00:07:57.350 --> 00:08:00.590
and the rest of the equipment,
you should make sure that that power

00:08:00.590 --> 00:08:03.080
gets distributed across the UPSs.

00:08:03.120 --> 00:08:07.100
What's also very important is
to make sure you've got the APC,

00:08:07.490 --> 00:08:10.080
you know, SNMP network management card.

00:08:10.130 --> 00:08:13.860
And that card is, you know,
something in the order of $200

00:08:13.920 --> 00:08:17.720
and it just slides right into
the slot in the back of the UPS.

00:08:17.770 --> 00:08:22.750
And that allows you to manage your
UPS and it gives you information such as

00:08:22.840 --> 00:08:27.960
once you have your system up and running,
you can literally trigger a test.

00:08:27.990 --> 00:08:29.540
It'll tell you your uptime.

00:08:29.600 --> 00:08:33.940
So it'll tell you how long your
system can sustain a power failure.

00:08:33.990 --> 00:08:36.410
It'll also run battery
checks every month.

00:08:36.560 --> 00:08:38.020
So you get email notifications.

00:08:38.040 --> 00:08:40.720
Of course, if you set them up,
you get email notifications

00:08:40.720 --> 00:08:43.840
that let you know that,
hey, I've checked the UPS and, you know,

00:08:43.870 --> 00:08:47.480
the internal check has happened
and all your UPSs are good to go.

00:08:47.480 --> 00:08:49.590
So you can just, you know,
understand you're running, you know,

00:08:49.590 --> 00:08:51.480
those are lead batteries.

00:08:51.480 --> 00:08:54.220
And, you know, there is, you know,
those lead batteries will last

00:08:54.220 --> 00:08:55.480
about a year to two years.

00:08:55.480 --> 00:08:58.710
So you also need to refresh and
make sure that your UPSs are not,

00:08:58.840 --> 00:09:01.480
you know,
collecting dust and they haven't

00:09:01.480 --> 00:09:01.480
been touched in five years.

00:09:01.480 --> 00:09:05.410
So if you have a UPS and you've got APC,
make sure that those

00:09:05.410 --> 00:09:07.480
SNMP cards are in the systems.

00:09:07.480 --> 00:09:11.000
And we really recommend not
just a single SNMP card,

00:09:11.010 --> 00:09:13.810
but you need to have
one in each of the UPS,

00:09:13.810 --> 00:09:15.480
you know, devices.

00:09:15.480 --> 00:09:17.240
So very important.

00:09:17.240 --> 00:09:21.240
And then finally,
the software is the Parachute software.

00:09:21.240 --> 00:09:25.110
And that's a free download and that's
something you would load on the XSERVs

00:09:25.110 --> 00:09:29.240
so that when there is a power failure,
you know, when the threshold gets hit,

00:09:29.240 --> 00:09:33.820
it sends -- the UPS sends a
notification to the XSERV and will

00:09:34.270 --> 00:09:38.080
gracefully shut down the XSERVs,
you know, and bring the system down.

00:09:39.150 --> 00:09:41.340
So how does a UPS integration work?

00:09:41.610 --> 00:09:45.340
Well, again, you know,
the XSERVs have dual power supplies,

00:09:45.340 --> 00:09:48.050
so make sure you order your
XSERVs with dual power supplies,

00:09:48.480 --> 00:09:48.690
right?

00:09:49.080 --> 00:09:52.210
The Promise RAID has dual power
supplies and then obviously,

00:09:52.220 --> 00:09:56.780
you know, you get more than one
UPS and you basically just,

00:09:56.960 --> 00:10:00.920
you know,
distribute the load across those UPSs.

00:10:01.160 --> 00:10:04.510
Another thing you want to be
careful of is when you build

00:10:04.620 --> 00:10:08.880
your XSAN and you calculate the
total amount of wattage required,

00:10:08.940 --> 00:10:11.700
right, assume,
if you want to assume that one of

00:10:11.700 --> 00:10:15.160
the UPS could potentially fail,
you need to make sure that

00:10:15.160 --> 00:10:18.120
that single UPS can sustain
the load of the entire system.

00:10:18.410 --> 00:10:21.130
So that's something else
to really look for is,

00:10:21.130 --> 00:10:24.220
you know, when we did a test,
we did a big deployment

00:10:24.220 --> 00:10:27.510
in Asia a few weeks ago,
we actually made sure that the

00:10:27.510 --> 00:10:31.060
entire system was actually,
you know, could work off a single UPS.

00:10:31.060 --> 00:10:33.000
So, you know,
a single set of UPS and batteries

00:10:33.090 --> 00:10:34.600
that are attached to that system.

00:10:34.600 --> 00:10:37.740
So very important to make sure
that all that is in order before

00:10:37.740 --> 00:10:39.660
you put your XSAN in production.

00:10:39.660 --> 00:10:42.250
You know,
you really want to make sure all those

00:10:42.350 --> 00:10:44.690
tests are taken care of ahead of time.

00:10:46.110 --> 00:10:50.230
So the network management card,
when you get that card by default,

00:10:50.230 --> 00:10:52.130
you know,
there's a little receipt that comes

00:10:52.180 --> 00:10:54.040
with it that has the MAC address.

00:10:54.080 --> 00:10:55.700
And that is how you configure that card.

00:10:55.820 --> 00:10:58.080
So you basically connect
a laptop to the card.

00:10:58.110 --> 00:10:59.680
You open up a terminal window.

00:10:59.730 --> 00:11:02.780
You send those commands up there.

00:11:02.800 --> 00:11:04.920
And make sure you,
before you put the card in,

00:11:04.920 --> 00:11:08.720
make sure you actually write
down the MAC address of the card.

00:11:08.780 --> 00:11:12.400
And you basically send the ARP command
and you assign an IP address.

00:11:12.530 --> 00:11:16.460
Once you assign an IP address,
you can then telnet into the card.

00:11:16.500 --> 00:11:18.660
And then you basically
go in and configure,

00:11:18.660 --> 00:11:20.220
you know, the subnet and the router.

00:11:20.280 --> 00:11:23.470
And then you can then open
up a Safari window and

00:11:23.470 --> 00:11:26.060
configure the rest of the UPS,
you know, via Safari.

00:11:26.260 --> 00:11:28.620
So, you know, pretty straightforward.

00:11:30.500 --> 00:11:36.200
Another nice feature to look
into is Apple Remote Desktop is

00:11:36.300 --> 00:11:39.500
a great management tool
that's available from Apple.

00:11:39.750 --> 00:11:43.770
And if your system goes down,
if there is a power failure

00:11:43.770 --> 00:11:48.680
and your SAN goes down,
when the power gets restored,

00:11:48.680 --> 00:11:53.460
all your devices will potentially
all boot up at the same time.

00:11:53.500 --> 00:11:57.420
So your storage boots up,
your fiber switches boot up

00:11:57.420 --> 00:11:59.380
and your servers boot up.

00:11:59.810 --> 00:12:04.500
Well,
it takes time for the storage to come up.

00:12:04.500 --> 00:12:06.500
It takes time for the fiber
channel switch to come up.

00:12:06.500 --> 00:12:10.500
And we all know how fast our servers
and our desktop machines come up.

00:12:10.500 --> 00:12:15.260
They usually come up way quicker than
the storage and the back-end fabric.

00:12:15.500 --> 00:12:19.050
So what you can do is you can
actually put a delay so that

00:12:19.050 --> 00:12:23.500
when the power gets restored,
the Xsers don't boot up right away.

00:12:23.500 --> 00:12:28.480
And it gives time for the server and
the storage to come up ahead of that.

00:12:28.540 --> 00:12:30.500
Okay, so very simple command.

00:12:30.500 --> 00:12:32.490
It's actually built into
Apple Remote Desktop.

00:12:32.640 --> 00:12:35.450
And it's the system setup command.

00:12:37.670 --> 00:12:39.890
And now let's talk a little bit
about shutdown procedures and

00:12:39.900 --> 00:12:41.590
bring up procedures because,
you know,

00:12:41.590 --> 00:12:45.880
that is one thing that is critical
is when you once you've deployed

00:12:45.880 --> 00:12:49.250
the system in your data center,
you might be the Xsan admin, right?

00:12:49.370 --> 00:12:51.340
I mean,
a lot of you guys are Xsan admins,

00:12:51.370 --> 00:12:53.170
but what if you're on vacation, right?

00:12:53.260 --> 00:12:56.700
What if there's someone else in the data
center that's maintaining your system?

00:12:56.730 --> 00:13:01.400
You know, usually when problems happen,
you have to react very quickly.

00:13:01.410 --> 00:13:02.370
You might not be available.

00:13:02.510 --> 00:13:03.980
Someone else might need to do that.

00:13:04.230 --> 00:13:07.980
So having the shutdown and
the bring up procedure,

00:13:07.980 --> 00:13:11.620
you know, clearly illustrated in the
data center by the rack,

00:13:11.620 --> 00:13:16.010
where the Xsan is actually located,
will always be a good thing to have

00:13:16.390 --> 00:13:20.820
so that whoever's in the data center
follows that procedure to a T.

00:13:20.840 --> 00:13:25.430
And obviously the shutdown procedure,
you know, let's assume here, you know,

00:13:25.580 --> 00:13:28.640
a major shutdown, which, you know,
if you can do it,

00:13:28.640 --> 00:13:31.980
you wanna do a graceful shutdown,
which is unmounting the volumes,

00:13:32.010 --> 00:13:34.180
you know,
stopping the volume in the Xsan admin,

00:13:34.180 --> 00:13:39.080
you know, the Xsan clients,
you can shut them down or just unmount

00:13:39.080 --> 00:13:41.580
the volume from the Xsan clients.

00:13:41.620 --> 00:13:44.780
Then you wanna shut down
the secondary MDC first,

00:13:44.990 --> 00:13:46.520
shut down the primary.

00:13:46.540 --> 00:13:49.260
You can obviously, through the UI,
figure out which one is the

00:13:49.260 --> 00:13:51.930
primary and the secondary,
and then shut down, you know,

00:13:51.940 --> 00:13:54.260
any RAID tape devices.

00:13:54.290 --> 00:13:56.780
And then finally,
if you need to shut down your directory,

00:13:56.780 --> 00:13:59.410
your DNS, your DHCP,
you could do that as well.

00:13:59.600 --> 00:14:01.540
Not required, obviously.

00:14:01.580 --> 00:14:04.120
And then shut down the fiber
channel and the ethernet.

00:14:04.170 --> 00:14:06.390
So that's kind of a, you know,
quick synopsis of how

00:14:06.390 --> 00:14:08.000
to shut down the system.

00:14:08.040 --> 00:14:10.420
Now the startup is
pretty much the reverse,

00:14:10.450 --> 00:14:12.730
where you first bring up the
fiber channel and the ethernet,

00:14:12.740 --> 00:14:14.200
make sure those come up, right?

00:14:14.200 --> 00:14:16.880
Those usually take about a minute
to minute and a half to boot up.

00:14:16.890 --> 00:14:20.240
Then you bring up your directory,
your DNS, your DHCP,

00:14:20.250 --> 00:14:24.440
and then you bring up your storage,
and then your primary MDC, right?

00:14:24.560 --> 00:14:26.260
Your secondary MDC.

00:14:26.280 --> 00:14:29.300
And then finally,
any reshare type file server

00:14:29.300 --> 00:14:31.020
that might be resharing the SAN.

00:14:31.070 --> 00:14:36.510
And then you start the SAN and you
mount the Xsan on your clients.

00:14:38.810 --> 00:14:41.080
So what I want to do now
is bring up Jason back for

00:14:41.120 --> 00:14:42.940
directory integration and ACLs.

00:14:42.960 --> 00:14:43.410
Jason?

00:14:43.460 --> 00:14:46.370
Great, thanks JD.

00:14:47.100 --> 00:15:40.900
[Transcript missing]

00:15:42.570 --> 00:15:46.640
So once you have your
centralized group management,

00:15:46.640 --> 00:15:50.200
you can manage your access controls
directly from Xsan Admin as well.

00:15:50.200 --> 00:15:53.960
This is something that you no
longer have to use server admin for,

00:15:53.960 --> 00:15:55.010
workroom manager for.

00:15:55.170 --> 00:15:57.000
You can do it all right from Xsan Admin.

00:15:57.000 --> 00:16:02.040
Now, for those of you who have previously
been using workarounds such as,

00:16:02.040 --> 00:16:04.530
you know, UMASK and whatnot to
enable collaboration,

00:16:04.530 --> 00:16:05.800
you don't have to do that anymore.

00:16:05.800 --> 00:16:07.430
Access controls are the way to do that.

00:16:08.160 --> 00:16:10.230
If you have Xsan Admin
manage your users and groups,

00:16:10.230 --> 00:16:11.960
by default,
we create a workgroup at the top

00:16:11.960 --> 00:16:14.640
level that allows you to sort
of collaborate out of the box.

00:16:14.640 --> 00:16:19.520
But you can actually have much
finer control using this interface.

00:16:21.570 --> 00:16:24.640
So, I'm gonna now hand it back to JD,
and he's going to talk more

00:16:24.640 --> 00:16:26.500
about configuring Xsan clients.

00:16:26.500 --> 00:16:31.440
Thank you.

00:16:34.600 --> 00:16:37.940
So let's talk quickly about
configuring your Xsan 2 clients.

00:16:37.980 --> 00:16:39.180
You know, it's pretty straightforward.

00:16:39.180 --> 00:16:42.920
The cool thing about Xsan 2 is you don't
even actually have to reboot the clients.

00:16:43.000 --> 00:16:47.280
You just install the software and
there is no need to actually reboot.

00:16:47.280 --> 00:16:50.540
But some of the things that
we like doing is quite often,

00:16:50.540 --> 00:16:52.860
you know,
you're dealing with end users who,

00:16:52.860 --> 00:16:55.980
and if you wanna start doing some
troubleshooting as the IT admin,

00:16:55.980 --> 00:16:59.240
you know,
you wanna make sure that the NICs,

00:16:59.250 --> 00:17:02.040
that the network Ethernet
ports are usually,

00:17:02.040 --> 00:17:04.490
you know,
renamed from Ethernet 2 and Ethernet 1,

00:17:04.570 --> 00:17:06.740
which doesn't make a lot
of sense to end users,

00:17:06.780 --> 00:17:10.270
to something that's more meaningful,
like metadata LAN, you know,

00:17:10.420 --> 00:17:12.200
2 and public LAN 1, right?

00:17:12.200 --> 00:17:13.940
And that would be
Ethernet 1 and Ethernet 2,

00:17:13.980 --> 00:17:16.760
which allows you to quickly
troubleshoot and figure out if some,

00:17:16.760 --> 00:17:19.920
by some reason or another,
someone reversed the ports, right?

00:17:19.920 --> 00:17:22.010
And flipped around the metadata
LAN with the public LAN.

00:17:22.090 --> 00:17:26.740
So some things that are very simple,
but that are gonna help you as IT admins,

00:17:26.760 --> 00:17:30.990
you know, troubleshoot an Xsan, you know,
an Xsan client very quickly instead

00:17:30.990 --> 00:17:32.840
of like uninstalling and reinstalling.

00:17:33.970 --> 00:17:36.360
And, you know,
those again are very easy commands to

00:17:36.420 --> 00:17:38.520
send out with Apple Remote Desktop.

00:17:38.520 --> 00:17:40.640
And that's,
those are the commands that are up there.

00:17:40.650 --> 00:17:42.280
And you can actually do that dynamically.

00:17:42.280 --> 00:17:44.360
You can literally have
the network panel up,

00:17:44.430 --> 00:17:47.240
send those commands and it
just refreshes in Leopard.

00:17:47.240 --> 00:17:50.240
And you can see the renaming
just happen on the fly.

00:17:50.340 --> 00:17:52.480
So it's actually pretty
neat and easy to do.

00:17:52.620 --> 00:17:55.390
And again, you can do that on all the
machines at the same time

00:17:55.390 --> 00:17:57.440
through Apple Remote Desktop.

00:17:58.400 --> 00:18:00.960
So let's talk a little bit about
networking and best practices

00:18:00.960 --> 00:18:03.680
around network configurations.

00:18:03.720 --> 00:18:07.030
You know, the first thing that we always
cover and that's always really

00:18:07.030 --> 00:18:11.080
important is no matter what
deployment you do with OS X Server,

00:18:11.110 --> 00:18:13.880
you have to have proper DNS working,
right?

00:18:13.880 --> 00:18:16.980
And that is essential with Xsan as well.

00:18:17.030 --> 00:18:18.720
And that hasn't changed, okay?

00:18:18.800 --> 00:18:21.580
So make sure that you always
set up your DNS properly.

00:18:21.650 --> 00:18:26.300
And our recommendation is not just
to set up DNS on the public LAN,

00:18:26.340 --> 00:18:29.340
but also have DNS working on
the metadata side as well.

00:18:29.390 --> 00:18:32.600
And make sure you've got
DNS entries for all of your clients

00:18:32.600 --> 00:18:34.480
as well as all your servers,
right?

00:18:34.480 --> 00:18:36.480
That's just really important.

00:18:36.510 --> 00:18:41.980
And if you're in a bigger deployment
and you've got an IT group,

00:18:41.980 --> 00:18:45.330
make sure that you work with
them to get the right amount of

00:18:45.340 --> 00:18:47.350
IP addresses for the servers.

00:18:47.360 --> 00:18:50.600
You know, remember now we've got
lights out management,

00:18:50.630 --> 00:18:54.260
so make sure you get an IP address for
the lights out management on the servers.

00:18:54.290 --> 00:18:59.140
And then the promise storage requires
three IP addresses per E plus J unit.

00:18:59.280 --> 00:19:01.840
So make sure you've got,
for each of the main controllers,

00:19:01.840 --> 00:19:05.020
you need three IP addresses,
two per controller and

00:19:05.060 --> 00:19:07.090
one for the virtual IP.

00:19:07.200 --> 00:19:08.660
So DNS is always important.

00:19:08.660 --> 00:19:11.470
If you see any type of sluggishness,
it's probably your DNS.

00:19:11.620 --> 00:19:16.540
So that's usually the main issue that
we see with a big Xsan deployment.

00:19:16.610 --> 00:19:21.340
So pretty straightforward and the
new user interface in Leopard is

00:19:21.380 --> 00:19:23.710
actually really easy to configure.

00:19:23.820 --> 00:19:25.960
So if you need any tips
on troubleshooting,

00:19:25.960 --> 00:19:27.800
I think most of you know how to do that.

00:19:27.860 --> 00:19:32.130
But you can use dig, hostname, nslookup.

00:19:32.570 --> 00:19:35.940
You can also use the change IP,
check hostname command.

00:19:35.940 --> 00:19:37.400
That's a server only command.

00:19:37.460 --> 00:19:38.990
But again,
it's great if you have a bunch of

00:19:39.160 --> 00:19:43.430
servers that are metadata doing ingest,
you can just simply through

00:19:43.430 --> 00:19:45.470
Apple Remote Desktop,
send that command out and make sure that

00:19:45.480 --> 00:19:47.950
all the servers are configured properly.

00:19:49.660 --> 00:19:55.780
One thing I wanted to make clear,
DHCP is not an option with Xsan clients.

00:19:56.060 --> 00:19:58.670
Okay,
so you should not be using DHCP or you

00:19:58.670 --> 00:20:02.220
could potentially do DHCP with static IP.

00:20:02.280 --> 00:20:04.980
Okay, so that's fine, but no DHCP.

00:20:04.980 --> 00:20:09.460
And then make sure if you've
got spanning tree enabled,

00:20:09.510 --> 00:20:12.320
you're in a Cisco environment,
if you've got spanning tree enabled,

00:20:12.380 --> 00:20:14.120
you should enable for port fast.

00:20:14.170 --> 00:20:17.200
But again,
that's typical for most IT shops.

00:20:17.220 --> 00:20:19.960
But again, just wanted to make
sure that was covered.

00:20:21.540 --> 00:20:24.460
So now let's talk about
building maximum performance

00:20:24.580 --> 00:20:26.630
and redundancy out of your Xsan.

00:20:26.640 --> 00:20:30.370
Right, it's all about redundancy.

00:20:30.480 --> 00:20:32.640
Well, the first thing I wanna
talk to you about is,

00:20:32.730 --> 00:20:36.840
before we talk about really redundancy,
is making sure that not only

00:20:36.840 --> 00:20:41.050
you've got good UPS and good power,
but that whoever you're gonna pick

00:20:41.170 --> 00:20:47.260
to actually deploy the fiber between
your data center and your machines,

00:20:47.360 --> 00:20:49.460
that that is done properly.

00:20:49.600 --> 00:20:52.460
And we've seen so many situations where,
you know,

00:20:52.560 --> 00:20:56.200
the customer tries to do it themselves,
they don't know how to handle, you know,

00:20:56.740 --> 00:21:00.080
fiber, or they'll pick, you know,
a contractor that might not

00:21:00.080 --> 00:21:01.640
be certified to actually,
you know,

00:21:01.640 --> 00:21:04.480
terminate and set up your fiber properly.

00:21:04.600 --> 00:21:09.370
So it is really important to make sure
that the fiber is done the right way and

00:21:09.370 --> 00:21:15.050
that you pick someone who's certified and
who will give you a DB output reading of,

00:21:15.210 --> 00:21:17.130
you know,
each strand of fiber that's being

00:21:17.130 --> 00:21:21.470
pulled and make sure that the
fiber has been terminated properly,

00:21:21.730 --> 00:21:21.910
okay?

00:21:22.140 --> 00:21:26.060
Another thing to talk
about and mention is,

00:21:26.130 --> 00:21:28.390
some corporations,
you might have their data center

00:21:28.770 --> 00:21:33.660
on one floor and your edit
machines might be on another floor.

00:21:33.730 --> 00:21:37.040
And that means that there's
some longer distances to cover.

00:21:37.040 --> 00:21:42.440
And what you can do in that situation is
you could possibly have the fiber switch,

00:21:42.440 --> 00:21:46.640
the fabric managing your backend
server architecture and the data center

00:21:47.060 --> 00:21:50.100
and have a second fabric that is,
the one that where all your

00:21:50.100 --> 00:21:51.580
clients are connecting to.

00:21:51.620 --> 00:21:54.630
And then you can interconnect
those two fabrics using some,

00:21:54.630 --> 00:21:57.980
you know, higher speed, you know, GBIX.

00:21:58.020 --> 00:22:00.910
And you've got some long distance
GBIX that are up there and they're

00:22:00.910 --> 00:22:03.180
actually available on the Apple store.

00:22:03.330 --> 00:22:07.650
So again, you know, make sure that if you
are going long distances,

00:22:07.650 --> 00:22:10.960
you know, you wanna, you know,
the typical standard is 50 micron.

00:22:11.000 --> 00:22:13.780
There's some 62 and a
half micron out there.

00:22:13.790 --> 00:22:18.440
And if that's what you have in the walls,
you wanna make sure that the patch cable,

00:22:18.500 --> 00:22:21.760
the patch cables that are gonna go
between the wall and the machine or

00:22:21.760 --> 00:22:26.140
between the data center patch cable
and the server are 62 micron as well.

00:22:26.240 --> 00:22:28.520
It can be 50,
but our recommendation again,

00:22:28.520 --> 00:22:31.920
is to make sure that the patch
cables match whatever you

00:22:31.920 --> 00:22:33.480
have running in your building.

00:22:36.010 --> 00:22:42.540
So again, the beauty with Xsan 2,
Leopard and the Promise Storage is

00:22:42.540 --> 00:22:46.450
you can truly build a
completely redundant system.

00:22:46.560 --> 00:22:49.670
So we've got active-active
controllers now on the storage.

00:22:50.020 --> 00:22:54.480
You've got the multi-pathing,
which works just

00:22:54.740 --> 00:22:56.680
amazingly well in Leopard.

00:22:56.800 --> 00:23:00.660
You've got dual power
supplies on the servers.

00:23:00.680 --> 00:23:04.380
And so it makes it really easy
for you to build a fully meshed

00:23:04.380 --> 00:23:07.020
architecture with your fabric.

00:23:07.340 --> 00:23:12.000
And so again,
our recommendation is if you buy Xsan

00:23:12.000 --> 00:23:15.790
and you're looking for high availability,
that you build it just this way.

00:23:16.050 --> 00:23:21.040
Dual metadata controllers,
you get two fiber channel switches,

00:23:21.040 --> 00:23:21.040
right?

00:23:21.060 --> 00:23:23.640
And again,
you just calculate the total amount

00:23:23.640 --> 00:23:27.040
of ports you need and make sure
that you balance that across the

00:23:27.040 --> 00:23:31.120
two fiber channel switches and then
the amount of storage that you need.

00:23:31.170 --> 00:23:33.020
So pretty straightforward.

00:23:33.030 --> 00:23:36.950
But again, here, what I could do in this
scenario is I could literally,

00:23:36.960 --> 00:23:40.020
and I've done it before,
for the customers who've seen the demo,

00:23:40.020 --> 00:23:42.950
you can literally just pull the
power on the fiber channel switch

00:23:43.370 --> 00:23:46.660
and the system will just behave
and work exactly the same way.

00:23:46.660 --> 00:23:52.170
There's no drop whatsoever by pulling one
of the power switches out of the fabric.

00:23:52.390 --> 00:23:53.570
The Xsan just keeps on working.

00:23:53.760 --> 00:23:56.140
You might lose some throughput
because you're not taking advantage

00:23:56.140 --> 00:23:58.730
of the multi-pathing anymore,
but the system will just

00:23:58.730 --> 00:24:01.010
stay up and keep working.

00:24:03.410 --> 00:24:05.800
So let's talk quickly about Multisan.

00:24:05.840 --> 00:24:10.430
And Multisan,
the beauty about Multisan is it really

00:24:10.430 --> 00:24:13.680
is a per volume controller provisioning.

00:24:13.780 --> 00:24:18.680
So that allows you to
assign a set of Xsers,

00:24:18.780 --> 00:24:23.570
metadata servers to manage
a specific set of volumes.

00:24:23.770 --> 00:24:29.120
So pretty straightforward and we'll
show you just a quick diagram so

00:24:29.120 --> 00:24:33.460
you can understand in what situation
you might wanna use Multisan.

00:24:33.550 --> 00:24:37.100
So the first thing is,
let's assume you've got a set of editors

00:24:37.100 --> 00:24:40.800
and you've got a production volume
and those editors are editing all

00:24:40.800 --> 00:24:46.500
day long on the production volume and
you've got 20 plus editors on there.

00:24:46.550 --> 00:24:52.170
Well, you can basically have a set of
metadata servers managing that volume,

00:24:52.170 --> 00:24:52.860
right?

00:24:52.900 --> 00:24:54.770
With spotlight turn on
and all the indexing and

00:24:54.770 --> 00:24:56.700
everything going on properly.

00:24:56.750 --> 00:24:59.920
And then let's assume that some of that
content then is now going to Xsan 2.

00:24:59.950 --> 00:25:02.580
So you can actually get a set
of metadata servers that are

00:25:02.580 --> 00:25:04.040
actually playing out to air.

00:25:04.040 --> 00:25:10.240
And you wanna make sure that if your
editors are really banging on the Xsan,

00:25:10.240 --> 00:25:11.070
right?

00:25:11.080 --> 00:25:13.130
And there's obviously,
there's always gonna be throughput

00:25:13.130 --> 00:25:16.060
limitations of the Xsan depending
on how many editors you have.

00:25:16.190 --> 00:25:19.300
You don't wanna get any drop
frame happening when you're

00:25:19.300 --> 00:25:20.640
actually playing out to air.

00:25:20.640 --> 00:25:22.300
That would not be a good thing.

00:25:22.300 --> 00:25:24.220
So what you do is you
basically segregate,

00:25:24.230 --> 00:25:29.540
you move that data very easily from the
production volume to the play out volume.

00:25:29.680 --> 00:25:32.110
And then you can just
sort of isolate the two,

00:25:32.160 --> 00:25:36.150
you know, controllers managing
that play out volume.

00:25:36.160 --> 00:25:40.040
And that way you've kind of
isolated the two volumes.

00:25:40.040 --> 00:25:42.160
And if there is, you know,
for some reason or another,

00:25:42.230 --> 00:25:46.420
some issue on the production volume,
your play out volume will stay, you know,

00:25:46.430 --> 00:25:49.480
up and everything is just
gonna keep on chumming along.

00:25:49.620 --> 00:25:53.370
So make sure you do that
again for high availability.

00:25:53.440 --> 00:25:55.100
And if you're in, you know,
some critical situations

00:25:57.210 --> 00:26:03.560
Another tip is, you know, domain,
you know, lock the domain ID.

00:26:03.660 --> 00:26:07.060
So if you look at the
screenshot on the up there,

00:26:07.150 --> 00:26:11.300
there's a feature here where
you've got the domain ID lock.

00:26:11.300 --> 00:26:15.360
And you can see that by default,
that domain ID lock is set to disable.

00:26:15.360 --> 00:26:19.460
Now, this is critical because now
we're talking about redundancy,

00:26:19.460 --> 00:26:20.100
right?

00:26:20.100 --> 00:26:23.870
So most of you will basically
get two Fiber Channel switches,

00:26:23.870 --> 00:26:25.810
right, for multi-pathing.

00:26:25.840 --> 00:26:28.680
And what happens is when
you power those switches,

00:26:28.680 --> 00:26:32.490
they have that domain ID lock, you know,
lock set to disable and they

00:26:32.490 --> 00:26:34.340
all have the same domain ID.

00:26:34.340 --> 00:26:36.860
So for those of you who
remember the old SCSI days,

00:26:36.860 --> 00:26:39.730
right, you went,
you had the little wheel on the back and

00:26:39.810 --> 00:26:42.480
you'd set the number from zero to seven,
right?

00:26:42.480 --> 00:26:45.100
Well, this is about the same thing.

00:26:45.180 --> 00:26:47.410
You have to go in,
you edit the properties of

00:26:47.410 --> 00:26:50.940
your QLogic switch and you
lock the domain ID to its own,

00:26:51.040 --> 00:26:52.820
you know, unique number.

00:26:52.820 --> 00:26:56.880
And what happens is if there is a
power failure and your system all

00:26:56.950 --> 00:27:00.080
comes back up at the same time,
there's not gonna be any

00:27:00.080 --> 00:27:02.860
domain ID conflict with
your Fiber Channel switches.

00:27:02.890 --> 00:27:05.740
So simply go in, you know,
change the domain ID and lock it to a

00:27:05.810 --> 00:27:08.290
specific number and you'll be all set.

00:27:08.300 --> 00:27:12.860
As far as how to configure
the clients and the storage,

00:27:14.000 --> 00:27:18.120
well, usually what you do, is, you know,
the port type,

00:27:18.290 --> 00:27:23.590
the port state and the speed stays,
you know, to online and auto detect.

00:27:23.740 --> 00:27:28.650
Port type can stay at a GL and then
the IO stream guard usually is set to

00:27:28.650 --> 00:27:31.480
enable and device scan set to disable.

00:27:31.620 --> 00:27:35.220
On the storage,
you actually disable the IO stream guard.

00:27:35.220 --> 00:27:38.420
So that's really the
most critical point here.

00:27:38.540 --> 00:27:40.490
For any type of storage
or tape libraries,

00:27:40.620 --> 00:27:44.810
you wanna disable the IO stream
guard on the target devices.

00:27:44.820 --> 00:27:46.080
Thank you.

00:27:48.890 --> 00:27:53.550
So now let's talk a little bit about
best Xsan volume configurations.

00:27:53.670 --> 00:27:56.480
How many people were in
the session last year?

00:27:56.560 --> 00:27:59.340
Okay, so you saw the amount
of time we talked about,

00:27:59.450 --> 00:28:02.900
kind of like, you know,
best configurations and how to set up,

00:28:03.040 --> 00:28:06.160
you know, per storage pools,
four LUNs per storage pool.

00:28:06.160 --> 00:28:11.370
We spent a lot of time talking about
best practices around Xsan 1.4.

00:28:11.510 --> 00:28:15.150
Well, the good news is the engineering
team has been really hard at work

00:28:15.270 --> 00:28:20.870
to make things much simpler for,
you know, you folks, for the admins,

00:28:21.280 --> 00:28:21.350
right?

00:28:21.620 --> 00:28:25.930
And so now you've got those
presets where you can on the fly,

00:28:25.930 --> 00:28:29.500
when you launch the Xsan 2 admin,
you can actually pick, you know,

00:28:29.580 --> 00:28:31.860
the best optimization,
the best volume configs

00:28:31.860 --> 00:28:33.060
for the work you wanna do.

00:28:33.190 --> 00:28:36.940
So for those of you who were in the
iCal Server session prior to this one,

00:28:37.000 --> 00:28:39.340
you can go in and pick
Calendar Server Cluster,

00:28:39.340 --> 00:28:43.510
and that'll optimize, you know,
the block size and the stripe breadth and

00:28:43.510 --> 00:28:47.010
everything you need to actually deploy,
you know, an iCal Server.

00:28:47.170 --> 00:28:50.840
If you wanna go uncompressed HD,
you can just basically

00:28:50.940 --> 00:28:51.840
pick the pull down.

00:28:52.100 --> 00:28:55.680
So the point of it is you really
wanna pick one of those settings,

00:28:55.690 --> 00:28:56.260
right?

00:28:56.310 --> 00:28:59.060
Because that's where the magic happens.

00:28:59.100 --> 00:29:01.550
And the magic is you've
got all your data LUNs,

00:29:01.610 --> 00:29:05.200
you're gonna take all your LUNs,
drag them onto the volume,

00:29:05.240 --> 00:29:09.600
and it will automagically
basically assign,

00:29:09.600 --> 00:29:12.980
you know, the right amount of LUNs per
storage pool and do it all for you.

00:29:13.010 --> 00:29:16.040
And that also applies to
when you expand your volume,

00:29:16.060 --> 00:29:16.970
you know, down the road.

00:29:17.240 --> 00:29:21.220
So it's very neat and
much easier than it was,

00:29:21.220 --> 00:29:23.920
you know, in the 1.4 days.

00:29:26.650 --> 00:29:30.500
So we talked last year about
the fact that you wanna do,

00:29:30.530 --> 00:29:32.980
you know, for video,
you wanna do four LUNs per storage pool.

00:29:33.050 --> 00:29:35.940
Well, again, that's the standard now.

00:29:35.970 --> 00:29:38.260
And so it just automatically
does it for you.

00:29:38.420 --> 00:29:41.180
So the assistant does the work for you.

00:29:41.210 --> 00:29:45.530
You still wanna combine the, you know,
all your LUNs that build a storage

00:29:45.690 --> 00:29:47.320
pool all have to be of the same size.

00:29:47.450 --> 00:29:51.660
So that is really still
critical for any deployment.

00:29:51.700 --> 00:29:54.780
And your storage pool should still
be in a RAID 1 configuration.

00:29:54.990 --> 00:29:58.580
So there's no changes there,
no RAID 5 or RAID 1E.

00:29:58.610 --> 00:30:00.020
There really is no need for that.

00:30:00.250 --> 00:30:03.780
Just make sure you've got a RAID 1.

00:30:03.840 --> 00:30:07.900
And with the Promise RAID,
what's very neat is you can

00:30:07.980 --> 00:30:12.460
actually have both the metadata and
a data LUN on the same controller,

00:30:12.500 --> 00:30:13.200
right?

00:30:13.280 --> 00:30:18.700
So we've got a lot of scripts that are
available off the Apple support website

00:30:18.810 --> 00:30:23.050
that you can download and apply to the
Promise storage to help you configure

00:30:23.080 --> 00:30:24.900
this and optimize it for your Xsan.

00:30:24.900 --> 00:30:26.130
And for Xsan usage.

00:30:26.260 --> 00:30:28.000
So take advantage of those scripts.

00:30:28.000 --> 00:30:33.730
And as well on the metadata side,
you know, as people grow and not just,

00:30:33.730 --> 00:30:37.900
you know, for video, but start using Xsan
for file serving and,

00:30:37.940 --> 00:30:42.860
you know, directories or iCal, you know,
you might have millions

00:30:43.000 --> 00:30:45.430
of files on your SAN.

00:30:45.790 --> 00:30:49.460
And so make sure that you
understand that your metadata LUN,

00:30:49.460 --> 00:30:50.220
right?

00:30:50.230 --> 00:30:53.950
It's gonna use about 10 gigabytes
of space for about 10 million files.

00:30:54.070 --> 00:30:55.840
So if you're gonna be in a
situation where you're gonna be

00:30:55.840 --> 00:30:58.590
dealing with a lot of small files,
you wanna make sure you

00:30:58.680 --> 00:30:59.480
take that into account.

00:30:59.480 --> 00:31:03.220
But it's actually quite straightforward
in Xsan 2 to grow that metadata

00:31:03.220 --> 00:31:06.020
LUN as well and to just expand it.

00:31:07.750 --> 00:31:10.340
So again, data-lun best practices.

00:31:10.340 --> 00:31:12.660
You can see here,
we've just picked by default,

00:31:12.790 --> 00:31:16.080
we went in and picked the HD option.

00:31:16.160 --> 00:31:20.120
So you can see that the block
allocation is set to 16K.

00:31:20.120 --> 00:31:22.720
You should never go beyond 16K.

00:31:22.800 --> 00:31:27.450
Okay, there is no reason for you to
ever go beyond 16K block size.

00:31:27.570 --> 00:31:30.190
There was some documentation
at some point that might've

00:31:30.200 --> 00:31:31.890
said something different.

00:31:32.080 --> 00:31:37.660
16K is the block size that is optimal
for any type of uncompressed video.

00:31:37.760 --> 00:31:39.820
So just stick with that.

00:31:39.840 --> 00:31:43.000
Round robin is the allocation strategy.

00:31:43.030 --> 00:31:46.690
And then as Jason discussed earlier,
you should really use ACLs now.

00:31:46.810 --> 00:31:51.970
I mean, those are solid and work very
well with 10.5 and Final Cut.

00:31:55.450 --> 00:31:59.070
So let me turn it back over to Jason and
to talk to you about about affinities.

00:31:59.970 --> 00:32:01.470
Jason.

00:32:04.660 --> 00:32:06.840
Okay, affinities.

00:32:06.910 --> 00:32:14.580
Affinities are a way for you to
steer data to specific set of storage

00:32:14.650 --> 00:32:16.750
based on a policy that you define.

00:32:16.750 --> 00:32:22.050
You configure these using
the file management pane.

00:32:22.580 --> 00:32:26.430
You actually assign them to folders
in the file management pane.

00:32:26.430 --> 00:32:29.880
And the affinities are actually set up
and defined when you create the volume.

00:32:30.620 --> 00:32:36.300
If you noticed in JD's earlier slide
in the volume creation assistant,

00:32:36.450 --> 00:32:39.560
when you are dragging
LUNs into the volume,

00:32:39.560 --> 00:32:42.880
you're actually dragging those
to what we call an affinity tag.

00:32:42.880 --> 00:32:45.970
And one affinity tag in Xsan
2 can actually be associated

00:32:45.970 --> 00:32:47.730
with multiple storage pools.

00:32:47.740 --> 00:32:48.940
That's different from Xsan 1.

00:32:48.940 --> 00:32:53.710
And that's what allows us to be able to
split your storage into multiple storage

00:32:53.710 --> 00:32:56.100
pools sort of underneath the hood.

00:32:58.050 --> 00:33:02.400
So one critical tip,
and this is a question I field a lot,

00:33:02.400 --> 00:33:06.360
when you are moving a file from
one folder to another and those

00:33:06.360 --> 00:33:10.150
folders have different affinities
but that they're in the same volume,

00:33:10.150 --> 00:33:12.880
you have to understand that
when you do that in the finder,

00:33:12.880 --> 00:33:15.480
it does not actually copy the file.

00:33:15.560 --> 00:33:16.720
It renames the file.

00:33:16.720 --> 00:33:18.920
It gives it just a different path.

00:33:18.920 --> 00:33:22.920
And the reason that's important
is because a file inherits

00:33:22.920 --> 00:33:26.850
its affinity from its parent
folder when the file is created.

00:33:26.850 --> 00:33:29.880
When you're renaming a file,
you're not creating a file.

00:33:29.880 --> 00:33:33.570
So if you actually want to assign that
file to the new affinity and get it

00:33:33.570 --> 00:33:36.820
actually migrated to the other storage,
make sure you hold on the option

00:33:36.820 --> 00:33:38.440
key when you drag it in the finder.

00:33:38.440 --> 00:33:40.620
That tells finder to copy the file.

00:33:40.620 --> 00:33:45.380
When it copies the file, it, you know,
creates a new file, moves the data there,

00:33:45.380 --> 00:33:47.340
it gets steered to the
appropriate storage,

00:33:47.550 --> 00:33:50.580
and then once that's done,
you can then delete the file from

00:33:50.710 --> 00:33:53.820
the old folder just by dragging it in
the trash and emptying the trash can.

00:33:53.820 --> 00:33:55.560
There's actually a KBase article on that.

00:33:55.570 --> 00:33:57.930
See the slide for more info.

00:33:58.380 --> 00:34:00.150
So that's all I have on affinities.

00:34:00.260 --> 00:34:02.460
JD is now gonna talk
about backing up Xsan.

00:34:02.480 --> 00:34:05.400
- Thanks, Jason.

00:34:06.170 --> 00:34:07.800
So backup is critical, right?

00:34:07.950 --> 00:34:09.140
We all know this.

00:34:09.190 --> 00:34:12.690
How many people actually
backup their Xsan today?

00:34:13.260 --> 00:34:14.940
Wow, that's pretty amazing.

00:34:14.940 --> 00:34:18.340
So we went from pretty much everyone
raising their hand in this room

00:34:18.550 --> 00:34:22.200
that are having Xsan deployed to
probably about 10% of the people

00:34:22.200 --> 00:34:23.620
in this room actually backing up.

00:34:23.660 --> 00:34:27.290
Well, you know, let's talk about this.

00:34:27.540 --> 00:34:31.100
And, you know,
some of you might not have the, you know,

00:34:31.300 --> 00:34:34.670
the money to deploy or your
Xsan is so big that you just

00:34:34.670 --> 00:34:36.020
don't know what to do with it.

00:34:36.170 --> 00:34:39.360
But the first thing you should do is
at least backup your config files,

00:34:39.680 --> 00:34:39.890
right?

00:34:39.960 --> 00:34:42.090
So anytime you make a
change to your Xsan,

00:34:42.090 --> 00:34:44.100
it is critical that you actually,
you know,

00:34:44.100 --> 00:34:46.970
backup those configuration files.

00:34:47.100 --> 00:34:51.040
So if you're not backing up your
data and you feel like you can

00:34:51.310 --> 00:34:55.100
restore it within 10 minutes,
you're really good.

00:34:55.100 --> 00:34:58.100
But at least just
backup the config files.

00:34:58.100 --> 00:34:59.560
And that's really simple.

00:34:59.560 --> 00:35:03.100
You can just do, you know, CV gather,
which is one way of doing it,

00:35:03.100 --> 00:35:06.100
but that doesn't give you, you know,
a way to restore it very quickly.

00:35:06.100 --> 00:35:09.340
So our recommendation is to use
a tar command to actually just

00:35:09.360 --> 00:35:11.080
tar up the config directory.

00:35:11.110 --> 00:35:14.400
And you should do that both
on the metadata master as

00:35:14.400 --> 00:35:15.960
well as on the replica.

00:35:16.100 --> 00:35:19.890
And then obviously you take that email,
you take that configuration file,

00:35:19.960 --> 00:35:23.420
you email it to your mom,
to your parents, to your, you know,

00:35:23.420 --> 00:35:25.100
on a DVD, to your best friends.

00:35:25.100 --> 00:35:28.880
Because you want to make sure you've
got multiple copies of that and

00:35:28.880 --> 00:35:30.980
those are accessible at any time.

00:35:31.100 --> 00:35:33.100
So make sure you do that.

00:35:33.100 --> 00:35:36.100
Another nice tidbit is the log files,
right?

00:35:36.100 --> 00:35:38.310
So if you have a lot of
logs that get generated,

00:35:38.310 --> 00:35:40.720
make sure you actually, you know,
script that and maybe in a

00:35:40.780 --> 00:35:44.100
launch D job and have those logs
backed up on a regular basis.

00:35:44.110 --> 00:35:47.640
Because if you ever run into a problem,
you want to go back, you know,

00:35:47.640 --> 00:35:50.100
and figure out what the,
where it happened.

00:35:50.100 --> 00:35:53.290
And possibly if there is an issue,
the log is going to get filled with

00:35:53.290 --> 00:35:55.100
the same issue over and over again.

00:35:55.100 --> 00:35:59.750
So you want to go back and
figure out exactly what happened

00:35:59.750 --> 00:36:02.100
when the problem went on.

00:36:02.100 --> 00:36:04.100
That's on the metadata controller,
correct.

00:36:04.140 --> 00:36:05.730
Yes.

00:36:07.030 --> 00:36:09.880
So, you've backed up your config file.

00:36:10.270 --> 00:36:14.240
You now have money for those of you who
didn't raise their hand in the room.

00:36:14.290 --> 00:36:17.240
And you're ready to either
implement disk to disk,

00:36:17.240 --> 00:36:17.240
right?

00:36:17.240 --> 00:36:19.540
You're buying more storage and
you're backing up your data,

00:36:19.610 --> 00:36:21.260
or at least your project files, right?

00:36:21.310 --> 00:36:22.940
That would be a good first step.

00:36:22.980 --> 00:36:25.880
And, or you've got a tape device.

00:36:26.030 --> 00:36:27.720
You've got money to now
purchase a tape device.

00:36:27.750 --> 00:36:29.760
So what software do you use?

00:36:29.810 --> 00:36:33.370
Well, you know,
there's three major software vendors

00:36:33.600 --> 00:36:38.040
that actually offer both server
and client solutions on the Mac.

00:36:38.060 --> 00:36:40.300
And those are vendors
that are enterprise level,

00:36:40.330 --> 00:36:41.310
you know, backup solutions.

00:36:41.410 --> 00:36:44.840
So they can back up, you know,
20 terabytes, 30 terabytes,

00:36:44.860 --> 00:36:46.210
50 terabytes of data.

00:36:46.440 --> 00:36:48.680
You know,
they're definitely enterprise level,

00:36:48.750 --> 00:36:50.140
you know, backup solutions.

00:36:50.150 --> 00:36:54.940
So you've got ATempo, Archiware,
German company,

00:36:55.040 --> 00:36:57.810
PressStore is the product,
and you've got Backbone, NetVault.

00:36:58.060 --> 00:37:02.360
So those are kind of the top three
backup vendors that our customers use,

00:37:02.520 --> 00:37:03.560
you know, around the world.

00:37:03.560 --> 00:37:07.240
And then you,
if you're in a larger IT infrastructure

00:37:07.240 --> 00:37:13.090
and you already have Tivoli or Veritas,
those vendors don't

00:37:13.090 --> 00:37:15.790
have a server product,
but they do have a

00:37:15.790 --> 00:37:17.240
client agent on the Mac.

00:37:17.250 --> 00:37:20.550
So you could possibly load that
client agent on your SAN and

00:37:20.550 --> 00:37:22.340
backup your SAN that way.

00:37:22.340 --> 00:37:25.380
Make sure that client agent
actually works over a fiber channel,

00:37:25.410 --> 00:37:27.860
because if you do backup
your SAN over a gig E,

00:37:27.860 --> 00:37:32.400
the restore time might
be just a little slow.

00:37:33.440 --> 00:37:34.860
- Like in a matter of weeks.

00:37:34.860 --> 00:37:40.100
So again, you always, and again,
once you back it up,

00:37:40.100 --> 00:37:42.640
make sure you test or restore, right?

00:37:42.670 --> 00:37:44.280
And that you can actually
restore your data.

00:37:44.280 --> 00:37:47.870
I mean, that's also really important
before you go into production.

00:37:47.880 --> 00:37:52.210
So we just,
we see a lot of fun things out there.

00:37:52.820 --> 00:37:55.120
So Xsan support,
all of those products support

00:37:55.190 --> 00:37:56.690
Xsan and obviously Leopard.

00:37:56.820 --> 00:37:58.620
So tape device.

00:37:58.720 --> 00:38:01.190
So there's a lot of
tape devices out there.

00:38:01.220 --> 00:38:05.380
A lot of the vendors work
at the lower SCSI level,

00:38:05.420 --> 00:38:06.250
Fiber Channel level.

00:38:06.370 --> 00:38:11.350
So they pretty much work with all
the vendors that we talked about.

00:38:11.360 --> 00:38:16.460
If you're running kind of
low on Fiber Channel ports,

00:38:16.470 --> 00:38:21.700
a nice way to save money and is to
basically get a second Fiber Channel card

00:38:21.740 --> 00:38:26.000
on that server that is actually gonna
be acting as your tape backup device.

00:38:26.070 --> 00:38:29.440
And we've got some nice four port Fiber
Channel cards now that are available.

00:38:29.540 --> 00:38:33.110
So you should probably get one
of those for that backup server.

00:38:33.190 --> 00:38:37.040
So you've got two ports for multi-pathing
going to your Xsan and you've got

00:38:37.040 --> 00:38:39.620
two ports left for your tape device.

00:38:39.620 --> 00:38:43.420
Assuming it's a small to
medium sized tape device.

00:38:43.440 --> 00:38:46.200
And so you can just connect
it directly to the server.

00:38:46.200 --> 00:38:49.310
You go into system profiler,
you can just make sure that it

00:38:49.310 --> 00:38:53.050
actually sees the tape device and
then you can install the third party

00:38:53.050 --> 00:38:55.840
backup product and configure it.

00:38:55.860 --> 00:39:00.940
If you wanna connect the tape
device to the Fiber Channel switch,

00:39:00.950 --> 00:39:04.320
our recommendation is always
to create a soft zone.

00:39:04.340 --> 00:39:05.920
That's what's best practices.

00:39:05.950 --> 00:39:09.200
And into that soft zone,
you would obviously have the Fiber

00:39:09.200 --> 00:39:13.520
Channel ports of that backup server.

00:39:13.600 --> 00:39:17.240
And you'd have the tape device
that is also a part of that.

00:39:19.940 --> 00:39:22.610
So how to repair your sand volume.

00:39:24.190 --> 00:39:27.440
Well, the first thing I wanted to
mention is when you buy Xsan,

00:39:27.450 --> 00:39:30.740
you get 90 days of
free AppleCare support.

00:39:30.850 --> 00:39:33.390
So make sure you take advantage of that,
right?

00:39:33.510 --> 00:39:35.940
So you should really, you know,
call AppleCare.

00:39:35.940 --> 00:39:40.080
You should make sure you do get Xsan
support when you buy Xsan and make sure

00:39:40.080 --> 00:39:43.810
that the AppleCare person is on the phone
with you if you do run into a situation.

00:39:43.900 --> 00:39:47.090
But if you want to
attempt it by yourself,

00:39:47.120 --> 00:39:48.620
you're more than welcome to.

00:39:48.700 --> 00:39:53.380
And you can go to apple.com/support,
pull up this article 301-911.

00:39:53.480 --> 00:39:57.400
911 is a good last three-digit
number right there.

00:39:57.440 --> 00:40:00.900
And it'll basically run you through,
you know, how to, you know,

00:40:00.900 --> 00:40:04.870
what are some of the things to
run through and the commands

00:40:04.900 --> 00:40:09.510
that are up there like CVFSCK to
check your volume and repair it,

00:40:09.580 --> 00:40:10.570
okay?

00:40:10.680 --> 00:40:12.990
So again,

00:40:13.440 --> 00:40:14.250
Pretty straightforward.

00:40:14.460 --> 00:40:19.220
Now, when you, again, best practices is,
we talked about a lot of things,

00:40:19.280 --> 00:40:20.730
but you know,
you should really make sure that

00:40:20.730 --> 00:40:24.140
you've got the right amount of,
you know, support available.

00:40:24.160 --> 00:40:26.970
Those are available from Apple,
so just look at those.

00:40:27.190 --> 00:40:29.170
You've got Xsan support,
you've got support

00:40:29.170 --> 00:40:33.220
available for your hardware,
and obviously, if you want us to come in

00:40:33.220 --> 00:40:36.780
and help you deploy it,
we're also available.

00:40:38.790 --> 00:40:43.700
So in summary, let's talk about some
high-level best practices.

00:40:43.700 --> 00:40:45.640
We talked about DNS.

00:40:45.650 --> 00:40:47.770
I'm just re-emphasizing that.

00:40:48.170 --> 00:40:50.660
So you will set up DNS.

00:40:50.660 --> 00:40:51.620
Excellent.

00:40:51.650 --> 00:40:54.400
Make sure your date and
time is synchronized.

00:40:54.440 --> 00:40:55.760
We all love single sign-on.

00:40:55.760 --> 00:40:56.980
We all love Kerberos.

00:40:56.980 --> 00:41:00.620
We all love tying to open
directory or active directory.

00:41:00.640 --> 00:41:03.400
That requires that your date and
time be synchronized properly.

00:41:03.470 --> 00:41:07.120
So make sure that you're pointing
to the right NTP server and that

00:41:07.120 --> 00:41:08.810
that's all working properly.

00:41:08.870 --> 00:41:11.660
Make sure you backup your Xsan
config files every time you make a

00:41:11.660 --> 00:41:13.820
change to your Xsan configuration.

00:41:13.860 --> 00:41:20.000
And another fun one is make sure
that your local boot drive is picked,

00:41:20.120 --> 00:41:23.520
is selected on all your clients
as well as all your servers.

00:41:23.600 --> 00:41:26.960
By default, it should be,
but we have seen situations

00:41:26.960 --> 00:41:30.260
where if you do a firmware update
for some reason or another,

00:41:30.300 --> 00:41:34.900
that startup disk,
that local disk will get unselected.

00:41:34.910 --> 00:41:38.860
And if that machine reboots,
we've got this nice feature that

00:41:38.860 --> 00:41:42.760
allows you to actually boot,
you know, storage over fiber channel.

00:41:42.860 --> 00:41:46.240
So it will try to actually boot the
machine first over fiber channel,

00:41:46.340 --> 00:41:48.180
which is not a good thing, right?

00:41:48.390 --> 00:41:51.860
So make sure you've got your
local boot drive set to boot

00:41:51.880 --> 00:41:53.400
on the internal hard drive.

00:41:53.430 --> 00:41:57.020
And then finally, you know, firmware.

00:41:57.130 --> 00:42:01.420
So you've got, you know, promise raids,
you've got XServe raids,

00:42:01.450 --> 00:42:03.760
you bought the parts
kits that go with it,

00:42:03.770 --> 00:42:04.140
right?

00:42:04.160 --> 00:42:06.100
Obviously, you always get a parts kit.

00:42:06.220 --> 00:42:09.840
And, you know,
there's firmware updates that come out.

00:42:10.370 --> 00:42:12.820
Well,
that controller that's just waiting,

00:42:12.900 --> 00:42:17.390
collecting dust in your parts kit,
that firmware might not be up to date.

00:42:17.590 --> 00:42:19.780
So again,
when you've got maintenance windows,

00:42:19.920 --> 00:42:23.470
make sure you put that controller
in and make sure that controller

00:42:23.500 --> 00:42:27.690
has always the same firmware as
what you're running in production.

00:42:29.000 --> 00:42:33.160
You know, don't defrag your volume,
you know, every day or every week.

00:42:33.230 --> 00:42:34.280
There's no need for that.

00:42:34.420 --> 00:42:36.600
If you,
as long as you follow the guidelines,

00:42:36.690 --> 00:42:41.650
which is I shall buy new storage,
you know, additional storage and expand

00:42:41.650 --> 00:42:46.620
my Xsan when my volume goes
over 80%, you'll be fine.

00:42:47.320 --> 00:42:49.390
We all follow that rule, right?

00:42:49.480 --> 00:42:49.690
Yeah.

00:42:49.910 --> 00:42:51.400
And that's what email
notifications are for.

00:42:51.400 --> 00:42:53.640
You just set that number up and
it'll just email you and say,

00:42:53.640 --> 00:42:56.720
"Hey." I mean, we'll ask Jason,
maybe he'll add a feature where

00:42:56.720 --> 00:42:59.110
it'll just go automatically
to the Apple Store and just,

00:42:59.230 --> 00:43:01.280
you know,
buy additional storage on the fly,

00:43:01.280 --> 00:43:03.340
you know,
an entry to put the credit card in.

00:43:03.520 --> 00:43:06.920
So, or the channel, I'm sorry.

00:43:07.350 --> 00:43:11.340
If you do run into a situation where,
you know,

00:43:11.340 --> 00:43:14.600
you're getting dropped frames for
some reason or another on a file,

00:43:14.670 --> 00:43:18.190
it might be due to the fact that
the volume is getting full or that

00:43:18.190 --> 00:43:20.440
file might be over fragmented.

00:43:20.820 --> 00:43:24.490
So, a simple test would be to
simply duplicate that file,

00:43:24.490 --> 00:43:28.470
relink it to that file and see
if the drop frame goes away.

00:43:28.480 --> 00:43:30.320
So, that's just a quick tidbit.

00:43:30.400 --> 00:43:33.620
But if you are running into situations
where your volume is getting full,

00:43:33.660 --> 00:43:36.960
you know, by simply duplicating
the folder or the file,

00:43:37.030 --> 00:43:40.860
the finder does a great job doing
what's called pre-allocation.

00:43:40.940 --> 00:43:43.980
And what it'll do is that it'll be
really smart in terms of finding,

00:43:44.050 --> 00:43:47.840
you know, a contiguous amount of space
and basically writing that

00:43:47.990 --> 00:43:50.840
file in a single chunk.

00:43:50.840 --> 00:43:53.470
Make sure you test the metadata failover.

00:43:53.600 --> 00:43:58.860
So, that was not, you know,
as easy in XN1 days.

00:43:58.900 --> 00:44:02.050
You could do it from the command
line or you could pull the power

00:44:02.060 --> 00:44:04.230
or you can shut down the server.

00:44:04.560 --> 00:44:08.120
But here you can simply go into the GUI,
and basically say failover

00:44:08.120 --> 00:44:09.500
and test the failover.

00:44:09.500 --> 00:44:11.700
You could still power, you know,
pull the power, you know,

00:44:11.770 --> 00:44:14.140
cord on the server as well
if you want to do that.

00:44:14.140 --> 00:44:16.200
You're more than welcome to.

00:44:16.200 --> 00:44:19.140
Make sure you connect all the
devices to dual power supplies.

00:44:19.140 --> 00:44:22.040
Again, we talked about that, but,
you know, very important.

00:44:22.040 --> 00:44:25.100
And those should be in different
PDUs and different circuits,

00:44:25.360 --> 00:44:25.550
right?

00:44:25.670 --> 00:44:28.240
So, again, make sure that you work
with your electrician.

00:44:28.240 --> 00:44:31.130
You go all the way back to the
circuit panel and it's not all

00:44:31.210 --> 00:44:32.780
tied into a single circuit.

00:44:32.780 --> 00:44:36.360
And make sure you understand the bring
up and bring down process of the SAN,

00:44:36.440 --> 00:44:40.600
as well as all the other individuals
that would be maintaining the system.

00:44:40.600 --> 00:44:42.500
And then email notification.

00:44:42.500 --> 00:44:47.660
There's a lot of areas for you to where
you need to configure email notification,

00:44:47.660 --> 00:44:48.200
right?

00:44:48.220 --> 00:44:50.400
So, let's make sure we all do that.

00:44:50.400 --> 00:44:53.640
You've got server, you know,
a server monitor.

00:44:53.640 --> 00:44:55.440
You've got XN.

00:44:55.440 --> 00:44:57.040
You have your UPSs.

00:44:57.040 --> 00:44:59.120
You've got the promise storage.

00:44:59.120 --> 00:45:02.560
You've got the SNMP monitoring card.

00:45:02.560 --> 00:45:05.460
So, there's a lot of areas to
set up email notifications.

00:45:05.460 --> 00:45:06.060
So, make sure you do that.

00:45:06.060 --> 00:45:10.840
So, you do get the notifications
if something goes wrong.

00:45:10.840 --> 00:45:13.260
And even the fiber channel
switch has a notification.

00:45:13.260 --> 00:45:16.340
So,
and then register your support contracts,

00:45:16.730 --> 00:45:16.990
right?

00:45:17.000 --> 00:45:18.300
Really important.

00:45:18.360 --> 00:45:20.840
Because, you know, Murphy's Law, right?

00:45:20.910 --> 00:45:25.170
After a year, you know,
a year and a month, something goes bad,

00:45:25.180 --> 00:45:26.060
you need to call support.

00:45:26.180 --> 00:45:29.520
You want to make sure those
are active and working.

00:45:29.620 --> 00:45:35.050
So, I'm going to bring it up to
Jason for upcoming XN releases.

00:45:35.060 --> 00:45:35.180
Great.

00:45:35.220 --> 00:45:35.760
Thanks.

00:45:35.760 --> 00:45:36.950
All right.

00:45:38.740 --> 00:45:43.100
So, the site sort of let the
cat out of the bag for me.

00:45:43.100 --> 00:45:47.940
This used to be a build, but... So,
going live tomorrow,

00:45:47.940 --> 00:45:49.690
Xsan 2.1 is going to be released.

00:45:49.720 --> 00:45:52.700
It's available on
Apple Developer Connection today

00:45:52.700 --> 00:45:55.450
for all of you to download,
and it goes live on

00:45:55.450 --> 00:45:56.700
Software Update tomorrow.

00:45:56.700 --> 00:45:59.620
So, I encourage you to download
that and install it.

00:45:59.790 --> 00:46:03.570
Lot of bug fixes in Xsan Admin,
so I encourage you to

00:46:03.680 --> 00:46:04.670
go ahead and do that.

00:46:05.000 --> 00:46:07.980
There's also been a lot of
improvements to the Xsan 1 to

00:46:08.100 --> 00:46:09.700
Xsan 2 upgrade and migration path.

00:46:09.700 --> 00:46:14.700
So, if you're currently on Xsan 1 and
you're going to upgrade to Xsan 2,

00:46:14.920 --> 00:46:17.700
before you actually reboot that system
and get that whole process started,

00:46:17.700 --> 00:46:21.700
make sure you run Software Update to
get Xsan 2.1 installed first,

00:46:21.700 --> 00:46:25.700
because the upgrade process
works much better in Xsan 2.1.

00:46:25.700 --> 00:46:27.700
And again, it's available on ADC now.

00:46:27.700 --> 00:46:31.700
Now, for those of you who have been
following the sort of OS goings-on,

00:46:31.700 --> 00:46:33.660
you've probably heard of Snow Leopard.

00:46:34.040 --> 00:46:37.700
Snow Leopard does not
currently work with Xsan 2.

00:46:37.700 --> 00:46:40.960
And so,
I'm just going to let you know that

00:46:40.960 --> 00:46:44.610
there will be an Xsan 2.2 that will
be compatible with Snow Leopard.

00:46:44.700 --> 00:46:48.700
It will include 64-bit support
on both the client side,

00:46:48.700 --> 00:46:51.570
the kernel extensions,
as well as the server.

00:46:51.700 --> 00:46:55.700
And we're also adding native extended
attribute and resource fork support,

00:46:55.700 --> 00:46:57.690
so all those little Apple double
files are going to go away.

00:46:57.700 --> 00:46:59.560
We hope to get a big
performance boost out of that.

00:47:00.180 --> 00:47:02.700
And, yeah.

00:47:02.700 --> 00:47:05.700
Another thing to keep in mind
is we will not be supporting

00:47:05.700 --> 00:47:09.490
Xsan 1 clients with Xsan 2.2.

00:47:09.700 --> 00:47:13.700
So, make sure you get updated before
you start planning to upgrade

00:47:13.700 --> 00:47:15.700
to Snow Leopard and Xsan 2.2.

00:47:15.700 --> 00:47:20.700
And for those of you who
participate in the seeding program,

00:47:20.870 --> 00:47:22.700
just, you know, watch for that.

00:47:22.770 --> 00:47:26.700
Watch Apple Developer Connection
for seeding info.

00:47:26.700 --> 00:47:28.700
And so, that's basically it.

00:47:28.700 --> 00:47:30.700
It's time to wrap up.

00:47:30.700 --> 00:47:31.700
JD will come on up and
finish the wrap-up.

00:47:31.700 --> 00:47:33.700
We'll be up on stage,
then we'll answer questions.

00:47:33.700 --> 00:47:36.680
We'll bring up a couple of
engineers to do field Q&A.

00:47:36.700 --> 00:47:37.700
Get the mic back on?

00:47:37.700 --> 00:47:38.700
Perfect.

00:47:38.700 --> 00:47:41.700
Yeah, so thank you all for using Xsan.

00:47:41.700 --> 00:47:43.640
We saw a great amount
of show of hands today.

00:47:43.830 --> 00:47:45.700
So, we appreciate your support.

00:47:45.700 --> 00:47:48.510
So, Xsan is a very flexible product.

00:47:48.720 --> 00:47:51.700
So, take advantage of all the
new functionality in Xsan 2.

00:47:51.780 --> 00:47:53.700
And, you know, planning is everything.

00:47:53.700 --> 00:47:57.700
So, make sure you do plan your Xsan
installation ahead of time.

00:47:57.700 --> 00:48:01.260
And work with your IT group to make
sure that networking and IP and

00:48:01.260 --> 00:48:03.690
everything is in place for the setup.

00:48:03.700 --> 00:48:05.670
And don't cut corners, please, right?

00:48:05.810 --> 00:48:09.400
You know, make sure you've got redundancy
built into the system because,

00:48:09.400 --> 00:48:11.700
you know, most of you in the room,
you know,

00:48:11.700 --> 00:48:14.690
the people that you're supporting
are the people who are bringing

00:48:14.700 --> 00:48:16.700
in the money in the company,
right?

00:48:16.700 --> 00:48:18.700
They're the video editors,
they're the graphic designers,

00:48:18.700 --> 00:48:21.690
and you want to make sure
you keep those people happy.

00:48:21.700 --> 00:48:23.670
And backup is very important.

00:48:23.820 --> 00:48:28.430
So, I want to see more show of hands next
year when you guys all come back at the

00:48:28.430 --> 00:48:31.700
developer conference in terms of backup.

00:48:31.760 --> 00:48:36.390
And finally,
if you want us to help you with deploying

00:48:36.390 --> 00:48:40.700
Xsan and actually installing your Xsan,
you can go to apple.com/services

00:48:40.700 --> 00:48:43.700
or just ping us on consulting
services at apple.com.

00:48:43.700 --> 00:48:47.700
We have a team that's deployed over
500 Xsans in the past two years.

00:48:47.780 --> 00:48:50.700
So, we'll be glad to help
you and lend a hand.

00:48:50.860 --> 00:48:53.700
And you've got a group of people here
that are more than willing to help.

00:48:53.700 --> 00:48:56.700
And with that, oh, upcoming sessions.

00:48:56.700 --> 00:48:58.700
So, after this,
there's going to be a lab.

00:48:58.860 --> 00:49:02.700
All of us are going to be in the
lab to help answer questions,

00:49:02.700 --> 00:49:07.700
more questions related to
your specific environment.

00:49:07.700 --> 00:49:11.700
There's a great podcast
producer session tomorrow.

00:49:11.700 --> 00:49:14.700
And podcast producer uses
Xsan on the back end.

00:49:14.700 --> 00:49:16.680
So, a good session to attend.

00:49:16.710 --> 00:49:21.700
And then there's also a best
practice Mac OS X panel on Friday.