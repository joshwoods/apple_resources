WEBVTT

00:00:20.530 --> 00:00:23.940
My name is Nick Kocharhook,
and you are here to learn about Help,

00:00:23.940 --> 00:00:27.820
Apple Help specifically, Help Viewer,
and everything associated with it.

00:00:27.890 --> 00:00:30.660
So I wanted to talk to you
about what Apple Help is,

00:00:30.660 --> 00:00:33.320
first of all,
how it exists today in Leopard

00:00:33.320 --> 00:00:35.500
and basically in Snow Leopard.

00:00:35.500 --> 00:00:37.800
And then what's new in Snow Leopard,
what we've changed,

00:00:37.800 --> 00:00:40.840
we've actually made it much easier
to add Help to your applications.

00:00:40.840 --> 00:00:43.400
It was pretty easy before,
but even easier now.

00:00:43.400 --> 00:00:46.160
Then we're going to have a
couple demos of how Help works

00:00:46.160 --> 00:00:48.500
and adding it to your app,
and then we're going

00:00:48.500 --> 00:00:49.930
to do a Q&A afterwards.

00:00:50.820 --> 00:00:52.520
So,

00:00:53.070 --> 00:00:56.440
Apple Help is really
fantastic for your users.

00:00:56.440 --> 00:01:02.190
It's really about getting users able
to use your app more easily-- or sorry,

00:01:02.330 --> 00:01:03.490
using your application.

00:01:03.700 --> 00:01:08.770
Not just novice users who want
to learn more about your app,

00:01:08.880 --> 00:01:10.880
you know, want to even start,
where do I go,

00:01:10.980 --> 00:01:15.060
but it's also good for average
users who want to learn even more.

00:01:15.060 --> 00:01:16.550
They want to become experts.

00:01:16.680 --> 00:01:20.380
So I actually wanted to just
start out with a demo and show you

00:01:20.380 --> 00:01:23.160
how Apple Help works now today.

00:01:23.560 --> 00:01:28.370
So if I can get a demo-- go to the demo.

00:01:28.460 --> 00:01:29.010
There we go.

00:01:29.040 --> 00:01:29.480
OK.

00:01:29.780 --> 00:01:30.970
Thank you very much.

00:01:31.090 --> 00:01:34.790
So say we wanted to--

00:01:34.960 --> 00:01:38.700
We're in iCal, and here we are today
on the 11th of June,

00:01:38.700 --> 00:01:42.390
and we're going to have a
party on Inauguration Day,

00:01:42.390 --> 00:01:43.090
say.

00:01:43.100 --> 00:01:45.260
Okay, so, but when is Inauguration Day?

00:01:45.260 --> 00:01:46.940
We don't really know, or I don't.

00:01:47.020 --> 00:01:48.600
Okay, so let's go to Wikipedia.

00:01:48.600 --> 00:01:49.930
Okay.

00:01:50.100 --> 00:02:40.200
[Transcript missing]

00:02:40.270 --> 00:02:40.920
When is that?

00:02:41.000 --> 00:02:42.490
Oh, that's January 20, 2009.

00:02:42.510 --> 00:02:44.380
Okay, so let's go into iCal.

00:02:44.380 --> 00:02:50.220
And now, as you know, we're on June 11th,
but what we'd really like to do

00:02:50.220 --> 00:02:51.860
is jump ahead like six months.

00:02:51.860 --> 00:02:55.850
Well, we could go through
this one week at a time,

00:02:56.040 --> 00:03:00.510
or we could go to,
that's a little later on in the session,

00:03:00.510 --> 00:03:04.300
we could go to the
Help menu and search for it.

00:03:04.490 --> 00:03:07.830
Okay, so we're going to search for date,
and it turns out there's a

00:03:07.910 --> 00:03:09.600
menu item called Go to Date.

00:03:09.760 --> 00:03:13.230
Now, this is the second way that
Help can help your users,

00:03:13.360 --> 00:03:16.230
and, you know,
this Help menu search of the menus

00:03:16.440 --> 00:03:19.270
is actually really great even for,
you know,

00:03:19.270 --> 00:03:23.650
just average users or maybe even
advanced users to speed things up.

00:03:23.730 --> 00:03:25.930
If there's a menu that you
need to go to all the time,

00:03:25.930 --> 00:03:29.670
but it doesn't have a keyboard shortcut,
this is a really great way to use that.

00:03:29.770 --> 00:03:31.420
Okay, so we're going to go to the date.

00:03:31.420 --> 00:03:33.900
We're just going to click this,
and it's going to execute

00:03:33.900 --> 00:03:34.790
the action for us.

00:03:34.790 --> 00:03:37.110
And so now, this is our current date,
but actually,

00:03:37.150 --> 00:03:41.040
we'd like to go to January 20th, 2009.

00:03:41.310 --> 00:03:43.180
Okay, that's a Tuesday.

00:03:43.300 --> 00:03:48.140
So we learned from Wikipedia that
actually it takes place on noon,

00:03:48.140 --> 00:03:54.560
or at noon on January 20th,
so that's when we're going to have,

00:03:54.560 --> 00:03:54.560
you know,

00:04:25.130 --> 00:04:25.490
time.

00:04:25.490 --> 00:04:26.260
Time zone.

00:04:26.260 --> 00:04:27.200
How do I do that?

00:04:27.220 --> 00:04:30.080
And if you look here,
the second result is changing

00:04:30.080 --> 00:04:31.830
the time zone for an event.

00:04:31.830 --> 00:04:34.760
Now notice,
this is not anywhere in the menus.

00:04:34.970 --> 00:04:37.210
There's no menu item that
says change the time zone,

00:04:37.210 --> 00:04:38.860
set the time zone, none of that.

00:04:38.860 --> 00:04:42.990
But because iCal has help content,
we're able to get this result because

00:04:42.990 --> 00:04:45.080
it's in the help documentation.

00:04:45.110 --> 00:04:46.480
Okay, so we click that.

00:04:46.670 --> 00:04:50.980
And help here comes up and lets us
know that there's some preamble here.

00:04:51.020 --> 00:04:52.190
And then there's a set of steps.

00:04:52.190 --> 00:04:53.710
How to change the time zone for an event.

00:04:53.710 --> 00:04:56.010
Well,
the first thing is you have to turn on

00:04:56.020 --> 00:04:58.500
time zone support in the preferences.

00:04:58.500 --> 00:05:00.180
Okay, so let's do that.

00:05:00.510 --> 00:05:02.400
In the Preferences,
we'd like to turn on time

00:05:02.400 --> 00:05:04.160
zone support in Advanced.

00:05:04.160 --> 00:05:05.400
Okay, great.

00:05:05.400 --> 00:05:09.100
Now notice we've got the
time zone of the canvas here,

00:05:09.130 --> 00:05:12.330
and we also have a time
zone field in the event.

00:05:12.440 --> 00:05:14.730
So let's go to Other.

00:05:15.080 --> 00:05:18.300
choose Washington, D.C.

00:05:18.360 --> 00:05:20.910
The order of that list appears
to change all the time.

00:05:20.940 --> 00:05:22.100
Interesting.

00:05:22.100 --> 00:05:22.540
Okay.

00:05:22.580 --> 00:05:25.540
And now, thank you, help viewer,
9:00 a.m.

00:05:25.560 --> 00:05:26.520
in Pacific Time.

00:05:26.740 --> 00:05:30.300
That's the actual time that you
want -- that the inauguration is

00:05:30.390 --> 00:05:32.520
going to happen relative to you.

00:05:32.520 --> 00:05:35.800
So just to recap briefly,
there are three ways that

00:05:35.800 --> 00:05:38.980
you can get to -- that your
user can get to help content,

00:05:39.050 --> 00:05:39.560
you know.

00:05:39.560 --> 00:05:41.840
One of them is with the
contextual help buttons,

00:05:41.840 --> 00:05:43.120
which we saw in Safari.

00:05:43.120 --> 00:05:45.350
And the other two are
through the help menu,

00:05:45.350 --> 00:05:49.510
either searching and finding
something in the menus or searching

00:05:49.510 --> 00:05:52.100
and getting one of the help topics.

00:05:52.350 --> 00:05:52.560
Okay.

00:05:52.660 --> 00:05:53.860
So that's the demo.

00:05:53.920 --> 00:05:55.230
And if we could go back to slides.

00:06:02.400 --> 00:06:03.590
That's the demo slide.

00:06:03.590 --> 00:06:07.160
OK, great.

00:06:07.160 --> 00:06:09.980
So Apple Help is all about help books.

00:06:10.110 --> 00:06:11.620
It's based around help books.

00:06:11.720 --> 00:06:12.520
And what is a help book?

00:06:12.680 --> 00:06:16.160
It's a list of HTML pages.

00:06:16.160 --> 00:06:19.060
We wanted to make it really easy
for everyone to take the help

00:06:19.070 --> 00:06:21.120
and put it in their application.

00:06:21.120 --> 00:06:22.490
You might have help online somewhere.

00:06:22.530 --> 00:06:23.770
You probably have a FAQ.

00:06:24.030 --> 00:06:27.620
You can spruce that up a little
bit and put it in your application,

00:06:27.620 --> 00:06:29.270
just ship it as Apple Help.

00:06:29.460 --> 00:06:33.100
OK, so there's going to be--
there is one page that is

00:06:33.100 --> 00:06:35.100
designated as the access page.

00:06:35.100 --> 00:06:38.750
And that's the page that comes up when
the user goes to the Help menu and

00:06:38.750 --> 00:06:42.030
selects Safari Help or Your App Help.

00:06:42.100 --> 00:06:47.670
And then there's a number of other pages
that include things like troubleshooting

00:06:47.670 --> 00:06:51.090
or about a certain feature,
things like this.

00:06:51.100 --> 00:06:53.030
You can split them up and you
can call them whatever you like.

00:06:53.130 --> 00:06:55.360
And you can have five
pages or you can have,

00:06:55.380 --> 00:06:57.080
you know, a thousand pages.

00:06:57.190 --> 00:06:59.100
We have everything on the game.

00:06:59.100 --> 00:07:01.100
So you can have a lot of different
things on the gamut there.

00:07:01.100 --> 00:07:04.100
There's also probably going to be images
that are included in your help book

00:07:04.150 --> 00:07:09.100
and probably some style because it's
HTML and you want it to look pretty.

00:07:09.100 --> 00:07:11.100
And then there's other things.

00:07:11.100 --> 00:07:12.100
We use WebKit.

00:07:12.100 --> 00:07:15.010
So if you would like to
use XML and maybe XSLT,

00:07:15.390 --> 00:07:16.060
that works.

00:07:16.140 --> 00:07:20.100
If you'd like to use CSS3 transitions,
that will work.

00:07:20.100 --> 00:07:23.710
If you want to use some of the
advanced HTML4 or HTML5 stuff,

00:07:23.710 --> 00:07:25.460
all that will work as well.

00:07:26.890 --> 00:07:30.340
So that's what Help looked like before.

00:07:30.510 --> 00:07:33.450
Help in Snow Leopard
is slightly different.

00:07:34.240 --> 00:07:37.030
This isn't to say, by the way,
I should mention that the

00:07:37.030 --> 00:07:37.860
old stuff doesn't work.

00:07:37.950 --> 00:07:41.860
Everything that worked before
does now work in Snow Leopard,

00:07:41.960 --> 00:07:46.100
but we've added another way for you
to add help to your application.

00:07:46.100 --> 00:07:49.070
And the main way that it's
structured is with help bundles.

00:07:49.090 --> 00:07:52.080
So this is an entire help book,
all the different

00:07:52.080 --> 00:07:54.090
localizations in one place.

00:07:54.150 --> 00:07:57.100
There's a single bundle,
and there's a single way to identify it.

00:07:57.100 --> 00:08:00.550
You're using something called--well,
you actually use the

00:08:00.550 --> 00:08:03.150
bundle ID of the bundle,
and in this case,

00:08:03.180 --> 00:08:04.080
we're calling it a book ID.

00:08:04.430 --> 00:08:09.100
Notice it's case sensitive,
and it is not localized, which is great,

00:08:09.100 --> 00:08:11.100
because before,
the name had to be localized,

00:08:11.100 --> 00:08:13.100
and it caused all sorts of badness.

00:08:13.100 --> 00:08:14.100
So this is unlocalized.

00:08:14.100 --> 00:08:17.090
All right, so remember all those files
we were talking about before?

00:08:17.340 --> 00:08:21.090
All those files plus the Info.plist,
which every bundle needs to have.

00:08:21.100 --> 00:08:24.100
That's an XML file that
includes information.

00:08:24.100 --> 00:08:26.100
So this is the application
about the bundle.

00:08:26.270 --> 00:08:29.100
So in this case, it'll--well,
we'll talk about that in a second.

00:08:29.100 --> 00:08:30.100
I don't want to get ahead of myself.

00:08:30.170 --> 00:08:32.100
All of those things go
inside the help bundle.

00:08:32.100 --> 00:08:35.090
And then the help bundle,
just the single help bundle,

00:08:35.330 --> 00:08:37.450
goes inside your application.

00:08:37.780 --> 00:08:39.100
So this is what that actually looks like.

00:08:39.300 --> 00:08:42.420
You have the dot app here,
and it's got a contents

00:08:42.420 --> 00:08:44.520
folder and the Info.plist.

00:08:44.540 --> 00:08:48.180
There's a couple extra keys,
which if you've dealt with adding

00:08:48.180 --> 00:08:50.970
help to an application before,
you will know about,

00:08:50.970 --> 00:08:53.050
and I'll talk about those in a second.

00:08:53.300 --> 00:08:54.800
There's a resources folder.

00:08:54.800 --> 00:08:58.040
And inside of that, at the same level as
your localized content,

00:08:58.060 --> 00:08:59.980
you have your help bundle.

00:09:00.550 --> 00:09:03.440
Okay, now these are the special keys
that you need to include in

00:09:03.550 --> 00:09:06.890
your app's Info.plist file.

00:09:06.980 --> 00:09:09.690
And they're both required
in order for Help to work.

00:09:09.740 --> 00:09:12.500
If you don't want Help to work,
you don't have to have any of the keys.

00:09:12.700 --> 00:09:17.000
Okay, so the first one is the
CFBundle helpbook folder,

00:09:17.210 --> 00:09:20.330
and that is going to be the
same as the name of the bundle.

00:09:20.570 --> 00:09:23.500
Just loosen your resources folder.

00:09:24.490 --> 00:09:26.460
and then there's the help book name.

00:09:26.650 --> 00:09:31.840
So that is the bundle
ID of your help bundle.

00:09:31.930 --> 00:09:34.200
Now,
both of those things are required to be

00:09:34.200 --> 00:09:36.000
included in the app's Info.plist file.

00:09:36.000 --> 00:09:38.980
Okay, now,
inside of the help bundle itself,

00:09:39.060 --> 00:09:43.870
I showed you before that all of these
files just go inside the help bundle.

00:09:43.880 --> 00:09:44.810
But where do they actually go?

00:09:44.960 --> 00:09:46.060
What does it actually look like?

00:09:46.190 --> 00:09:49.170
Well, you have the contents folder,
and inside of that, again,

00:09:49.170 --> 00:09:51.600
the Info.plist metadata
about your help book.

00:09:52.160 --> 00:09:56.800
And then you have the resources folder,
and inside of that is, as in any bundle,

00:09:56.800 --> 00:09:58.910
your localized project files,
your L projects.

00:09:58.920 --> 00:10:01.480
This is where you put
your localized content.

00:10:01.480 --> 00:10:03.550
If you're shipping help,
or if you're shipping your

00:10:03.560 --> 00:10:06.850
application in 18 different languages,
you're going to put 18

00:10:07.150 --> 00:10:09.790
different L projects,
and you're going to have your

00:10:09.790 --> 00:10:11.740
help for each of those languages.

00:10:11.740 --> 00:10:13.420
Okay, this is the French one.

00:10:13.420 --> 00:10:17.760
And now this is something that's
new and kind of interesting.

00:10:17.760 --> 00:10:19.950
In the shared folder,
and actually you can call this

00:10:20.010 --> 00:10:21.250
folder whatever you'd like.

00:10:21.920 --> 00:10:24.010
But I call it shared in this case.

00:10:24.240 --> 00:10:27.760
You're going to put content
that you don't need to localize.

00:10:27.840 --> 00:10:30.910
And this is great,
because if you have a bunch of images,

00:10:30.910 --> 00:10:34.760
you've got a bunch of screenshots,
you want to be able to include

00:10:34.760 --> 00:10:37.110
those without duplicating them.

00:10:38.340 --> 00:10:43.400
If you have 18 different localizations,
you don't want to have 100

00:10:43.400 --> 00:10:45.060
kilobyte file times 18.

00:10:45.090 --> 00:10:46.640
You know,
that gets really big really quickly.

00:10:46.720 --> 00:10:49.300
So you can just include it
once in the shared folder.

00:10:49.330 --> 00:10:50.850
And in this case,
we've put the icon there.

00:10:50.980 --> 00:10:54.380
The icon is another really good
example of something that you

00:10:54.460 --> 00:10:57.490
probably don't want to duplicate,
and you just need one of them.

00:10:58.060 --> 00:11:01.040
All right, so we talked about the
Info.plist for the application.

00:11:01.050 --> 00:11:03.340
Now let's talk about the
Info.plist for the bundle.

00:11:03.390 --> 00:11:05.500
There are several required keys.

00:11:05.590 --> 00:11:07.000
One is the CFBundle identifier.

00:11:07.000 --> 00:11:08.200
Shouldn't come as a surprise.

00:11:08.200 --> 00:11:09.600
It is a bundle.

00:11:09.620 --> 00:11:14.460
And we recommend just including .help
on the end of your application's name.

00:11:14.560 --> 00:11:19.660
So this is the reverse
DNS sort of scheme.

00:11:19.660 --> 00:11:22.950
You can call it whatever you'd like,
but we recommend you do this.

00:11:23.890 --> 00:11:24.940
HPD book title.

00:11:25.280 --> 00:11:30.000
This is actually the only localized key.

00:11:30.290 --> 00:11:38.710
The only localized-- well, really,
it's a value.

00:11:38.710 --> 00:11:38.710
But you have the book title,
and this is going to be the same as the--

00:11:39.580 --> 00:11:44.500
In your Help menu in your application,
there's going to be an item,

00:11:44.500 --> 00:11:47.940
and it will probably say
My App Help or Safari Help,

00:11:47.990 --> 00:11:51.370
and this will have the same name,
and that is localized.

00:11:51.440 --> 00:11:54.100
So I'll show you how to
localize that in just a second.

00:11:54.160 --> 00:11:56.410
Then the HPD book access path.

00:11:56.710 --> 00:11:59.700
This is relative to the lproj,
and this is going to be the same

00:11:59.700 --> 00:12:02.790
for each of the localizations.

00:12:04.070 --> 00:12:07.140
And then the HPDBookType,
you don't need to worry

00:12:07.240 --> 00:12:08.060
too much about this.

00:12:08.170 --> 00:12:08.880
It's included.

00:12:08.960 --> 00:12:11.390
There are actually,
if you would like to try this right now,

00:12:11.510 --> 00:12:15.810
in developer examples help,
there's a help book-- sorry-- slash

00:12:15.890 --> 00:12:18.260
developer slash examples slash help.

00:12:18.310 --> 00:12:20.880
There is a help book called MyAppHelp.

00:12:20.960 --> 00:12:24.710
And it includes the
Info.plist for the bundle,

00:12:24.710 --> 00:12:25.670
the help book.

00:12:25.760 --> 00:12:30.560
And so this includes all the things that
you should need with default values.

00:12:30.610 --> 00:12:33.980
And in that place, it's HPDBookType is 3.

00:12:34.200 --> 00:12:36.540
And you should just make sure that
whenever you create a help book,

00:12:36.540 --> 00:12:38.070
you have it be 3.

00:12:38.110 --> 00:12:40.490
Now, there are a bunch of optional keys,
but I'm only going to go

00:12:40.490 --> 00:12:41.720
over one of them right now.

00:12:41.900 --> 00:12:43.900
And that is the HPDBookIconPath.

00:12:44.140 --> 00:12:46.370
You probably want to include an icon.

00:12:46.550 --> 00:12:48.440
It's going to be a 16 by 16 icon.

00:12:48.470 --> 00:12:49.800
And this is where it's used.

00:12:49.820 --> 00:12:53.880
In the place that you have a search,
each of the search

00:12:53.980 --> 00:12:55.510
results includes the icon.

00:12:55.530 --> 00:12:58.680
Now, it's possible to search
across multiple books at once,

00:12:58.710 --> 00:13:00.220
or at least it was in Leopard.

00:13:00.270 --> 00:13:04.060
It will ultimately be possible to
search across multiple books at once.

00:13:04.110 --> 00:13:07.640
And in that case,
when the results are interleaved,

00:13:07.640 --> 00:13:10.570
because they are relevance ordered,
it's important to know which

00:13:10.570 --> 00:13:13.050
help book a result came from.

00:13:13.230 --> 00:13:14.180
So that's where this is used.

00:13:14.260 --> 00:13:16.560
You probably want to include that.

00:13:16.560 --> 00:13:16.810
OK.

00:13:17.150 --> 00:13:20.280
So remember I told you I was
going to tell you how to localize?

00:13:20.410 --> 00:13:23.890
In addition to localizing your content,
which is the most complicated part,

00:13:24.040 --> 00:13:28.020
there's really only a
few things to remember.

00:13:28.080 --> 00:13:30.870
First of all,
shared files go-- in resources.

00:13:31.010 --> 00:13:32.600
Shared meaning non-localized.

00:13:32.610 --> 00:13:36.380
You are sharing them among
your different localizations.

00:13:36.400 --> 00:13:39.780
All your other files go
in the .lproj folders.

00:13:39.780 --> 00:13:40.840
Whichever .lproj folder.

00:13:40.900 --> 00:13:44.220
If it's a French file,
it goes in French.lproj.

00:13:44.520 --> 00:13:46.580
And then there's the
InfoPillars strings files.

00:13:46.750 --> 00:13:49.600
Those go inside the LPrij,
just like in any other bundle,

00:13:49.750 --> 00:13:51.880
and this is what they look like.

00:13:52.160 --> 00:13:56.000
This is the English one on the left,
and on the right is the French one.

00:13:56.060 --> 00:14:00.080
Very simple, HPD book title equals,
and then in quotes, the name,

00:14:00.080 --> 00:14:01.700
the localized name of your help book.

00:14:01.760 --> 00:14:03.940
And remember that file
needs to be UTF-16,

00:14:04.050 --> 00:14:06.660
as with all strings files
anywhere on the system.

00:14:11.630 --> 00:14:18.120
So your HTML is largely just taken from
something that you might have put online.

00:14:18.120 --> 00:14:20.220
Safari could read this with no problem.

00:14:20.440 --> 00:14:23.390
But there are a few things
that Help Viewer calls out

00:14:23.470 --> 00:14:24.590
and looks at specifically.

00:14:24.730 --> 00:14:27.010
So I wanted to go over those with you.

00:14:27.130 --> 00:14:28.260
First of all, the title.

00:14:28.340 --> 00:14:31.850
Now, the title's actually the most
important element of your page,

00:14:31.950 --> 00:14:36.450
because if it's really long,
then as you can see on the right here,

00:14:36.450 --> 00:14:37.740
it might get cut off.

00:14:37.740 --> 00:14:39.340
It could be elided at the end.

00:14:39.530 --> 00:14:42.780
Another place that that might be
a problem is in the Help menu.

00:14:42.830 --> 00:14:43.940
It's actually even shorter.

00:14:43.940 --> 00:14:45.310
You have even fewer characters.

00:14:45.480 --> 00:14:47.580
So you want to make sure that
you use as few characters as

00:14:47.690 --> 00:14:49.170
possible and make it count.

00:14:49.270 --> 00:14:52.850
And if you can write in Chinese,
then that would be great,

00:14:52.930 --> 00:14:55.750
because Chinese is much shorter.

00:14:55.890 --> 00:14:56.900
You probably don't have that option.

00:14:57.020 --> 00:14:59.490
But make sure that your titles are pithy.

00:14:59.940 --> 00:15:04.240
OK, so in addition to the titles,
maybe you've written something that's

00:15:04.420 --> 00:15:07.750
either poorly worded or there are
several titles that are similar,

00:15:07.750 --> 00:15:10.480
two different pages that
have the very similar titles.

00:15:10.630 --> 00:15:13.480
Your user might be wondering, well,
which of these do I click on?

00:15:13.550 --> 00:15:16.500
And they could click on one and
go back and click on the other.

00:15:16.590 --> 00:15:18.570
Or they could use the tooltips.

00:15:18.740 --> 00:15:20.330
So that's what the description is for.

00:15:20.460 --> 00:15:24.520
And that provides a tooltip for them so
they can get a little more information.

00:15:24.760 --> 00:15:26.020
Do I really want to look at this page?

00:15:26.110 --> 00:15:29.840
Do I want to waste the time of
going forward and then coming back?

00:15:29.970 --> 00:15:31.670
So that also shouldn't be too long.

00:15:31.980 --> 00:15:34.540
This one is maybe even
of questionable length,

00:15:34.580 --> 00:15:37.810
but a line and a half at most, probably.

00:15:38.130 --> 00:15:39.220
Then there's the keywords.

00:15:39.270 --> 00:15:44.660
You include this at the top,
and the purpose of this is if you

00:15:44.660 --> 00:15:50.040
want to have your users able to find
something with your search results,

00:15:50.040 --> 00:15:54.860
but you don't want to actually
include it in the text of your page.

00:15:54.890 --> 00:15:58.780
And you don't want to also make it
white on a white background at the end,

00:15:58.830 --> 00:15:59.830
because that's lame.

00:16:00.010 --> 00:16:00.540
We don't like that.

00:16:00.540 --> 00:16:02.210
That's all 1996.

00:16:02.410 --> 00:16:05.940
So you include meta name keywords,
and in the contents,

00:16:06.030 --> 00:16:08.830
you include several words.

00:16:08.840 --> 00:16:13.670
The place that we use this most in
Apple's Help is for situations where

00:16:13.670 --> 00:16:18.680
there are different names for something
based on whether it's Windows or Mac.

00:16:19.020 --> 00:16:20.880
For example, desktop background.

00:16:20.880 --> 00:16:24.240
We call it desktop background,
but the Windows people call it wallpaper.

00:16:24.310 --> 00:16:26.300
So if someone searches for wallpaper,
we know they really

00:16:26.300 --> 00:16:27.680
want desktop background.

00:16:27.710 --> 00:16:32.660
And so you include wallpaper
in the keywords string,

00:16:32.780 --> 00:16:34.040
and then that gets searched.

00:16:34.040 --> 00:16:36.730
And so when that comes up,
people will assume, oh, OK,

00:16:36.730 --> 00:16:37.810
desktop background.

00:16:37.820 --> 00:16:41.360
That must be what it's called on the Mac.

00:16:41.430 --> 00:16:43.080
And then, of course,
the rest of the content

00:16:43.080 --> 00:16:45.710
of your page gets indexed.

00:16:48.060 --> 00:16:52.350
Speaking of indices,
the way that indices work on

00:16:53.310 --> 00:16:56.740
Leopard and Prior is that there's
something called the Help Indexer.

00:16:56.760 --> 00:16:59.690
This is in
Developer Applications Utilities,

00:16:59.690 --> 00:17:04.440
and you use Help Indexer to
create a Help Index file.

00:17:04.470 --> 00:17:07.710
And you would need to
create one per localization.

00:17:09.760 --> 00:17:12.490
If you do that with the
new help book format,

00:17:12.520 --> 00:17:15.960
the help bundle,
then you need to include HPD book

00:17:15.960 --> 00:17:19.360
index path in the info.p list,
and then you give that the

00:17:19.360 --> 00:17:22.920
name of the help index file,
which is going to be the same

00:17:23.010 --> 00:17:25.690
for all your localizations.

00:17:25.690 --> 00:17:25.690
However,

00:17:26.300 --> 00:17:29.510
You don't need to do that
if you don't want to.

00:17:29.650 --> 00:17:32.750
And we actually have on-the-fly indexing.

00:17:33.060 --> 00:17:37.470
We added this to support
the old IDX format.

00:17:37.680 --> 00:17:39.890
So--because actually,
we don't use that anymore.

00:17:39.900 --> 00:17:43.340
So now your content
gets indexed on-the-fly.

00:17:43.340 --> 00:17:45.810
But it's a great win for
everyone else as well,

00:17:46.040 --> 00:17:47.600
even people that aren't
using old index files,

00:17:47.600 --> 00:17:52.310
because your index just gets created,
and Health Viewer just does it,

00:17:52.400 --> 00:17:55.040
so you don't have to worry about
shipping anything like that.

00:17:55.240 --> 00:17:57.820
On-the-fly indexing,
it's pretty fantastic.

00:17:57.930 --> 00:18:00.260
So we've talked all about
the modern help bundle,

00:18:00.370 --> 00:18:03.320
and I wanted to bring Daniel Feldman
up and have him show you how

00:18:03.350 --> 00:18:05.160
to add one to your application.

00:18:05.290 --> 00:18:07.030
Thank you, Nick.

00:18:10.690 --> 00:18:13.760
So I'm going to walk you through adding
help to your application from scratch.

00:18:13.760 --> 00:18:15.440
And I have a little bit application here.

00:18:15.440 --> 00:18:16.520
It's a little bit silly.

00:18:16.540 --> 00:18:17.280
Let me show it to you.

00:18:17.300 --> 00:18:19.490
Let's get some shoes.

00:18:19.560 --> 00:18:22.870
So this is just a little application
I put together that lets you go

00:18:22.880 --> 00:18:24.480
through a bunch of pictures of shoes.

00:18:24.480 --> 00:18:26.100
And you can kind of say
what you think about them.

00:18:26.100 --> 00:18:28.060
Like, let's say these are pretty hot.

00:18:28.120 --> 00:18:29.160
These shoes rule.

00:18:29.160 --> 00:18:30.920
And these not so much.

00:18:30.920 --> 00:18:31.750
These shoes suck.

00:18:31.820 --> 00:18:32.090
Okay.

00:18:32.290 --> 00:18:35.340
Now, I know that this is based off
of a popular YouTube video,

00:18:35.410 --> 00:18:39.000
but our users might be a little bit
confused about what this app does.

00:18:39.110 --> 00:18:40.380
So let's check out the help.

00:18:40.600 --> 00:18:42.380
And of course,
there's not going to be any help

00:18:42.380 --> 00:18:43.600
yet because we haven't made it.

00:18:43.600 --> 00:18:44.860
So let's go ahead and do that.

00:18:44.950 --> 00:18:46.520
I'm going to quit the application.

00:18:47.860 --> 00:18:49.550
And head over to Finder.

00:18:49.660 --> 00:18:51.600
And this is my project folder.

00:18:51.620 --> 00:18:54.390
And I'm going to go ahead and make
our help bundle in this folder just

00:18:54.400 --> 00:18:58.450
so it's with all the other resources
that my project is going to use.

00:18:58.570 --> 00:19:03.410
I could make a new folder here and
just make it into a help bundle.

00:19:03.960 --> 00:19:10.950
is the founder of Snow Leopard,
a software development company

00:19:10.950 --> 00:19:15.090
that's been around for a long time.

00:19:16.170 --> 00:19:20.140
Developer, Examples, Help.

00:19:20.140 --> 00:19:21.800
OK, and it's myapp.help.

00:19:21.930 --> 00:19:22.800
So let's just bring it over.

00:19:22.940 --> 00:19:24.860
Ooh, not there, no.

00:19:27.310 --> 00:19:28.830
All right?

00:19:28.860 --> 00:19:32.480
And we want to rename it so that
it makes sense with our app.

00:19:33.200 --> 00:19:35.590
will right-click it to
show the package contents.

00:19:35.590 --> 00:19:40.150
And now inside of our Help bundle,
we can see the same directory structure

00:19:40.160 --> 00:19:41.330
that Nick was just talking about.

00:19:41.340 --> 00:19:44.840
So we have contents, resources,
we have that Info.plist,

00:19:44.940 --> 00:19:47.120
and we have another version.plist
for versioning information.

00:19:47.160 --> 00:19:49.440
And then we have our Lproj folders.

00:19:49.440 --> 00:19:51.140
In the template here,
we just have English,

00:19:51.140 --> 00:19:54.000
but you would have one of these
folders for each of your localizations.

00:19:54.000 --> 00:19:57.240
Inside of there is going
to be your content.

00:19:57.240 --> 00:20:00.010
This is just a placeholder here,
this HTML file.

00:20:00.620 --> 00:20:03.200
There's an Info.plist.strings.

00:20:03.200 --> 00:20:07.400
That's going to be for localizing
any of your values in the Info.plist.

00:20:07.550 --> 00:20:08.090
We'll get there.

00:20:08.180 --> 00:20:10.860
And then there's the shared folder
that Nick was talking about.

00:20:10.880 --> 00:20:15.320
And you put anything in there that you
want to share between your localizations.

00:20:15.490 --> 00:20:17.810
So let's go ahead and add our content.

00:20:17.950 --> 00:20:21.500
I've prepared some content for this demo.

00:20:21.500 --> 00:20:24.810
Let's just bring it over.

00:20:27.850 --> 00:20:31.860
And this is how I chose to set it
up with HTML in a separate folder,

00:20:31.880 --> 00:20:35.150
with my access page up front,
and with some localized images.

00:20:35.470 --> 00:20:38.180
But of course, you could set this up
any way that you like.

00:20:38.180 --> 00:20:39.620
I also have some shared content.

00:20:39.620 --> 00:20:42.100
Let's get rid of this
icon that's in there.

00:20:42.160 --> 00:20:45.930
And I'm going to bring
over the shared stuff.

00:20:47.060 --> 00:20:51.860
Nick mentioned images,
but CSS is another thing that's

00:20:51.860 --> 00:20:54.550
usually not going to be localized,
and so you can go ahead and put

00:20:54.560 --> 00:20:57.440
that in your shared folder and
save on a little bit of file space.

00:20:57.440 --> 00:21:00.830
I'd like to show you
some of these HTML files.

00:21:00.840 --> 00:21:03.120
Let's go ahead and look at them in Xcode.

00:21:03.120 --> 00:21:04.980
It's just standard HTML.

00:21:04.980 --> 00:21:08.680
A couple things that I do want to point
out to you are these relative URLs,

00:21:08.680 --> 00:21:10.330
so this is how I get to the CSS.

00:21:11.340 --> 00:21:13.720
The file that we're
looking at is in the lproj,

00:21:14.000 --> 00:21:15.750
and it's just like you
would do on a web page.

00:21:15.760 --> 00:21:18.190
If you want to get back one folder,
it's a couple of dots,

00:21:18.340 --> 00:21:22.950
and then we go inside the shared folder,
inside CSS, and then we get to our file.

00:21:23.110 --> 00:21:26.240
Same thing if we're
accessing a shared image.

00:21:26.330 --> 00:21:30.280
It's just a relative URL if we're
accessing another HTML page,

00:21:30.280 --> 00:21:31.510
too, if you want to link to that.

00:21:31.620 --> 00:21:34.730
So it's basically plug and
play with content that you

00:21:34.730 --> 00:21:36.340
would have on your website.

00:21:36.640 --> 00:21:38.900
Let me show you one more page.

00:21:40.900 --> 00:22:56.800
[Transcript missing]

00:22:57.390 --> 00:22:59.780
This is what's going to come
up right here at the top,

00:22:59.780 --> 00:23:02.520
and also what's going to
come up here in the menu.

00:23:02.520 --> 00:23:04.770
So that's why this is something
that we want to be localized.

00:23:04.930 --> 00:23:07.240
And I'll show you how to
localize that in just a minute.

00:23:07.280 --> 00:23:08.880
The book type is always
going to be three.

00:23:08.880 --> 00:23:13.070
That's actually just the version
number of the book format.

00:23:13.240 --> 00:23:17.580
The icon path-- we actually
named our icon lowercase,

00:23:17.580 --> 00:23:18.900
and it was actually a JPEG.

00:23:18.900 --> 00:23:20.700
Let me show you where that was.

00:23:20.700 --> 00:23:22.700
Back in Finder--

00:23:22.900 --> 00:23:36.600
[Transcript missing]

00:23:37.320 --> 00:23:40.770
So our access page is
going to be shoeshelp.html,

00:23:40.770 --> 00:23:43.400
and that's right in here,
and that's only relative

00:23:43.560 --> 00:23:45.190
to the Elk Barrage folder.

00:23:45.310 --> 00:23:48.420
These next three keys are about a
little bit more advanced features

00:23:48.480 --> 00:23:49.670
that we'll get to in a minute.

00:23:49.850 --> 00:23:52.380
For the purpose of this demo,
I'm not going to be using them,

00:23:52.610 --> 00:23:54.770
so I'm going to delete them,
and it's important that

00:23:54.820 --> 00:23:56.060
you do that in the seed.

00:23:56.310 --> 00:23:58.350
Help Viewer at the moment is
having a little bit of trouble

00:23:58.350 --> 00:24:01.310
with empty strings in this file,
so for the seed only,

00:24:01.320 --> 00:24:03.500
go ahead and delete these.

00:24:03.630 --> 00:24:07.090
The identifier is going to be a
unique way that Help Viewer and your

00:24:07.200 --> 00:24:09.260
application can refer to your help book.

00:24:09.510 --> 00:24:12.040
And we have the convention here
that we suggest that you follow,

00:24:12.040 --> 00:24:15.240
which is com.yourcompany.myapp.help.

00:24:15.250 --> 00:24:19.690
So in this case,
my fake company is called Kelly Soft,

00:24:19.690 --> 00:24:22.150
and my app is Shoes.

00:24:22.810 --> 00:24:25.060
The bundle name is going to be
whatever we called our bundle.

00:24:25.210 --> 00:24:27.280
So it's shoes.help.

00:24:27.340 --> 00:24:28.900
And so the bundle name is
just going to be this part.

00:24:28.900 --> 00:24:30.890
It's going to be shoes.

00:24:32.860 --> 00:24:36.470
These next few values are just
things that are standard in bundles,

00:24:36.470 --> 00:24:37.860
and we're just going
to leave those as is.

00:24:37.860 --> 00:24:39.270
So let's skip over those.

00:24:39.340 --> 00:24:40.880
And versioning is important.

00:24:40.880 --> 00:24:43.660
If you're making changes to your
help content and you want to keep

00:24:43.660 --> 00:24:45.960
track of which version is which,
just like if you're making

00:24:45.960 --> 00:24:48.330
changes to your application,
then you can use these versions

00:24:48.430 --> 00:24:51.620
to keep track of which version of
your content you're talking about.

00:24:51.620 --> 00:24:54.970
And the development region is
another one that you're probably

00:24:54.970 --> 00:24:56.160
going to want to keep as ENUS.

00:24:56.160 --> 00:24:59.070
So great, we've edited our Info.plist.

00:24:59.100 --> 00:25:00.140
We have our content.

00:25:00.140 --> 00:25:01.700
I just want to do one
more thing in the bundle,

00:25:02.190 --> 00:25:06.970
And that's to come back here
and edit the Info.plist.strings.

00:25:08.040 --> 00:25:11.750
So HPD book title was that the one key
in the Info.plist that I showed you

00:25:11.750 --> 00:25:14.440
that comes up at the top of Help Viewer.

00:25:14.480 --> 00:25:15.950
And this is how we're
going to localize it.

00:25:16.160 --> 00:25:18.320
So for English,
it's going to be shoes help.

00:25:18.340 --> 00:25:22.170
If I was editing the Info.plist.strings
in the German Elproj,

00:25:22.300 --> 00:25:24.320
then this would be shoes hilfa.

00:25:24.450 --> 00:25:27.580
Of course, this is English,
so we'll leave it as help.

00:25:28.400 --> 00:25:31.460
So we've put our content in here,
we made our info playlist,

00:25:31.530 --> 00:25:34.510
we localized the one key,
it looks like our bundle is good

00:25:34.510 --> 00:25:37.340
to go so I'm going to go ahead
and add it to our Xcode project.

00:25:37.340 --> 00:25:41.900
All I'm going to do is just drag
it into Xcode to the resources.

00:25:41.900 --> 00:25:45.120
I don't need to copy it because
I already put it in that folder but

00:25:45.120 --> 00:25:48.920
I do want to make sure that I choose
to create folder references that way

00:25:48.920 --> 00:25:53.530
if I add or remove any files on disk
either in the finder or if I'm working

00:25:53.600 --> 00:25:58.660
on my HTML and some other HTML editor,
Xcode will show you the new files

00:25:58.770 --> 00:26:02.380
in the left-hand side as opposed
to if I chose groups then I would

00:26:02.380 --> 00:26:03.900
have to add the new files myself.

00:26:04.010 --> 00:26:06.670
So let's do create folder
references and add it.

00:26:06.670 --> 00:26:07.900
We're almost there.

00:26:08.020 --> 00:26:11.500
I'd like to edit the info
playlist for the application now.

00:26:11.730 --> 00:26:15.570
This is not to be confused with the info
playlist that was in the help bundle.

00:26:15.770 --> 00:26:17.090
There's a couple keys to add here.

00:26:17.130 --> 00:26:20.310
Again I'm going to right click
and show the raw keys and values

00:26:20.310 --> 00:26:23.660
so we can see what we're talking
about and I want to add two here.

00:26:23.900 --> 00:26:27.890
I want to add CFBundle help book folder

00:26:29.780 --> 00:26:34.820
And I want to add
CFBundle Help Book Name.

00:26:35.010 --> 00:26:39.220
The folder is going to be the whole
name of the bundle that we just made,

00:26:39.220 --> 00:26:40.820
shoes.help.

00:26:40.820 --> 00:26:43.300
And the book name is going
to be that identifier that we

00:26:43.300 --> 00:26:44.860
made in the last Info.plist.

00:26:44.880 --> 00:26:47.420
And that needs to be exact,
and it is case sensitive.

00:26:47.510 --> 00:26:53.850
So com.kellisoft.shoes.help.

00:26:54.040 --> 00:26:55.060
All right, we've done that.

00:26:55.090 --> 00:26:55.840
Now one more thing.

00:26:55.840 --> 00:26:58.220
You'll notice that when we
opened Help the last time,

00:26:58.260 --> 00:27:00.380
the menu actually said
New Application Help.

00:27:00.410 --> 00:27:01.660
Well, that's no good.

00:27:01.700 --> 00:27:03.940
The way that we're going to
change that is in the ZIP.

00:27:04.030 --> 00:27:07.280
So I double clicked it to
open it in Interface Builder.

00:27:07.410 --> 00:27:09.100
My menu is down here.

00:27:09.150 --> 00:27:12.620
And what I want to do is just double
click in here and edit this and make

00:27:12.650 --> 00:27:16.910
this shoes help so that our users
know that it's not a new application.

00:27:16.990 --> 00:27:19.740
It is, in fact, shoes.

00:27:20.640 --> 00:27:24.030
So now we have made our bundle,
we put it in the project,

00:27:24.110 --> 00:27:27.940
we edited our ZIP in the application info
P list so it knows which book to call,

00:27:27.940 --> 00:27:33.490
and let's go ahead and clean
our project and run it again.

00:27:34.620 --> 00:27:35.480
Let's get some shoes.

00:27:35.560 --> 00:27:38.530
All right, so... These shoes suck.

00:27:38.820 --> 00:27:40.600
Obviously, those shoes are no good,
but let's see if we have

00:27:40.690 --> 00:27:41.530
some help content now.

00:27:41.540 --> 00:27:43.860
So it does say Shoes Help,
which is what we wanted,

00:27:43.860 --> 00:27:45.630
and when we choose that, there it is.

00:27:45.780 --> 00:27:48.130
There's our help content,
just HTML that came up.

00:27:48.230 --> 00:27:50.980
Our users can now see that
this ridiculous app is based

00:27:50.980 --> 00:27:52.640
on a popular YouTube video.

00:27:52.640 --> 00:27:58.160
Our URLs take us right to another page,
and without having done

00:27:58.160 --> 00:28:00.440
any additional work,
we can actually already

00:28:00.440 --> 00:28:01.220
search our content.

00:28:01.820 --> 00:28:04.060
So if I go ahead and search for shoes,
I can do it here,

00:28:04.120 --> 00:28:05.440
I can do it in Help Viewer.

00:28:05.440 --> 00:28:09.700
I can also go up here to the Help menu,
and I can search for parents, let's say.

00:28:09.700 --> 00:28:11.900
Learn how to deal with them,
it's a tricky issue.

00:28:11.900 --> 00:28:15.560
And we didn't have to do any of that
in our content or in our bundle.

00:28:15.560 --> 00:28:18.650
Help Viewer, behind the scenes,
is indexing all of our content

00:28:18.650 --> 00:28:21.240
and putting it there so we can
search it quickly and easily.

00:28:21.240 --> 00:28:24.740
And that's all that it takes to
add help to your application.

00:28:24.780 --> 00:28:26.820
Let's go back to slides.

00:28:26.820 --> 00:28:27.400
Thanks.

00:28:33.420 --> 00:28:34.130
Thank you very much, Daniel.

00:28:34.140 --> 00:28:42.310
All right, so in Help Viewer,
there are a number of things that make

00:28:42.670 --> 00:28:47.630
Help Viewer better than just using
Safari for all of your HTML help.

00:28:47.700 --> 00:28:52.600
One of them is remote updating.

00:28:52.600 --> 00:28:55.360
You can put your content,
which you have locally,

00:28:55.360 --> 00:28:58.240
you've shipped with your application,
you can put that online,

00:28:58.240 --> 00:29:01.060
and when the date changes,
as you can see here,

00:29:01.160 --> 00:29:03.620
this one is from January and
that one is from today,

00:29:03.620 --> 00:29:08.520
when you have that situation,
Help Viewer will recognize it,

00:29:08.520 --> 00:29:10.160
and if the user's
connected to the Internet,

00:29:10.160 --> 00:29:14.770
they will download the stuff
actually in the background,

00:29:14.780 --> 00:29:17.350
actually on the fly is
the right way to say that.

00:29:18.860 --> 00:29:22.960
The way that it does that is
it uses the HPDbook remote URL.

00:29:22.960 --> 00:29:25.320
Now, this is included in the
Info.plist for the book.

00:29:25.390 --> 00:29:29.640
And you get to choose what that URL is,
obviously.

00:29:29.640 --> 00:29:32.440
You will put your help
bundle on a server somewhere.

00:29:32.440 --> 00:29:37.470
And then HelpViewer will take that
and concatenate the path on disk to

00:29:37.530 --> 00:29:40.430
the file that you're talking about.

00:29:40.460 --> 00:29:47.690
You are loading index.html,
or you're loading pages2 slash file.html.

00:29:47.700 --> 00:29:50.660
And in that case,
it will append it to the URL,

00:29:50.660 --> 00:29:52.680
and then you'll get--

00:29:52.870 --> 00:29:55.720
The result, assuming you're connected
to the internet.

00:29:55.830 --> 00:29:59.070
So let me show you how
that might actually work.

00:29:59.710 --> 00:30:02.940
If you have both local
and remote content,

00:30:02.960 --> 00:30:07.080
and the remote content is newer,
then Help Viewer is going to obviously

00:30:07.080 --> 00:30:08.730
know that the local content is there.

00:30:08.730 --> 00:30:10.060
It's version 1.0.

00:30:10.060 --> 00:30:13.700
And it's going to look in the cache
to see if there's anything newer.

00:30:13.700 --> 00:30:15.000
There isn't.

00:30:15.080 --> 00:30:18.240
And so it's going to
check remotely and say,

00:30:18.240 --> 00:30:21.900
hey,
has this been modified since January 1st?

00:30:22.070 --> 00:30:23.400
Well, in this case, it has.

00:30:23.400 --> 00:30:26.910
So the cache is actually going
to get filled up with a version,

00:30:26.910 --> 00:30:28.340
the newest version.

00:30:28.340 --> 00:30:31.720
and then that's the one
that we're going to use.

00:30:32.560 --> 00:30:34.260
A different case, local only.

00:30:34.330 --> 00:30:39.190
You don't have any remote content,
but you've included a URL in

00:30:39.190 --> 00:30:43.690
the remote URL version,
or key in your Info.plist.

00:30:43.830 --> 00:30:48.240
So in this case, Help viewer knows about
the local version.

00:30:48.440 --> 00:30:50.800
looks in the cache, finds nothing.

00:30:50.820 --> 00:30:55.100
If you're connected to the internet,
it will look remotely.

00:30:55.100 --> 00:30:57.580
But since it finds nothing,
it will go ahead and

00:30:57.580 --> 00:30:58.980
use the local version.

00:31:00.010 --> 00:31:02.950
and I will be presenting a series
of videos on the new format.

00:31:03.050 --> 00:31:06.180
For more information,
please visit www.apple.com/help.

00:31:06.280 --> 00:31:06.810
Thank you.

00:31:31.000 --> 00:31:32.740
All right.

00:31:32.740 --> 00:31:36.110
So in that situation,
there's nothing locally,

00:31:36.110 --> 00:31:37.640
but we've clicked a link or something.

00:31:37.640 --> 00:31:39.730
So Help Viewer knows the page
should be there and knows

00:31:39.750 --> 00:31:40.890
where it's supposed to be.

00:31:41.260 --> 00:31:45.000
So in this case, it looks in the cache,
and it finds something,

00:31:45.030 --> 00:31:46.930
but it wants to make sure
that it's the newest one.

00:31:46.940 --> 00:31:49.000
In this case, it is.

00:31:49.000 --> 00:31:50.990
So it doesn't need to
download anything new.

00:31:51.170 --> 00:31:53.910
It just uses the one that's in the cache.

00:31:54.020 --> 00:31:56.190
Check mark, good to go.

00:31:56.720 --> 00:31:59.490
So the way that you set this up,
it's really simple.

00:31:59.500 --> 00:32:01.110
There's actually just three simple steps.

00:32:01.420 --> 00:32:03.430
The first one, put your help online.

00:32:03.690 --> 00:32:07.200
Figure out where the URL is,
and then include that in the book's

00:32:07.200 --> 00:32:09.790
Info.plist in HPDbook Remote URL.

00:32:10.090 --> 00:32:15.420
And the third step, well,
there is no third step.

00:32:15.630 --> 00:32:19.440
Yeah, that's old.

00:32:19.440 --> 00:32:19.440
OK.

00:32:20.540 --> 00:32:21.850
I'd also like to talk about anchors.

00:32:21.950 --> 00:32:27.090
This is one of the other advantages
of Help Viewer over using just Safari.

00:32:28.130 --> 00:32:32.120
So when you have a page,
you can include an anchor in it.

00:32:32.120 --> 00:32:37.360
And it's just a name equals and
then the text of your anchor.

00:32:37.370 --> 00:32:39.180
There's the anchor right there.

00:32:39.230 --> 00:32:43.150
And then from another page,
you can use a help:anchor link.

00:32:43.340 --> 00:32:45.840
So you include the same
text as the anchor.

00:32:46.130 --> 00:32:51.210
And then you also include the book ID,
which we've been talking

00:32:51.680 --> 00:32:53.100
about a bunch here.

00:32:53.310 --> 00:32:54.270
I used kellysoft.shoes.help
as this example.

00:32:54.800 --> 00:32:59.790
So now you can click on the second
link on page two and go to page one.

00:33:00.030 --> 00:33:02.270
But you don't need to know
what page one is called.

00:33:02.440 --> 00:33:07.380
And this is also useful for going from
an application into your help content.

00:33:07.450 --> 00:33:10.490
Your application developers don't
need to have to know-- or yeah,

00:33:10.490 --> 00:33:13.580
they don't need to know what's
going on in your help content.

00:33:13.780 --> 00:33:15.460
They're probably done
by different people.

00:33:15.480 --> 00:33:20.990
And so if there's just a single token
that goes one to the other and maps,

00:33:21.210 --> 00:33:25.810
then your help content can figure
it all out and not even worry about

00:33:25.820 --> 00:33:28.570
interacting with the application.

00:33:28.710 --> 00:33:30.250
So notice the anchor.

00:33:30.450 --> 00:33:31.550
This says it's not localized.

00:33:31.690 --> 00:33:33.680
It's a good idea not to localize them.

00:33:33.680 --> 00:33:36.270
But it is in the localized
section of your folder.

00:33:36.410 --> 00:33:39.020
So if you wanted to localize them,
you could.

00:33:39.020 --> 00:33:40.320
But that would be crazy.

00:33:40.320 --> 00:33:41.770
Don't do that.

00:33:41.910 --> 00:33:43.530
Multiple results behave like a search.

00:33:43.620 --> 00:33:45.890
You don't have to include
just one anchor per page.

00:33:46.020 --> 00:33:48.420
You can include an anchor
on four different pages.

00:33:48.670 --> 00:33:51.430
And so now you have a link--
now you have an anchor.

00:33:51.780 --> 00:33:56.460
And you can see that on, say,
an index page, you might want your user

00:33:56.550 --> 00:33:58.100
to have information.

00:33:58.100 --> 00:34:00.500
But there's four different
pages that are all relevant.

00:34:00.500 --> 00:34:02.000
So they just click the single link.

00:34:02.000 --> 00:34:03.360
And then they get search results.

00:34:03.450 --> 00:34:06.000
Now they can see, oh,
these are four different pages that

00:34:06.000 --> 00:34:08.740
are all relevant to my request.

00:34:08.740 --> 00:34:12.620
And then the last thing,
the reason that this is beneficial

00:34:12.620 --> 00:34:14.000
is you don't need to know the path.

00:34:14.000 --> 00:34:15.720
You don't have to know
what the file name is.

00:34:15.800 --> 00:34:19.540
And actually,
we have definitely found it at Apple.

00:34:19.710 --> 00:34:24.220
If you use paths directly to links-- if
you use paths to a specific file name,

00:34:24.370 --> 00:34:25.680
it's likely to change.

00:34:25.720 --> 00:34:29.010
The help content gets revved
just like the application does.

00:34:29.200 --> 00:34:32.380
So the fewest number of
changes that you need to make,

00:34:32.380 --> 00:34:34.310
the better.

00:34:34.830 --> 00:34:37.730
Daniel will show you about
anchors in just a second.

00:34:38.630 --> 00:34:40.910
So now I wanted to talk about
the way that we've changed

00:34:41.000 --> 00:34:43.540
Help Viewer in Snow Leopard.

00:34:43.570 --> 00:34:46.230
It used to be that there was Help Viewer,
and Help Viewer was just

00:34:46.270 --> 00:34:47.420
this monolithic application.

00:34:47.520 --> 00:34:49.600
There was Help Viewer,
and there was a framework,

00:34:49.600 --> 00:34:50.560
and that was it.

00:34:50.560 --> 00:34:57.850
Well, we had to make some changes in
order for the Help menu to work

00:34:57.850 --> 00:35:01.890
and to have the same results in
Help Viewer and in the Help menu.

00:35:01.890 --> 00:35:01.890
So now there's Help Viewer.

00:35:02.190 --> 00:35:04.780
it looks the same,
but it is slightly different.

00:35:04.790 --> 00:35:07.880
HelpView is responsible
for launching three things.

00:35:07.880 --> 00:35:12.120
Launching in the case
that you are on a website,

00:35:12.160 --> 00:35:16.660
say, and you get a help colon link,
and now you've brought your

00:35:16.660 --> 00:35:21.900
users into your help content,
or an application and you pass

00:35:21.900 --> 00:35:24.420
a help URL to NSWorkspace.

00:35:24.720 --> 00:35:26.680
In either of those cases,
HelpViewer will open.

00:35:26.680 --> 00:35:27.810
It will handle the URL.

00:35:27.820 --> 00:35:29.920
It will figure out what needs to happen.

00:35:29.920 --> 00:35:31.410
The second is HTML display.

00:35:31.450 --> 00:35:35.180
The web view,
which is what displays all the content,

00:35:35.180 --> 00:35:36.350
that's included in HelpViewer.

00:35:36.430 --> 00:35:39.980
And everything to do with that is
handled by the HelpViewer process.

00:35:39.980 --> 00:35:41.640
And then fetching remote pages.

00:35:41.680 --> 00:35:44.080
All the previous slides
we talked about fetching,

00:35:44.170 --> 00:35:47.280
that all happens in HelpViewer.

00:35:48.780 --> 00:35:51.950
Now in Snow Leopard,
there is a help daemon.

00:35:52.020 --> 00:35:53.570
We call it helpD.

00:35:53.960 --> 00:35:56.980
Pretty self-explanatory,
as far as names go anyway.

00:35:57.090 --> 00:35:59.770
It's responsible for indices,
making the indices,

00:35:59.770 --> 00:36:02.440
or dealing with them if
you provide them yourself.

00:36:02.520 --> 00:36:04.700
And with these indices
it does the searching.

00:36:04.920 --> 00:36:07.910
So all of your search queries,
all of your anchor searches,

00:36:08.170 --> 00:36:09.550
all of those happen in helpD.

00:36:09.680 --> 00:36:13.350
Help Viewer understands that they need
to happen and then passes them over.

00:36:13.460 --> 00:36:17.860
And it also deals with book registration,
which has become less and less

00:36:17.870 --> 00:36:22.600
relevant because it's done for you
automatically in NS Help Manager.

00:36:23.180 --> 00:36:24.300
But that's where it's handled.

00:36:24.330 --> 00:36:25.340
OK.

00:36:25.380 --> 00:36:27.160
Now there's a couple of
things that we've added to

00:36:27.160 --> 00:36:29.670
Snow Leopard specifically for you,
not just in general,

00:36:29.730 --> 00:36:31.140
but specifically for developers.

00:36:31.170 --> 00:36:33.120
And the first one is a developer mode.

00:36:33.170 --> 00:36:37.680
It disables the floating window,
and it provides for Help Viewer

00:36:37.710 --> 00:36:41.180
to be an application with
a dock icon and a menu bar.

00:36:41.220 --> 00:36:43.980
The way that you turn this on
is you can say defaults write,

00:36:44.040 --> 00:36:48.260
com.apple.helpviewer, dev mode yes,
just like in Safari.

00:36:48.310 --> 00:36:52.920
And yeah,
did I mention that it doesn't float?

00:36:52.920 --> 00:36:55.480
OK.

00:36:55.900 --> 00:36:57.410
I don't want to encourage
that necessarily,

00:36:57.420 --> 00:36:59.320
but we understand that
there's two different types

00:36:59.320 --> 00:37:00.690
of people using Help Viewer.

00:37:00.700 --> 00:37:03.250
There's your mother and
possibly your grandmother,

00:37:03.280 --> 00:37:04.490
if she's savvy.

00:37:04.490 --> 00:37:07.930
And there's you,
and you use Help Viewer all day.

00:37:07.930 --> 00:37:11.570
So we understand that having a window
that doesn't layer when you're developing

00:37:11.670 --> 00:37:15.060
help content can be really annoying,
so we added this feature for you.

00:37:15.470 --> 00:37:16.080
Okay.

00:37:16.270 --> 00:37:19.970
And then there's also a whole
bunch of logging that we've added.

00:37:19.970 --> 00:37:24.680
It certainly can happen that
there's a problem somewhere,

00:37:24.680 --> 00:37:27.790
either with the network or your
help book isn't set up quite right,

00:37:27.850 --> 00:37:31.030
and we want you to be
able to diagnose that.

00:37:31.230 --> 00:37:36.600
And so the way that we have done that
is we added a whole bunch of logging,

00:37:36.600 --> 00:37:40.730
and you can choose either
0 to 3 in the HelpD case,

00:37:40.730 --> 00:37:41.970
0 to 4.

00:37:42.860 --> 00:37:43.740
Play around with this.

00:37:43.740 --> 00:37:45.730
I keep mine on three and three.

00:37:45.860 --> 00:37:47.720
Four on Help,
they actually list all of the

00:37:47.720 --> 00:37:50.270
search results for each search,
which gets really verbose if

00:37:50.270 --> 00:37:51.500
you're doing a lot of searching.

00:37:51.670 --> 00:37:54.730
So I found that a little too much.

00:37:55.300 --> 00:37:57.760
All right, now Daniel's going to come up
and show you how to add help

00:37:57.760 --> 00:38:00.950
buttons to your application,
contextual help buttons.

00:38:03.200 --> 00:39:02.700
[Transcript missing]

00:39:02.870 --> 00:39:03.590
Let's get them!

00:39:03.700 --> 00:39:05.690
That's one option.

00:39:05.750 --> 00:39:09.030
The other place that we maybe want to put
this button is here in the preferences.

00:39:09.120 --> 00:39:12.300
So we allow our users to actually
choose what they think is expensive,

00:39:12.440 --> 00:39:15.840
and let's just link them to the
same page here and give them some

00:39:15.900 --> 00:39:20.200
idea of what to do as far as setting
what price they think is expensive.

00:39:20.200 --> 00:39:23.240
So let's quit our application
and go ahead and do that.

00:39:23.240 --> 00:39:26.300
And I actually want to add those
buttons in two different ways.

00:39:26.330 --> 00:39:28.380
I'm going to add the one in
the preferences window first.

00:39:28.440 --> 00:39:31.590
I'm going to double click the zip file,
and that's going to take us

00:39:31.590 --> 00:39:34.460
back to interface builder.

00:39:34.460 --> 00:39:37.380
And so here's our preferences window.

00:39:39.210 --> 00:39:42.780
And I can find the Help button
just by searching for it,

00:39:42.850 --> 00:39:44.790
dragging it over.

00:39:45.000 --> 00:41:15.900
[Transcript missing]

00:41:17.880 --> 00:41:20.030
So here's the methods
that we're interested in.

00:41:20.170 --> 00:41:21.850
Open Help Anchor in a particular book.

00:41:21.970 --> 00:41:23.380
That's what we're going to be using.

00:41:23.400 --> 00:41:26.580
You could also use Find String if
you want to have Help Viewer open

00:41:26.580 --> 00:41:28.540
and immediately search for something.

00:41:28.560 --> 00:41:31.710
And then there's some pretty cool stuff
down here about context-sensitive help.

00:41:31.770 --> 00:41:33.940
So if you're interested in that,
I definitely encourage you to

00:41:34.010 --> 00:41:35.970
take a look at NS Help Manager.

00:41:36.600 --> 00:41:38.710
So we're going to be using
Open Help Anchor in book,

00:41:38.710 --> 00:41:40.780
but what anchor are we going to be using?

00:41:41.090 --> 00:41:42.570
Well, it needs to be in our content.

00:41:42.790 --> 00:41:44.710
Let's go ahead and put it there.

00:41:44.980 --> 00:41:48.780
So I'm going to delve
down into our content.

00:41:49.690 --> 00:41:52.840
And I want to edit expensive.html.

00:41:52.890 --> 00:41:56.510
And just right inside the body,
I'm going to add an anchor tag.

00:42:02.460 --> 00:42:03.500
Close it up.

00:42:03.510 --> 00:42:08.210
And I'm going to use this exact
string in my application to

00:42:08.210 --> 00:42:10.260
refer to this particular anchor.

00:42:10.280 --> 00:42:11.760
So I'm going to put it right in here.

00:42:11.760 --> 00:42:15.240
And then the book is going to be referred
to by that same identifier that we used

00:42:15.360 --> 00:42:17.420
in the Info.plist in the last demo.

00:42:17.490 --> 00:42:21.800
So that's com.kellysoft.shoes.help.

00:42:21.800 --> 00:42:23.720
And again, it is case sensitive.

00:42:23.970 --> 00:42:26.400
So now we've added our anchor.

00:42:26.410 --> 00:42:28.200
Let's go back to IB.

00:42:28.270 --> 00:42:30.330
And we're going to wire it up.

00:42:32.300 --> 00:43:01.900
[Transcript missing]

00:43:02.200 --> 00:43:04.640
and here's what we're
concerned with displaying help.

00:43:04.680 --> 00:43:06.620
There's an alert show
help delegate method.

00:43:06.740 --> 00:43:09.480
If you're new to the system,
delegates work like this.

00:43:09.510 --> 00:43:13.430
A lot of Cocoa classes allow you to
set a delegate object and later on

00:43:13.430 --> 00:43:17.260
when they're doing certain things,
they call specific selectors on the

00:43:17.260 --> 00:43:21.360
object you said was the delegate and your
delegate is supposed to respond to them.

00:43:21.410 --> 00:43:23.600
In this case,
we're going to do alert show help.

00:43:23.880 --> 00:43:25.720
So here's a little bit
of information about it.

00:43:25.750 --> 00:43:29.230
Our delegate method needs to look exactly
like this and actually I've already gone

00:43:29.230 --> 00:43:32.060
ahead and implemented it right down here.

00:43:32.180 --> 00:43:35.200
So that means when the
button in NSAlert is clicked,

00:43:35.240 --> 00:43:39.480
it knows who the delegate is and
it's going to call this method on it.

00:43:39.490 --> 00:43:41.000
I set the delegate right here.

00:43:41.100 --> 00:43:42.340
Let's uncomment that.

00:43:42.370 --> 00:43:45.910
So the delegate's going to be
this object and I also want to set

00:43:45.910 --> 00:43:50.080
show's help to yes and that's going
to tell it to display the button.

00:43:50.080 --> 00:43:54.060
Let's go ahead and clean it out.

00:43:56.020 --> 00:43:58.720
And run it again.

00:43:58.780 --> 00:44:00.340
Let's get some shoes.

00:44:00.400 --> 00:44:02.230
And let's look at our preferences again.

00:44:02.410 --> 00:44:04.430
Great, now our button is there.

00:44:04.590 --> 00:44:06.020
And if we-- These shoes suck.

00:44:06.040 --> 00:44:08.090
If we find another one of
these dialogs-- These shoes--

00:44:08.090 --> 00:44:09.790
these shoes-- these shoes rule.

00:44:09.910 --> 00:44:11.000
There it is again.

00:44:11.060 --> 00:44:13.070
Now when I click it,
it should take me right to the

00:44:13.170 --> 00:44:14.290
page where I added that anchor.

00:44:14.380 --> 00:44:15.850
But in this case, it's not going to work.

00:44:16.070 --> 00:44:18.100
And I'm going to tell you why.

00:44:19.200 --> 00:44:20.870
So I guess it did work, actually.

00:44:21.020 --> 00:44:23.460
But it shouldn't have.

00:44:23.460 --> 00:44:27.930
One thing that I want you to be aware
of is that because we're indexing on the

00:44:27.930 --> 00:44:31.100
fly and you're not making your own index,
Help Viewer in the seed is not

00:44:31.100 --> 00:44:35.020
currently aware of any changes
that you might make in your HTML.

00:44:35.020 --> 00:44:36.760
It's not going to know to reindex.

00:44:36.800 --> 00:44:38.630
It might change this in the future.

00:44:38.890 --> 00:44:42.170
We invite your feedback if you'd like
to give it to us after in the lab.

00:44:42.330 --> 00:44:45.500
But if you run into a case where
you changed something in your

00:44:45.500 --> 00:44:48.140
content and it's not showing up,
your searches aren't

00:44:48.140 --> 00:44:50.110
working exactly right,
I want to show you how you

00:44:50.110 --> 00:44:51.400
can get rid of the cache.

00:44:51.430 --> 00:44:53.550
An easy way to do that is in terminal.

00:44:53.650 --> 00:44:57.780
We're going to just remove the folder
that's at tilde slash libraries

00:44:58.510 --> 00:45:02.690
library caches com.apple.helpd.

00:45:02.760 --> 00:45:03.780
And it's not there.

00:45:03.910 --> 00:45:07.490
But if it was there,
that would get rid of it.

00:45:07.550 --> 00:45:08.600
Oh, yeah.

00:45:08.900 --> 00:45:09.580
Thank you.

00:45:09.610 --> 00:45:10.230
It was there.

00:45:10.350 --> 00:45:11.560
It's called helpd.

00:45:11.560 --> 00:45:13.360
So that got rid of
everything inside of it,

00:45:13.360 --> 00:45:15.390
included the generated indices.

00:45:15.410 --> 00:45:19.900
And now you'd be able to refresh
and see your latest content.

00:45:19.910 --> 00:45:24.120
The other thing that you want to
do is to make sure that you kill

00:45:24.120 --> 00:45:27.410
helpd because it's already started.

00:45:27.420 --> 00:45:28.220
It has some state.

00:45:28.220 --> 00:45:29.880
And you need to get rid of that.

00:45:29.880 --> 00:45:33.000
And if you ran into the
situation where this wasn't

00:45:33.000 --> 00:45:36.780
coming up-- The issues are $300.

00:45:36.860 --> 00:45:41.310
Then that would clear out the cache
and allow you to properly search and

00:45:41.360 --> 00:45:42.990
get to the content that you want.

00:45:43.260 --> 00:45:47.900
So that's how you add help buttons in
two different ways to your application.

00:45:47.900 --> 00:45:50.080
And it's also how you use-- use anchors.

00:45:50.080 --> 00:45:50.580
Thank you.

00:45:50.580 --> 00:45:52.280
Let's go back to slides.

00:46:02.920 --> 00:46:03.660
Can you hear me?

00:46:03.670 --> 00:46:04.890
Oh, there we go.

00:46:04.890 --> 00:46:07.340
Okay.

00:46:07.360 --> 00:46:09.640
All right, so we've mentioned this
a couple times now.

00:46:09.640 --> 00:46:12.340
Help Viewer is not done for Snow Leopard.

00:46:12.370 --> 00:46:14.940
There are a few things
that still need work,

00:46:14.960 --> 00:46:18.370
and so we wanted to let you know so that
you don't bang your head against a wall.

00:46:18.470 --> 00:46:21.640
First of all, you need to make sure that
you pull out empty values in

00:46:21.640 --> 00:46:24.080
the info.p list for a book.

00:46:24.800 --> 00:47:36.200
[Transcript missing]

00:47:37.380 --> 00:47:39.120
So that's pretty much it.

00:47:39.310 --> 00:47:40.840
Help is fantastic.

00:47:40.900 --> 00:47:43.900
We want you to use it,
and your users want you to use it.

00:47:43.900 --> 00:47:46.590
It makes your app more professional,
and it makes your users better

00:47:46.590 --> 00:47:49.820
able to use your app and to
become expert users of it,

00:47:50.050 --> 00:47:53.170
which breeds love, I think,
of your application.

00:47:53.180 --> 00:47:56.840
So help bundles rock,
and they are Snow Leopard only.

00:47:56.840 --> 00:47:59.730
So if you're going to be
releasing a Snow Leopard only app

00:47:59.820 --> 00:48:03.510
when Snow Leopard is released,
then you can use help bundles.

00:48:04.770 --> 00:48:07.580
Going forward, we'll be using help
bundles in the future,

00:48:07.580 --> 00:48:10.540
and we will be deprecating
the old--in fact,

00:48:10.540 --> 00:48:13.400
consider them deprecated
now--the help folders.

00:48:13.610 --> 00:48:16.410
Obviously,
if you need to release an application

00:48:16.990 --> 00:48:20.890
that works on Tiger and Leopard,
then you're going to need to use

00:48:21.030 --> 00:48:23.030
help folders for the time being.

00:48:23.180 --> 00:48:26.530
And lastly, indexing is so 2007.

00:48:26.710 --> 00:48:29.900
You can--as long as your app is
shipping on Snow Leopard only,

00:48:29.900 --> 00:48:32.000
whether or not you use help bundles,
you don't need to put indexes in there.

00:48:32.000 --> 00:48:38.820
Because we'll make them for you.

00:48:39.670 --> 00:48:44.480
There is a lab if you have any questions,
or if something isn't working,

00:48:44.480 --> 00:48:46.540
or if you would just like
to come chat with us,

00:48:46.870 --> 00:48:48.020
because we might be lonely.

00:48:48.020 --> 00:48:48.500
I don't know.

00:48:48.500 --> 00:48:49.940
We don't tend to be lonely.

00:48:49.940 --> 00:48:51.880
Usually the labs have
a few people in them.

00:48:52.040 --> 00:48:53.540
But you're welcome to come.

00:48:53.540 --> 00:48:54.750
Please come talk to us.

00:48:54.910 --> 00:48:56.200
We'd love to see you.